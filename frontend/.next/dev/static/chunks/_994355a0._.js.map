{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyasaichava/Quantum_Markets/frontend/components/auth-button.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { usePrivy } from \"@privy-io/react-auth\"\r\nimport { LogOut, User } from \"lucide-react\"\r\n\r\nexport default function AuthButton() {\r\n    const { login, logout, authenticated, user } = usePrivy()\r\n\r\n    if (authenticated && user) {\r\n        return (\r\n            <div className=\"flex items-center gap-2\">\r\n                <div className=\"flex items-center gap-2 px-3 py-1.5 bg-muted rounded-full border border-border\">\r\n                    <User size={14} className=\"text-muted-foreground\" />\r\n                    <span className=\"text-sm font-medium\">\r\n                        {user.wallet?.address ? (\r\n                            <>\r\n                                {user.wallet.address.slice(0, 6)}...{user.wallet.address.slice(-4)}\r\n                            </>\r\n                        ) : (\r\n                            user.email?.address || \"User\"\r\n                        )}\r\n                    </span>\r\n                </div>\r\n                <button\r\n                    onClick={logout}\r\n                    className=\"p-2 hover:bg-muted rounded-lg transition-colors text-muted-foreground hover:text-foreground\"\r\n                    title=\"Logout\"\r\n                >\r\n                    <LogOut size={18} />\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <button\r\n            onClick={login}\r\n            className=\"px-4 py-2 bg-muted/50 dark:bg-muted/30 border border-border text-foreground rounded-lg text-sm font-medium hover:bg-muted dark:hover:bg-muted/60 hover:border-border/80 dark:hover:border-border/60 transition-all duration-200\"\r\n        >\r\n            Login/SignUp\r\n        </button>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAKe,SAAS;;IACpB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,aAAa,EAAE,IAAI,EAAE,GAAG,IAAA,sOAAQ;IAEvD,IAAI,iBAAiB,MAAM;QACvB,qBACI,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,6MAAI;4BAAC,MAAM;4BAAI,WAAU;;;;;;sCAC1B,6LAAC;4BAAK,WAAU;sCACX,KAAK,MAAM,EAAE,wBACV;;oCACK,KAAK,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG;oCAAG;oCAAI,KAAK,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;+CAGpE,KAAK,KAAK,EAAE,WAAW;;;;;;;;;;;;8BAInC,6LAAC;oBACG,SAAS;oBACT,WAAU;oBACV,OAAM;8BAEN,cAAA,6LAAC,uNAAM;wBAAC,MAAM;;;;;;;;;;;;;;;;;IAI9B;IAEA,qBACI,6LAAC;QACG,SAAS;QACT,WAAU;kBACb;;;;;;AAIT;GArCwB;;QAC2B,sOAAQ;;;KADnC"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyasaichava/Quantum_Markets/frontend/components/app-header.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { useTheme } from \"next-themes\"\nimport { Sun, Moon, Search, Bell, ArrowLeft } from \"lucide-react\"\nimport Image from \"next/image\"\nimport AuthButton from \"@/components/auth-button\"\n\ninterface AppHeaderProps {\n  title?: string\n  showBackButton?: boolean\n  onBackClick?: () => void\n  userBalance?: number\n}\n\nexport default function AppHeader({ title = \"Quantum Market\", showBackButton = false, onBackClick, userBalance: propUserBalance }: AppHeaderProps) {\n  const { theme, setTheme, resolvedTheme } = useTheme()\n  // Use prop if provided, otherwise use default mock balance\n  // In a real app, this would come from an API or context\n  const [userBalance, setUserBalance] = useState<number>(propUserBalance ?? 1000)\n  \n  useEffect(() => {\n    // Update balance if prop changes\n    if (propUserBalance !== undefined) {\n      setUserBalance(propUserBalance)\n    }\n  }, [propUserBalance])\n\n  const toggleTheme = () => {\n    const currentTheme = resolvedTheme || theme || \"light\"\n    setTheme(currentTheme === \"dark\" ? \"light\" : \"dark\")\n  }\n\n  const isDark = resolvedTheme === \"dark\" || theme === \"dark\"\n\n  return (\n    <header className=\"sticky top-0 z-50 border-b border-border/80 bg-background/80 backdrop-blur-md\">\n      <div className={`mx-auto px-6 py-3 flex items-center justify-between ${showBackButton ? \"max-w-4xl\" : \"max-w-7xl\"}`}>\n        <div className=\"flex items-center gap-3\">\n          {showBackButton && onBackClick && (\n            <button\n              onClick={onBackClick}\n              className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\n            >\n              <ArrowLeft size={20} />\n            </button>\n          )}\n          <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-80 transition-opacity cursor-pointer\">\n            <Image \n              src=\"/logo.jpg\" \n              alt=\"Quantum Market\" \n              width={28} \n              height={28} \n              className=\"rounded object-contain\"\n              priority\n            />\n            <span className=\"text-base font-semibold tracking-tight\">{title}</span>\n          </Link>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          {/* Utility Buttons */}\n          <div className=\"flex items-center gap-0.5\">\n            <button className=\"p-2 hover:bg-muted rounded-lg transition-colors text-muted-foreground hover:text-foreground\" title=\"Search\">\n              <Search size={18} />\n            </button>\n            <button className=\"p-2 hover:bg-muted rounded-lg transition-colors text-muted-foreground hover:text-foreground relative\" title=\"Notifications\">\n              <Bell size={18} />\n              <span className=\"absolute top-1.5 right-1.5 w-2 h-2 bg-foreground rounded-full animate-pulse\" />\n            </button>\n            <button\n              onClick={toggleTheme}\n              className=\"p-2 hover:bg-muted rounded-lg transition-colors text-muted-foreground hover:text-foreground\"\n              title={isDark ? \"Switch to light mode\" : \"Switch to dark mode\"}\n            >\n              {isDark ? <Sun size={18} /> : <Moon size={18} />}\n            </button>\n          </div>\n\n          {/* Wallet Balance and Auth Button */}\n          <div className=\"flex items-center gap-2 pl-2\">\n            {/* Wallet Balance - Always visible */}\n            <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-md bg-muted/50 border border-border/50\">\n              <span className=\"text-xs font-medium text-muted-foreground\">Balance</span>\n              <span className=\"text-sm font-semibold font-mono text-foreground\">${userBalance.toFixed(2)}</span>\n            </div>\n            <AuthButton />\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAPA;;;;;;;AAgBe,SAAS,UAAU,EAAE,QAAQ,gBAAgB,EAAE,iBAAiB,KAAK,EAAE,WAAW,EAAE,aAAa,eAAe,EAAkB;;IAC/I,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,IAAA,+JAAQ;IACnD,2DAA2D;IAC3D,wDAAwD;IACxD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAS,mBAAmB;IAE1E,IAAA,0KAAS;+BAAC;YACR,iCAAiC;YACjC,IAAI,oBAAoB,WAAW;gBACjC,eAAe;YACjB;QACF;8BAAG;QAAC;KAAgB;IAEpB,MAAM,cAAc;QAClB,MAAM,eAAe,iBAAiB,SAAS;QAC/C,SAAS,iBAAiB,SAAS,UAAU;IAC/C;IAEA,MAAM,SAAS,kBAAkB,UAAU,UAAU;IAErD,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAW,CAAC,oDAAoD,EAAE,iBAAiB,cAAc,aAAa;;8BACjH,6LAAC;oBAAI,WAAU;;wBACZ,kBAAkB,6BACjB,6LAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,6LAAC,gOAAS;gCAAC,MAAM;;;;;;;;;;;sCAGrB,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,6LAAC,2IAAK;oCACJ,KAAI;oCACJ,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;oCACV,QAAQ;;;;;;8CAEV,6LAAC;oCAAK,WAAU;8CAA0C;;;;;;;;;;;;;;;;;;8BAI9D,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAO,WAAU;oCAA8F,OAAM;8CACpH,cAAA,6LAAC,mNAAM;wCAAC,MAAM;;;;;;;;;;;8CAEhB,6LAAC;oCAAO,WAAU;oCAAuG,OAAM;;sDAC7H,6LAAC,6MAAI;4CAAC,MAAM;;;;;;sDACZ,6LAAC;4CAAK,WAAU;;;;;;;;;;;;8CAElB,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,OAAO,SAAS,yBAAyB;8CAExC,uBAAS,6LAAC,0MAAG;wCAAC,MAAM;;;;;6DAAS,6LAAC,6MAAI;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAK9C,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAA4C;;;;;;sDAC5D,6LAAC;4CAAK,WAAU;;gDAAkD;gDAAE,YAAY,OAAO,CAAC;;;;;;;;;;;;;8CAE1F,6LAAC,2IAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMvB;GA7EwB;;QACqB,+JAAQ;;;KAD7B"}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyasaichava/Quantum_Markets/frontend/components/ui/chart.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as RechartsPrimitive from 'recharts'\n\nimport { cn } from '@/lib/utils'\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: '', dark: '.dark' } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error('useChart must be used within a <ChartContainer />')\n  }\n\n  return context\n}\n\nfunction ChartContainer({\n  id,\n  className,\n  children,\n  config,\n  ...props\n}: React.ComponentProps<'div'> & {\n  config: ChartConfig\n  children: React.ComponentProps<\n    typeof RechartsPrimitive.ResponsiveContainer\n  >['children']\n}) {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-slot=\"chart\"\n        data-chart={chartId}\n        className={cn(\n          \"[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden\",\n          className,\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n}\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color,\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join('\\n')}\n}\n`,\n          )\n          .join('\\n'),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nfunction ChartTooltipContent({\n  active,\n  payload,\n  className,\n  indicator = 'dot',\n  hideLabel = false,\n  hideIndicator = false,\n  label,\n  labelFormatter,\n  labelClassName,\n  formatter,\n  color,\n  nameKey,\n  labelKey,\n}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n  React.ComponentProps<'div'> & {\n    hideLabel?: boolean\n    hideIndicator?: boolean\n    indicator?: 'line' | 'dot' | 'dashed'\n    nameKey?: string\n    labelKey?: string\n  }) {\n  const { config } = useChart()\n\n  const tooltipLabel = React.useMemo(() => {\n    if (hideLabel || !payload?.length) {\n      return null\n    }\n\n    const [item] = payload\n    const key = `${labelKey || item?.dataKey || item?.name || 'value'}`\n    const itemConfig = getPayloadConfigFromPayload(config, item, key)\n    const value =\n      !labelKey && typeof label === 'string'\n        ? config[label as keyof typeof config]?.label || label\n        : itemConfig?.label\n\n    if (labelFormatter) {\n      return (\n        <div className={cn('font-medium', labelClassName)}>\n          {labelFormatter(value, payload)}\n        </div>\n      )\n    }\n\n    if (!value) {\n      return null\n    }\n\n    return <div className={cn('font-medium', labelClassName)}>{value}</div>\n  }, [\n    label,\n    labelFormatter,\n    payload,\n    hideLabel,\n    labelClassName,\n    config,\n    labelKey,\n  ])\n\n  if (!active || !payload?.length) {\n    return null\n  }\n\n  const nestLabel = payload.length === 1 && indicator !== 'dot'\n\n  return (\n    <div\n      className={cn(\n        'border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl',\n        className,\n      )}\n    >\n      {!nestLabel ? tooltipLabel : null}\n      <div className=\"grid gap-1.5\">\n        {payload.map((item, index) => {\n          const key = `${nameKey || item.name || item.dataKey || 'value'}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n          const indicatorColor = color || item.payload.fill || item.color\n\n          return (\n            <div\n              key={item.dataKey}\n              className={cn(\n                '[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5',\n                indicator === 'dot' && 'items-center',\n              )}\n            >\n              {formatter && item?.value !== undefined && item.name ? (\n                formatter(item.value, item.name, item, index, item.payload)\n              ) : (\n                <>\n                  {itemConfig?.icon ? (\n                    <itemConfig.icon />\n                  ) : (\n                    !hideIndicator && (\n                      <div\n                        className={cn(\n                          'shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)',\n                          {\n                            'h-2.5 w-2.5': indicator === 'dot',\n                            'w-1': indicator === 'line',\n                            'w-0 border-[1.5px] border-dashed bg-transparent':\n                              indicator === 'dashed',\n                            'my-0.5': nestLabel && indicator === 'dashed',\n                          },\n                        )}\n                        style={\n                          {\n                            '--color-bg': indicatorColor,\n                            '--color-border': indicatorColor,\n                          } as React.CSSProperties\n                        }\n                      />\n                    )\n                  )}\n                  <div\n                    className={cn(\n                      'flex flex-1 justify-between leading-none',\n                      nestLabel ? 'items-end' : 'items-center',\n                    )}\n                  >\n                    <div className=\"grid gap-1.5\">\n                      {nestLabel ? tooltipLabel : null}\n                      <span className=\"text-muted-foreground\">\n                        {itemConfig?.label || item.name}\n                      </span>\n                    </div>\n                    {item.value && (\n                      <span className=\"text-foreground font-mono font-medium tabular-nums\">\n                        {item.value.toLocaleString()}\n                      </span>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nfunction ChartLegendContent({\n  className,\n  hideIcon = false,\n  payload,\n  verticalAlign = 'bottom',\n  nameKey,\n}: React.ComponentProps<'div'> &\n  Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {\n    hideIcon?: boolean\n    nameKey?: string\n  }) {\n  const { config } = useChart()\n\n  if (!payload?.length) {\n    return null\n  }\n\n  return (\n    <div\n      className={cn(\n        'flex items-center justify-center gap-4',\n        verticalAlign === 'top' ? 'pb-3' : 'pt-3',\n        className,\n      )}\n    >\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || 'value'}`\n        const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n        return (\n          <div\n            key={item.value}\n            className={\n              '[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3'\n            }\n          >\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }}\n              />\n            )}\n            {itemConfig?.label}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string,\n) {\n  if (typeof payload !== 'object' || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    'payload' in payload &&\n    typeof payload.payload === 'object' &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === 'string'\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 681, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyasaichava/Quantum_Markets/frontend/components/price-chart.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState, useMemo } from \"react\"\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Legend } from \"recharts\"\nimport { ChartContainer, ChartTooltip } from \"@/components/ui/chart\"\n\ninterface PriceDataPoint {\n  time: string\n  [key: string]: string | number\n}\n\ninterface PriceChartProps {\n  options: { name: string; amountBet: number }[]\n  data?: PriceDataPoint[] // Optional, will be generated if not provided\n}\n\nexport type TimePeriod = \"1H\" | \"1D\" | \"1W\" | \"1M\"\n\n// Generate static mock data for price history based on time period\nexport function generateMockPriceData(\n  options: { name: string; amountBet: number }[],\n  timePeriod: TimePeriod = \"1M\"\n): PriceDataPoint[] {\n  const data: PriceDataPoint[] = []\n  const totalPool = options.reduce((sum, opt) => sum + opt.amountBet, 0)\n  \n  // Current probabilities\n  const currentProbs = options.map(opt => (opt.amountBet / totalPool) * 100)\n  \n  // Determine number of data points and interval based on time period\n  let totalPoints: number\n  let intervalMinutes: number\n  \n  switch (timePeriod) {\n    case \"1H\":\n      totalPoints = 12 // 1 point per 5 minutes (12 points = 60 minutes)\n      intervalMinutes = 5\n      break\n    case \"1D\":\n      totalPoints = 24 // 1 point per hour\n      intervalMinutes = 60\n      break\n    case \"1W\":\n      totalPoints = 7 // 1 point per day\n      intervalMinutes = 24 * 60\n      break\n    case \"1M\":\n      totalPoints = 30 // 1 point per day\n      intervalMinutes = 24 * 60\n      break\n    default:\n      totalPoints = 30\n      intervalMinutes = 24 * 60\n  }\n  \n  for (let i = totalPoints; i >= 0; i--) {\n    const date = new Date()\n    date.setMinutes(date.getMinutes() - (i * intervalMinutes))\n    \n    // Format time label based on time period\n    let timeLabel: string\n    if (i === 0) {\n      timeLabel = \"Now\"\n    } else {\n      switch (timePeriod) {\n        case \"1H\":\n          // Show minutes ago or time\n          if (i === totalPoints) {\n            timeLabel = `${totalPoints * 5}m ago`\n          } else {\n            const hours = date.getHours()\n            const minutes = date.getMinutes()\n            timeLabel = `${hours.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}`\n          }\n          break\n        case \"1D\":\n          // Show hours ago or time\n          if (i === totalPoints) {\n            timeLabel = `${totalPoints}h ago`\n          } else {\n            const hours = date.getHours()\n            const minutes = date.getMinutes()\n            timeLabel = `${hours.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}`\n          }\n          break\n        case \"1W\":\n          // Show day name or date\n          if (i === totalPoints) {\n            timeLabel = `${totalPoints}d ago`\n          } else {\n            const dayName = date.toLocaleDateString(\"en-US\", { weekday: \"short\" })\n            timeLabel = dayName\n          }\n          break\n        case \"1M\":\n          // Show date\n          if (i === totalPoints) {\n            timeLabel = `${totalPoints}d ago`\n          } else if (i <= 7) {\n            timeLabel = `${i}d ago`\n          } else {\n            const month = date.toLocaleDateString(\"en-US\", { month: \"short\" })\n            const day = date.getDate()\n            timeLabel = `${month} ${day}`\n          }\n          break\n        default:\n          timeLabel = `${i}d ago`\n      }\n    }\n    \n    const point: PriceDataPoint = { time: timeLabel }\n    \n    // Generate price data with some variation (simulating market movement)\n    options.forEach((option, idx) => {\n      const baseProb = currentProbs[idx]\n      // Add some random variation that decreases as we go back in time\n      // More variation in recent periods, less in past\n      const variation = (Math.random() - 0.5) * 15 * (1 - i / totalPoints)\n      const yesPrice = Math.max(5, Math.min(95, baseProb + variation))\n      \n      // Store Yes price (No price is always 100 - Yes)\n      point[option.name] = Number(yesPrice.toFixed(1))\n    })\n    \n    data.push(point)\n  }\n  \n  return data\n}\n\nconst colors = [\n  \"#10b981\", // green\n  \"#3b82f6\", // blue\n  \"#8b5cf6\", // purple\n  \"#f59e0b\", // orange\n  \"#ec4899\", // pink\n  \"#06b6d4\", // cyan\n]\n\nexport default function PriceChart({ options, data: initialData }: PriceChartProps) {\n  const [timePeriod, setTimePeriod] = useState<TimePeriod>(\"1M\")\n  \n  // Generate data based on selected time period\n  const chartData = useMemo(() => {\n    return generateMockPriceData(options, timePeriod)\n  }, [options, timePeriod])\n  \n  const chartConfig: Record<string, { label: string; color: string }> = {}\n  \n  options.forEach((option, idx) => {\n    chartConfig[option.name] = {\n      label: option.name,\n      color: colors[idx % colors.length],\n    }\n  })\n\n  const timePeriods: { value: TimePeriod; label: string }[] = [\n    { value: \"1H\", label: \"1 Hour\" },\n    { value: \"1D\", label: \"1 Day\" },\n    { value: \"1W\", label: \"1 Week\" },\n    { value: \"1M\", label: \"1 Month\" },\n  ]\n\n  return (\n    <div className=\"w-full h-[450px] p-6 rounded-lg border border-border bg-background\">\n      <div className=\"mb-4 flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold mb-1\">Price History</h3>\n          <p className=\"text-sm text-muted-foreground\">Track price movements over time (in cents)</p>\n        </div>\n        <div className=\"flex gap-2\">\n          {timePeriods.map((period) => (\n            <button\n              key={period.value}\n              onClick={() => setTimePeriod(period.value)}\n              className={`px-3 py-1.5 rounded-md text-xs font-medium whitespace-nowrap transition-all duration-200 ${\n                timePeriod === period.value\n                  ? \"bg-foreground text-background\"\n                  : \"text-muted-foreground hover:text-foreground hover:bg-muted/50\"\n              }`}\n            >\n              {period.label}\n            </button>\n          ))}\n        </div>\n      </div>\n      <ChartContainer config={chartConfig} className=\"h-[320px]\">\n        <LineChart data={chartData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\n          <XAxis \n            dataKey=\"time\" \n            className=\"text-xs\"\n            tick={{ fill: \"currentColor\" }}\n            interval=\"preserveStartEnd\"\n            angle={timePeriod === \"1D\" || timePeriod === \"1H\" ? -45 : 0}\n            textAnchor={timePeriod === \"1D\" || timePeriod === \"1H\" ? \"end\" : \"middle\"}\n            height={timePeriod === \"1D\" || timePeriod === \"1H\" ? 60 : 30}\n          />\n          <YAxis \n            domain={[0, 100]}\n            className=\"text-xs\"\n            tick={{ fill: \"currentColor\" }}\n            label={{ value: \"Price (¢)\", angle: -90, position: \"insideLeft\" }}\n          />\n          <ChartTooltip\n            content={({ active, payload }) => {\n              if (!active || !payload?.length) return null\n              \n              return (\n                <div className=\"rounded-lg border bg-background p-3 shadow-lg\">\n                  <div className=\"grid gap-2\">\n                    {payload.map((entry, idx) => {\n                      const yesPrice = typeof entry.value === \"number\" ? entry.value : 0\n                      const noPrice = 100 - yesPrice\n                      return (\n                        <div key={idx} className=\"space-y-1\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <div\n                              className=\"h-2.5 w-2.5 rounded-full\"\n                              style={{ backgroundColor: entry.color }}\n                            />\n                            <span className=\"text-xs font-semibold\">\n                              {entry.dataKey?.toString()}\n                            </span>\n                          </div>\n                          <div className=\"flex items-center justify-between gap-4 pl-7\">\n                            <span className=\"text-xs text-muted-foreground\">Yes:</span>\n                            <span className=\"text-xs font-mono font-semibold text-green-600 dark:text-green-400\">\n                              {yesPrice.toFixed(1)}¢\n                            </span>\n                          </div>\n                          <div className=\"flex items-center justify-between gap-4 pl-7\">\n                            <span className=\"text-xs text-muted-foreground\">No:</span>\n                            <span className=\"text-xs font-mono font-semibold text-red-600 dark:text-red-400\">\n                              {noPrice.toFixed(1)}¢\n                            </span>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              )\n            }}\n          />\n          <Legend \n            wrapperStyle={{ paddingTop: \"20px\" }}\n            iconType=\"line\"\n          />\n          {options.map((option, idx) => {\n            const color = colors[idx % colors.length]\n            return (\n              <Line\n                key={option.name}\n                type=\"monotone\"\n                dataKey={option.name}\n                stroke={color}\n                strokeWidth={2.5}\n                dot={false}\n                activeDot={{ r: 5, fill: color }}\n              />\n            )\n          })}\n        </LineChart>\n      </ChartContainer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1133, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyasaichava/Quantum_Markets/frontend/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 1339, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyasaichava/Quantum_Markets/frontend/app/market/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useParams } from \"next/navigation\"\nimport { TrendingUp, CheckCircle2, Clock, XCircle, ExternalLink } from \"lucide-react\"\nimport AppHeader from \"@/components/app-header\"\nimport PriceChart from \"@/components/price-chart\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { useWallets, usePrivy } from \"@privy-io/react-auth\"\nimport { createWalletClient, custom, parseEther, getAddress } from \"viem\"\nimport { CONTRACTS } from \"@/config/contracts\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\n\ninterface Market {\n  id: number\n  question: string\n  category: string\n  options: { name: string; amountBet: number }[]\n  volume: string\n  traders: string\n  timeLeft: string\n  trend?: number\n}\n\n// Market data - in a real app, this would come from an API\nconst markets: Market[] = [\n  {\n    id: 1,\n    question: \"Which AI model will dominate in 2026?\",\n    category: \"Technology\",\n    options: [\n      { name: \"GPT-5\", amountBet: 234000000 },\n      { name: \"Claude-4\", amountBet: 182000000 },\n      { name: \"Gemini-X\", amountBet: 104000000 },\n    ],\n    volume: \"$520M\",\n    traders: \"12.5K\",\n    timeLeft: \"45 days\",\n    trend: 12,\n  },\n  {\n    id: 2,\n    question: \"Bitcoin price by end of 2025?\",\n    category: \"Crypto\",\n    options: [\n      { name: \"$150k+\", amountBet: 315000000 },\n      { name: \"$100-150k\", amountBet: 285000000 },\n      { name: \"$50-100k\", amountBet: 150000000 },\n    ],\n    volume: \"$750M\",\n    traders: \"28.9K\",\n    timeLeft: \"25 days\",\n    trend: 8,\n  },\n  {\n    id: 3,\n    question: \"Will there be a US recession in 2025?\",\n    category: \"Economics\",\n    options: [\n      { name: \"Yes\", amountBet: 234345000 },\n      { name: \"No\", amountBet: 286655000 },\n    ],\n    volume: \"$521M\",\n    traders: \"14.5K\",\n    timeLeft: \"60 days\",\n    trend: -3,\n  },\n  {\n    id: 4,\n    question: \"Will Apple release AR glasses in 2025?\",\n    category: \"Technology\",\n    options: [\n      { name: \"Yes\", amountBet: 284920000 },\n      { name: \"Maybe\", amountBet: 100560000 },\n      { name: \"No\", amountBet: 33520000 },\n    ],\n    volume: \"$419M\",\n    traders: \"9.8K\",\n    timeLeft: \"38 days\",\n    trend: 5,\n  },\n  {\n    id: 5,\n    question: \"Which team will win Super Bowl LIX?\",\n    category: \"Sports\",\n    options: [\n      { name: \"Kansas City Chiefs\", amountBet: 284640000 },\n      { name: \"Buffalo Bills\", amountBet: 160200000 },\n      { name: \"San Francisco 49ers\", amountBet: 195800000 },\n      { name: \"Other\", amountBet: 249360000 },\n    ],\n    volume: \"$890M\",\n    traders: \"42.3K\",\n    timeLeft: \"12 days\",\n    trend: 15,\n  },\n  {\n    id: 6,\n    question: \"Will Tesla stock reach $300 by 2026?\",\n    category: \"Stocks\",\n    options: [\n      { name: \"Yes\", amountBet: 144400000 },\n      { name: \"No\", amountBet: 235600000 },\n    ],\n    volume: \"$380M\",\n    traders: \"7.2K\",\n    timeLeft: \"90 days\",\n    trend: -2,\n  },\n]\n\n\ninterface Allocation {\n  optionIndex: number\n  selection: \"yes\" | \"no\" | null\n  amount: number\n  buySellMode?: \"buy\" | \"sell\" // Buy or Sell mode for this option\n}\n\ninterface BoughtPosition {\n  optionIndex: number\n  selection: \"yes\" | \"no\"\n  amount: number\n}\n\ninterface Transaction {\n  id: string\n  type: \"deposit\" | \"bet\"\n  marketId: number\n  marketQuestion?: string\n  optionName?: string\n  selection?: \"yes\" | \"no\"\n  buySellMode?: \"buy\" | \"sell\"\n  amount: number\n  timestamp: number\n  status: \"pending\" | \"completed\" | \"failed\"\n  txHash?: string\n}\n\n// Helper function to load from localStorage synchronously\nfunction loadFromLocalStorage<T>(key: string, defaultValue: T): T {\n  if (typeof window === \"undefined\") return defaultValue\n  try {\n    const saved = localStorage.getItem(key)\n    if (saved === null) return defaultValue\n    if (typeof defaultValue === \"number\") {\n      return Number.parseFloat(saved) as T\n    }\n    if (typeof defaultValue === \"object\" && defaultValue !== null) {\n      return JSON.parse(saved) as T\n    }\n    return saved as T\n  } catch (e) {\n    console.error(`Error loading ${key} from localStorage:`, e)\n    return defaultValue\n  }\n}\n\nexport default function MarketDetailPage() {\n  const router = useRouter()\n  const params = useParams()\n  const marketId = Number.parseInt(params?.id as string)\n  const { toast } = useToast()\n  const { wallets } = useWallets()\n  const { authenticated } = usePrivy()\n  \n  // Get the connected wallet (prefer external wallet like MetaMask)\n  const wallet = wallets.find(w => w.walletClientType === \"metamask\") || wallets[0]\n  \n  const [depositDialogOpen, setDepositDialogOpen] = useState(false)\n  const [isProcessingTransaction, setIsProcessingTransaction] = useState(false)\n  const [depositAmount, setDepositAmount] = useState<string>(\"\")\n  // Load initial state from localStorage synchronously to prevent reset on remount\n  const [userBalance, setUserBalance] = useState<number>(() => \n    loadFromLocalStorage(\"userBalance\", 1000)\n  )\n  const [tradingBalance, setTradingBalance] = useState<number>(() => \n    loadFromLocalStorage(`tradingBalance_${marketId}`, 0)\n  )\n  const [allocations, setAllocations] = useState<Record<number, Allocation>>(() => \n    loadFromLocalStorage(`allocations_${marketId}`, {})\n  )\n  const [placedAllocations, setPlacedAllocations] = useState<Set<number>>(() => {\n    const saved = loadFromLocalStorage<string[]>(`placedAllocations_${marketId}`, [])\n    return new Set(saved)\n  })\n  const [boughtPositions, setBoughtPositions] = useState<BoughtPosition[]>(() => {\n    const saved = loadFromLocalStorage<BoughtPosition[]>(`boughtPositions_${marketId}`, [])\n    return saved || []\n  })\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\n  const [editAmount, setEditAmount] = useState<string>(\"\")\n  const [clearConfirmDialogOpen, setClearConfirmDialogOpen] = useState(false)\n  const [transactions, setTransactions] = useState<Transaction[]>(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"transactions\")\n      return saved ? JSON.parse(saved) : []\n    }\n    return []\n  })\n\n  const market = markets.find((m) => m.id === marketId)\n\n  // Function to send a real blockchain transaction\n  const sendBlockchainTransaction = async (\n    amount: number,\n    transactionType: \"deposit\" | \"bet\",\n    transactionData?: {\n      optionName?: string\n      selection?: \"yes\" | \"no\"\n      buySellMode?: \"buy\" | \"sell\"\n    }\n  ): Promise<string | null> => {\n    if (!authenticated || !wallet) {\n      toast({\n        title: \"Wallet Not Connected\",\n        description: \"Please connect your MetaMask wallet to proceed.\",\n        variant: \"destructive\",\n      })\n      return null\n    }\n\n    try {\n      setIsProcessingTransaction(true)\n\n      // Switch wallet to Flare Coston2 network if needed\n      try {\n        await wallet.switchChain(114) // Flare Coston2 Testnet chain ID\n      } catch (switchError) {\n        // If chain switch fails, user might need to add the network manually\n        console.warn(\"Chain switch failed, continuing anyway:\", switchError)\n      }\n\n      // Get the Ethereum provider from Privy wallet\n      const provider = await wallet.getEthereumProvider()\n      \n      // Create Viem wallet client using the provider\n      const walletClient = createWalletClient({\n        account: wallet.address as `0x${string}`,\n        chain: {\n          id: 114,\n          name: \"Flare Testnet Coston2\",\n          network: \"flare-coston2\",\n          nativeCurrency: {\n            decimals: 18,\n            name: \"Flare\",\n            symbol: \"FLR\",\n          },\n          rpcUrls: {\n            default: {\n              http: [\"https://coston2-api.flare.network/ext/C/rpc\"],\n            },\n          },\n          blockExplorers: {\n            default: {\n              name: \"Flare Explorer\",\n              url: \"https://coston2-explorer.flare.network\",\n            },\n          },\n          testnet: true,\n        },\n        transport: custom(provider),\n      })\n\n      // Convert amount to wei (using native FLR token with 18 decimals)\n      // For USDC or other tokens, you'd need to use the token's decimals\n      const amountInWei = parseEther(amount.toString())\n\n      // Use the Market contract address for prediction market transactions\n      // getAddress validates and checksums the address\n      const recipientAddress = getAddress(CONTRACTS.MARKET)\n      \n      // Send transaction using Viem wallet client\n      // This will trigger MetaMask to show the transaction\n      const txHash = await walletClient.sendTransaction({\n        to: recipientAddress,\n        value: amountInWei,\n        // For contract calls, you would add:\n        // data: encodeFunctionData({...}) // Encoded function call\n      })\n\n      return txHash\n    } catch (error: any) {\n      console.error(\"Transaction error:\", error)\n      \n      // Check if user rejected the transaction\n      if (error?.code === 4001 || error?.message?.includes(\"rejected\") || error?.message?.includes(\"denied\") || error?.code === \"ACTION_REJECTED\") {\n        toast({\n          title: \"Transaction Rejected\",\n          description: \"You rejected the transaction in MetaMask.\",\n          variant: \"destructive\",\n        })\n      } else {\n        toast({\n          title: \"Transaction Failed\",\n          description: error?.message || \"Failed to send transaction. Please try again.\",\n          variant: \"destructive\",\n        })\n      }\n      return null\n    } finally {\n      setIsProcessingTransaction(false)\n    }\n  }\n\n  // Function to record a transaction (now with real blockchain integration)\n  const recordTransaction = async (\n    transaction: Omit<Transaction, \"id\" | \"timestamp\" | \"status\" | \"txHash\">\n  ) => {\n    // Send real blockchain transaction\n    const txHash = await sendBlockchainTransaction(\n      transaction.amount,\n      transaction.type,\n      {\n        optionName: transaction.optionName,\n        selection: transaction.selection,\n        buySellMode: transaction.buySellMode,\n      }\n    )\n\n    if (!txHash) {\n      // Transaction failed or was rejected\n      return null\n    }\n\n    const newTransaction: Transaction = {\n      ...transaction,\n      id: `tx_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      timestamp: Date.now(),\n      status: \"completed\",\n      txHash: txHash,\n    }\n    \n    setTransactions((prev) => {\n      const updated = [newTransaction, ...prev]\n      // Save to localStorage\n      if (typeof window !== \"undefined\") {\n        try {\n          localStorage.setItem(\"transactions\", JSON.stringify(updated))\n        } catch (e) {\n          console.error(\"Error saving transactions:\", e)\n        }\n      }\n      return updated\n    })\n    \n    // Show success toast notification\n    if (transaction.type === \"deposit\") {\n      toast({\n        title: \"Deposit Successful\",\n        description: `Successfully deposited $${transaction.amount.toFixed(2)} for this market. Transaction: ${txHash.slice(0, 10)}...`,\n        variant: \"default\",\n      })\n    } else {\n      const actionText = transaction.buySellMode === \"sell\" ? \"Sell\" : \"Buy\"\n      toast({\n        title: \"Transaction Successful\",\n        description: `${actionText} bet of $${transaction.amount.toFixed(2)} placed for ${transaction.optionName} (${transaction.selection?.toUpperCase()}). Transaction: ${txHash.slice(0, 10)}...`,\n        variant: \"default\",\n      })\n    }\n    \n    // Log transaction for debugging\n    console.log(\"Transaction recorded:\", newTransaction)\n    \n    return newTransaction\n  }\n\n  // Persist state to localStorage whenever it changes (with debounce to avoid excessive writes)\n  useEffect(() => {\n    if (typeof window !== \"undefined\" && userBalance !== undefined) {\n      try {\n        localStorage.setItem(\"userBalance\", userBalance.toString())\n      } catch (e) {\n        console.error(\"Error saving userBalance to localStorage:\", e)\n      }\n    }\n  }, [userBalance])\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\" && tradingBalance !== undefined) {\n      try {\n        localStorage.setItem(`tradingBalance_${marketId}`, tradingBalance.toString())\n      } catch (e) {\n        console.error(\"Error saving tradingBalance to localStorage:\", e)\n      }\n    }\n  }, [tradingBalance, marketId])\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\" && allocations && Object.keys(allocations).length >= 0) {\n      try {\n        localStorage.setItem(`allocations_${marketId}`, JSON.stringify(allocations))\n      } catch (e) {\n        console.error(\"Error saving allocations to localStorage:\", e)\n      }\n    }\n  }, [allocations, marketId])\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\" && placedAllocations) {\n      try {\n        localStorage.setItem(`placedAllocations_${marketId}`, JSON.stringify(Array.from(placedAllocations)))\n      } catch (e) {\n        console.error(\"Error saving placedAllocations to localStorage:\", e)\n      }\n    }\n  }, [placedAllocations, marketId])\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\" && boughtPositions) {\n      try {\n        localStorage.setItem(`boughtPositions_${marketId}`, JSON.stringify(boughtPositions))\n      } catch (e) {\n        console.error(\"Error saving boughtPositions to localStorage:\", e)\n      }\n    }\n  }, [boughtPositions, marketId])\n\n  useEffect(() => {\n    // Initialize allocations for all options\n    if (market) {\n      const initialAllocations: Record<number, Allocation> = {}\n      market.options.forEach((_, idx) => {\n        if (!allocations[idx]) {\n          initialAllocations[idx] = {\n            optionIndex: idx,\n            selection: null,\n            amount: 0,\n            buySellMode: \"buy\", // Default to buy\n          }\n        }\n      })\n      if (Object.keys(initialAllocations).length > 0) {\n        setAllocations((prev) => ({ ...prev, ...initialAllocations }))\n      }\n    }\n  }, [market])\n\n  // VUSDC is now calculated directly as tradingBalance - allocation amount\n  // No need for separate state, calculated on the fly\n\n  if (!market) {\n    return (\n      <div className=\"min-h-screen bg-background text-foreground flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-muted-foreground mb-4\">Market not found</p>\n          <button\n            onClick={() => router.push(\"/\")}\n            className=\"px-4 py-2 rounded-lg bg-foreground text-background hover:opacity-90\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  const parseVolume = (volumeStr: string): number => {\n    const match = volumeStr.match(/\\$?([\\d.]+)([MBK])?/i)\n    if (!match) return 0\n    const value = parseFloat(match[1])\n    const suffix = match[2]?.toUpperCase()\n    if (suffix === \"B\") return value * 1000000000\n    if (suffix === \"M\") return value * 1000000\n    if (suffix === \"K\") return value * 1000\n    return value\n  }\n\n  const formatCurrency = (value: number): string => {\n    if (value >= 1000000000) {\n      return `$${(value / 1000000000).toFixed(2)}B`\n    } else if (value >= 1000000) {\n      return `$${(value / 1000000).toFixed(2)}M`\n    } else if (value >= 1000) {\n      return `$${(value / 1000).toFixed(2)}K`\n    }\n    return `$${value.toFixed(2)}`\n  }\n\n  const getFormattedVolume = (volumeStr: string): string => {\n    const volumeInUSD = parseVolume(volumeStr)\n    return formatCurrency(volumeInUSD)\n  }\n\n  // Calculate price for Yes/No selection (Polymarket style: Yes + No = 100 cents)\n  const calculatePrice = (optionIndex: number, selection: \"yes\" | \"no\"): number => {\n    const totalPool = market.options.reduce((sum, opt) => sum + opt.amountBet, 0)\n    const option = market.options[optionIndex]\n    \n    // Calculate probability percentage (0-100)\n    const probabilityPercent = (option.amountBet / totalPool) * 100\n    \n    if (selection === \"yes\") {\n      // Yes price in cents = probability percentage\n      return probabilityPercent\n    } else {\n      // No price in cents = 100 - probability percentage\n      return 100 - probabilityPercent\n    }\n  }\n\n  // Convert cents to dollars for display\n  const centsToDollars = (cents: number): number => {\n    return cents / 100\n  }\n\n  // Calculate total allocated amount (for display purposes only)\n  const totalAllocated = Object.values(allocations).reduce(\n    (sum, alloc) => sum + (alloc.selection ? alloc.amount : 0),\n    0\n  )\n\n  // Calculate total allocation for a specific option (Yes + No combined)\n  const getOptionTotalAllocation = (optionIndex: number): number => {\n    const alloc = allocations[optionIndex]\n    if (!alloc) return 0\n    // For the same option, if there's any allocation (Yes or No), return that amount\n    // Since you can only have one selection (Yes OR No) at a time, this works\n    return alloc.selection ? alloc.amount : 0\n  }\n\n  // Get available amount to sell for a specific option and selection\n  const getAvailableToSell = (optionIndex: number, selection: \"yes\" | \"no\"): number => {\n    const position = boughtPositions.find(\n      pos => pos.optionIndex === optionIndex && pos.selection === selection\n    )\n    return position ? position.amount : 0\n  }\n\n  // Trading balance is the maximum amount you can allocate to EACH option (not a shared pool)\n  // So you can allocate the full amount to all options independently\n\n  // Handle allocation change\n  const handleAllocationChange = (\n    optionIndex: number,\n    selection: \"yes\" | \"no\" | null,\n    amount: number,\n    buySellMode?: \"buy\" | \"sell\"\n  ) => {\n    const newAmount = Math.max(0, amount)\n    \n    setAllocations((prev) => {\n      const current = prev[optionIndex] || { optionIndex, selection: null, amount: 0, buySellMode: \"buy\" as const }\n      return {\n        ...prev,\n        [optionIndex]: {\n          optionIndex,\n          selection,\n          amount: newAmount,\n          buySellMode: buySellMode || current.buySellMode || \"buy\", // Default to \"buy\"\n        },\n      }\n    })\n    // VUSDC will be updated automatically via useEffect when allocations change\n  }\n\n  // Calculate potential winnings for an allocation (Polymarket style)\n  // If you bet $X at price $P (in dollars), you get $X / $P shares\n  // If it wins, each share pays $1, so total return = $X / $P\n  const calculatePotentialWinnings = (optionIndex: number, selection: \"yes\" | \"no\", amount: number): number => {\n    const priceCents = calculatePrice(optionIndex, selection)\n    const priceDollars = centsToDollars(priceCents)\n    // Total return if it wins (includes original bet)\n    return amount / priceDollars\n  }\n\n  // Calculate maximum potential winnings (since only one option can win)\n  const maxPotentialWinnings = Object.values(allocations)\n    .filter((alloc) => alloc.selection !== null && alloc.amount > 0)\n    .reduce((max, alloc) => {\n      if (alloc.selection) {\n        const potentialReturn = calculatePotentialWinnings(alloc.optionIndex, alloc.selection, alloc.amount)\n        return Math.max(max, potentialReturn)\n      }\n      return max\n    }, 0)\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      <AppHeader \n        title=\"Market Details\" \n        showBackButton={true}\n        onBackClick={() => router.push(\"/\")}\n        userBalance={userBalance}\n        key={userBalance}\n      />\n\n      {/* Sticky Deposit Bar */}\n      <div className=\"sticky top-[65px] z-40 bg-background/95 backdrop-blur-sm border-b border-border/80\">\n        <div className=\"max-w-4xl mx-auto px-6 pt-3 pb-2.5\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-4\">\n              {/* USDC Balance */}\n              {tradingBalance > 0 ? (\n                <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-md bg-green-500/10 border border-green-500/20\">\n                  <span className=\"text-xs font-medium text-muted-foreground\">USDC</span>\n                  <span className=\"text-sm font-semibold font-mono text-green-600 dark:text-green-400\">${tradingBalance.toFixed(2)}</span>\n                </div>\n              ) : (\n                <div className=\"text-xs text-muted-foreground\">\n                  No funds deposited for this market\n                </div>\n              )}\n            </div>\n            {!authenticated || !wallet ? (\n              <div className=\"text-xs text-muted-foreground px-3 py-1.5\">\n                Connect MetaMask to deposit\n              </div>\n            ) : (\n              <button\n                onClick={() => setDepositDialogOpen(true)}\n                className=\"px-5 py-2 rounded-lg bg-foreground text-background hover:opacity-90 transition-opacity font-semibold text-sm whitespace-nowrap\"\n                disabled={isProcessingTransaction}\n              >\n                {isProcessingTransaction ? \"Processing...\" : \"Deposit for This Market\"}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <main className=\"max-w-4xl mx-auto px-6 py-8\">\n        {/* Market Info */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest\">\n              {market.category}\n            </span>\n            {market.trend && (\n              <div\n                className={`flex items-center gap-1 text-xs font-medium ${\n                  market.trend > 0\n                    ? \"text-green-600 dark:text-green-400\"\n                    : \"text-red-600 dark:text-red-400\"\n                }`}\n              >\n                <TrendingUp size={12} />\n                {market.trend > 0 ? \"+\" : \"\"}\n                {market.trend}%\n              </div>\n            )}\n          </div>\n          <div className=\"mb-4\">\n            <h1 className=\"text-2xl font-semibold\">{market.question}</h1>\n          </div>\n          <div className=\"flex gap-6 text-sm text-muted-foreground\">\n            <span>Volume: {getFormattedVolume(market.volume)}</span>\n            <span>Traders: {market.traders}</span>\n            <span>Closes in: {market.timeLeft}</span>\n          </div>\n        </div>\n\n        {/* Price Chart */}\n        <div className=\"mb-8\">\n          <PriceChart options={market.options} />\n        </div>\n\n        {/* Trading Balance Display */}\n        {tradingBalance > 0 && (\n          <div className=\"mb-8 p-6 rounded-lg border border-border bg-muted/30\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 className=\"text-lg font-semibold mb-1\">Trading Balance</h3>\n                <p className=\"text-sm text-muted-foreground\">Available funds for this market</p>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-2xl font-bold font-mono\">${tradingBalance.toFixed(2)}</div>\n                <div className=\"text-xs text-muted-foreground mt-1\">\n                  Max per option: ${tradingBalance.toFixed(2)}\n                </div>\n                <div className=\"text-xs text-muted-foreground mt-1\">\n                  Total allocated: ${totalAllocated.toFixed(2)}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Options with Yes/No Selections */}\n        <div className=\"space-y-6 mb-8\">\n          <h2 className=\"text-lg font-semibold mb-4\">Allocate Your Trading Balance</h2>\n          {market.options.map((option, optionIndex) => {\n            const allocation = allocations[optionIndex] || {\n              optionIndex,\n              selection: null,\n              amount: 0,\n              buySellMode: \"buy\" as const,\n            }\n            const yesPrice = calculatePrice(optionIndex, \"yes\")\n            const noPrice = calculatePrice(optionIndex, \"no\")\n            const totalPool = market.options.reduce((sum, opt) => sum + opt.amountBet, 0)\n            const optionPercentage = (option.amountBet / totalPool) * 100\n\n            return (\n              <div\n                key={optionIndex}\n                className={`option-${optionIndex} p-6 rounded-lg border border-border bg-muted/20 hover:bg-muted/30 dark:hover:bg-muted/50 transition-colors`}\n              >\n                {/* Option Header */}\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-semibold mb-2\">{option.name}</h3>\n                    <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                      <span>{optionPercentage.toFixed(1)}% probability</span>\n                      <span>•</span>\n                      <span>{formatCurrency(option.amountBet)} bet</span>\n                    </div>\n                  </div>\n                  {/* VUSDC Display */}\n                  {tradingBalance > 0 && (\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-500/10 border border-blue-500/20\">\n                      <span className=\"text-xs font-medium text-muted-foreground\">VUSDC</span>\n                      <span className=\"text-sm font-semibold font-mono text-blue-600 dark:text-blue-400\">\n                        ${(tradingBalance - getOptionTotalAllocation(optionIndex)).toFixed(2)}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                {/* Buy/Sell Toggle */}\n                <div className=\"mb-4 flex items-center gap-4\">\n                  <div className=\"flex items-center gap-0\">\n                    <button\n                      onClick={() => {\n                        if (allocation.selection) {\n                          handleAllocationChange(\n                            optionIndex,\n                            allocation.selection,\n                            allocation.amount,\n                            \"buy\"\n                          )\n                        } else {\n                          setAllocations((prev) => ({\n                            ...prev,\n                            [optionIndex]: {\n                              ...(prev[optionIndex] || { optionIndex, selection: null, amount: 0, buySellMode: \"buy\" as const }),\n                              buySellMode: \"buy\",\n                            },\n                          }))\n                        }\n                      }}\n                      className={`px-4 py-2 text-sm font-semibold transition-all relative ${\n                        (allocation.buySellMode || \"buy\") === \"buy\"\n                          ? \"text-foreground\"\n                          : \"text-muted-foreground hover:text-foreground\"\n                      }`}\n                    >\n                      Buy\n                      {(allocation.buySellMode || \"buy\") === \"buy\" && (\n                        <span className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-foreground\"></span>\n                      )}\n                    </button>\n                    <button\n                      onClick={() => {\n                        if (allocation.selection) {\n                          handleAllocationChange(\n                            optionIndex,\n                            allocation.selection,\n                            allocation.amount,\n                            \"sell\"\n                          )\n                        } else {\n                          setAllocations((prev) => ({\n                            ...prev,\n                            [optionIndex]: {\n                              ...(prev[optionIndex] || { optionIndex, selection: null, amount: 0, buySellMode: \"buy\" as const }),\n                              buySellMode: \"sell\",\n                            },\n                          }))\n                        }\n                      }}\n                      className={`px-4 py-2 text-sm font-semibold transition-all relative ${\n                        allocation.buySellMode === \"sell\"\n                          ? \"text-foreground\"\n                          : \"text-muted-foreground hover:text-foreground\"\n                      }`}\n                    >\n                      Sell\n                      {allocation.buySellMode === \"sell\" && (\n                        <span className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-foreground\"></span>\n                      )}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Yes/No Selection Buttons */}\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  {/* Yes Button */}\n                  <button\n                    onClick={() => {\n                      const currentMode = allocation.buySellMode || \"buy\"\n                      \n                      // In Sell mode, check if user has bought position for Yes\n                      if (currentMode === \"sell\") {\n                        const availableToSell = getAvailableToSell(optionIndex, \"yes\")\n                        if (availableToSell === 0) {\n                          // Can't sell if nothing was bought\n                          return\n                        }\n                      }\n                      \n                      // In Buy mode, if switching from No to Yes, clear the No allocation and switch to Yes\n                      if (currentMode === \"buy\" && allocation.selection === \"no\" && allocation.amount > 0) {\n                        // Clear No and switch to Yes with 0 amount (VUSDC is shared)\n                        setAllocations(prev => ({\n                          ...prev,\n                          [optionIndex]: {\n                            optionIndex,\n                            selection: \"yes\",\n                            amount: 0,\n                            buySellMode: currentMode,\n                          },\n                        }))\n                        setPlacedAllocations(prev => {\n                          const newSet = new Set(prev)\n                          newSet.delete(optionIndex)\n                          return newSet\n                        })\n                        return\n                      }\n                      \n                      if (allocation.selection === \"yes\" && allocation.buySellMode === currentMode) {\n                        // Deselect if already selected with same mode\n                        handleAllocationChange(optionIndex, null, 0, currentMode)\n                        setPlacedAllocations(prev => {\n                          const newSet = new Set(prev)\n                          newSet.delete(optionIndex)\n                          return newSet\n                        })\n                      } else {\n                        // Switch to Yes\n                        const newAmount = currentMode === \"sell\" \n                          ? Math.min(allocation.amount || 0, getAvailableToSell(optionIndex, \"yes\"))\n                          : 0 // Always start with 0 when switching in Buy mode\n                        handleAllocationChange(\n                          optionIndex,\n                          \"yes\",\n                          newAmount,\n                          currentMode\n                        )\n                        // Clear placed status when selection changes\n                        if (placedAllocations.has(optionIndex)) {\n                          setPlacedAllocations(prev => {\n                            const newSet = new Set(prev)\n                            newSet.delete(optionIndex)\n                            return newSet\n                          })\n                        }\n                      }\n                    }}\n                    className={`p-4 rounded-lg border-2 transition-all ${\n                      allocation.selection === \"yes\" && (allocation.buySellMode || \"buy\") === (allocation.buySellMode || \"buy\")\n                        ? \"border-green-500 bg-green-500 text-white\"\n                        : allocation.selection === \"yes\"\n                        ? \"border-green-500/50 bg-green-500/10 text-green-600 dark:text-green-400\"\n                        : \"border-border bg-muted/30 hover:border-green-500/50 hover:bg-green-500/5 dark:hover:border-green-500 dark:hover:bg-green-500/15\"\n                    }`}\n                  >\n                    <div className=\"text-left w-full\">\n                      <div className=\"font-semibold mb-1\">\n                        Yes {yesPrice.toFixed(0)}¢\n                      </div>\n                      {allocation.buySellMode === \"sell\" && getAvailableToSell(optionIndex, \"yes\") > 0 && (\n                        <div className=\"text-xs mt-1 text-muted-foreground\">\n                          Own: ${getAvailableToSell(optionIndex, \"yes\").toFixed(2)}\n                        </div>\n                      )}\n                      {allocation.selection === \"yes\" && allocation.amount > 0 && (\n                        <div className=\"text-xs mt-1 opacity-90\">\n                          {allocation.buySellMode === \"sell\" ? \"Sell\" : \"Buy\"} ${allocation.amount.toFixed(2)}\n                        </div>\n                      )}\n                    </div>\n                  </button>\n\n                  {/* No Button */}\n                  <button\n                    onClick={() => {\n                      const currentMode = allocation.buySellMode || \"buy\"\n                      \n                      // In Sell mode, check if user has bought position for No\n                      if (currentMode === \"sell\") {\n                        const availableToSell = getAvailableToSell(optionIndex, \"no\")\n                        if (availableToSell === 0) {\n                          // Can't sell if nothing was bought\n                          return\n                        }\n                      }\n                      \n                      // In Buy mode, if switching from Yes to No, clear the Yes allocation and switch to No\n                      if (currentMode === \"buy\" && allocation.selection === \"yes\" && allocation.amount > 0) {\n                        // Clear Yes and switch to No with 0 amount (VUSDC is shared)\n                        setAllocations(prev => ({\n                          ...prev,\n                          [optionIndex]: {\n                            optionIndex,\n                            selection: \"no\",\n                            amount: 0,\n                            buySellMode: currentMode,\n                          },\n                        }))\n                        setPlacedAllocations(prev => {\n                          const newSet = new Set(prev)\n                          newSet.delete(optionIndex)\n                          return newSet\n                        })\n                        return\n                      }\n                      \n                      if (allocation.selection === \"no\" && allocation.buySellMode === currentMode) {\n                        // Deselect if already selected with same mode\n                        handleAllocationChange(optionIndex, null, 0, currentMode)\n                        setPlacedAllocations(prev => {\n                          const newSet = new Set(prev)\n                          newSet.delete(optionIndex)\n                          return newSet\n                        })\n                      } else {\n                        // Switch to No\n                        const newAmount = currentMode === \"sell\"\n                          ? Math.min(allocation.amount || 0, getAvailableToSell(optionIndex, \"no\"))\n                          : 0 // Always start with 0 when switching in Buy mode\n                        handleAllocationChange(\n                          optionIndex,\n                          \"no\",\n                          newAmount,\n                          currentMode\n                        )\n                        // Clear placed status when selection changes\n                        if (placedAllocations.has(optionIndex)) {\n                          setPlacedAllocations(prev => {\n                            const newSet = new Set(prev)\n                            newSet.delete(optionIndex)\n                            return newSet\n                          })\n                        }\n                      }\n                    }}\n                    className={`p-4 rounded-lg border-2 transition-all ${\n                      allocation.selection === \"no\" && (allocation.buySellMode || \"buy\") === (allocation.buySellMode || \"buy\")\n                        ? \"border-red-500 bg-red-500 text-white\"\n                        : allocation.selection === \"no\"\n                        ? \"border-red-500/50 bg-red-500/10 text-red-600 dark:text-red-400\"\n                        : \"border-border bg-muted/30 hover:border-red-500/50 hover:bg-red-500/5 dark:hover:border-red-500 dark:hover:bg-red-500/15\"\n                    }`}\n                  >\n                    <div className=\"text-left w-full\">\n                      <div className=\"font-semibold mb-1\">\n                        No {noPrice.toFixed(0)}¢\n                      </div>\n                      {allocation.buySellMode === \"sell\" && getAvailableToSell(optionIndex, \"no\") > 0 && (\n                        <div className=\"text-xs mt-1 text-muted-foreground\">\n                          Own: ${getAvailableToSell(optionIndex, \"no\").toFixed(2)}\n                        </div>\n                      )}\n                      {allocation.selection === \"no\" && allocation.amount > 0 && (\n                        <div className=\"text-xs mt-1 opacity-90\">\n                          {allocation.buySellMode === \"sell\" ? \"Sell\" : \"Buy\"} ${allocation.amount.toFixed(2)}\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                </div>\n\n                {/* Amount Input (only show if selection is made) */}\n                {allocation.selection && (\n                  <div className=\"mt-4 p-4 rounded-lg bg-background border border-border\">\n                    <label className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest block mb-2\">\n                      Amount to Allocate\n                    </label>\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <span className=\"text-muted-foreground\">$</span>\n                      <input\n                        type=\"number\"\n                        value={allocation.amount || \"\"}\n                        onChange={(e) => {\n                          let amount = Number.parseFloat(e.target.value) || 0\n                          const currentMode = allocation.buySellMode || \"buy\"\n                          \n                          // In Sell mode, limit to available to sell\n                          if (currentMode === \"sell\" && allocation.selection) {\n                            const maxSell = getAvailableToSell(optionIndex, allocation.selection)\n                            amount = Math.min(amount, maxSell)\n                          }\n                          \n                          // In Buy mode, limit to available VUSDC (shared between Yes/No for same option)\n                          if (currentMode === \"buy\" && allocation.selection) {\n                            const currentAllocation = allocations[optionIndex]\n                            const otherAllocation = currentAllocation?.selection === allocation.selection \n                              ? 0 \n                              : (currentAllocation?.amount || 0)\n                            const availableVusdc = tradingBalance - otherAllocation\n                            amount = Math.min(amount, availableVusdc)\n                          }\n                          \n                          handleAllocationChange(\n                            optionIndex,\n                            allocation.selection,\n                            amount,\n                            currentMode\n                          )\n                          // Remove from placed allocations if amount changes\n                          if (placedAllocations.has(optionIndex)) {\n                            setPlacedAllocations(prev => {\n                              const newSet = new Set(prev)\n                              newSet.delete(optionIndex)\n                              return newSet\n                            })\n                          }\n                        }}\n                        placeholder=\"0.00\"\n                        className=\"flex-1 bg-transparent text-foreground font-mono focus:outline-none placeholder-muted-foreground/50\"\n                        step=\"0.01\"\n                        min=\"0\"\n                        max={allocation.buySellMode === \"sell\" && allocation.selection \n                          ? getAvailableToSell(optionIndex, allocation.selection)\n                          : tradingBalance - getOptionTotalAllocation(optionIndex) + (allocation.selection ? allocation.amount : 0)\n                        }\n                      />\n                      <button\n                        onClick={async () => {\n                          const currentMode = allocation.buySellMode || \"buy\"\n                          let canPlace = false\n                          \n                          if (currentMode === \"sell\") {\n                            // In Sell mode, check if amount is within available to sell\n                            const availableToSell = getAvailableToSell(optionIndex, allocation.selection!)\n                            canPlace = allocation.amount > 0 && allocation.amount <= availableToSell\n                          } else {\n                            // In Buy mode, check VUSDC (shared for Yes/No in same option)\n                            const availableVusdc = tradingBalance - getOptionTotalAllocation(optionIndex) + allocation.amount\n                            canPlace = allocation.amount > 0 && allocation.amount <= availableVusdc\n                          }\n                          \n                          if (canPlace) {\n                            // Record transaction - Scenario 2: Place Bet (this will trigger MetaMask)\n                            const tx = await recordTransaction({\n                              type: \"bet\",\n                              marketId: marketId,\n                              marketQuestion: market?.question,\n                              optionName: market?.options[optionIndex]?.name,\n                              selection: allocation.selection || undefined,\n                              buySellMode: currentMode,\n                              amount: allocation.amount,\n                            })\n                            \n                            // Only update state if transaction was successful\n                            if (tx) {\n                              setPlacedAllocations(prev => new Set(prev).add(optionIndex))\n                              \n                              // If it's a Buy transaction, track the bought position\n                              if (currentMode === \"buy\" && allocation.selection) {\n                                setBoughtPositions(prev => {\n                                  const existing = prev.find(\n                                    p => p.optionIndex === optionIndex && p.selection === allocation.selection\n                                  )\n                                  if (existing) {\n                                    // Update existing position\n                                    return prev.map(p =>\n                                      p.optionIndex === optionIndex && p.selection === allocation.selection\n                                        ? { ...p, amount: p.amount + allocation.amount }\n                                        : p\n                                    )\n                                  } else {\n                                    // Add new position\n                                    return [...prev, {\n                                      optionIndex,\n                                      selection: allocation.selection,\n                                      amount: allocation.amount,\n                                    }]\n                                  }\n                                })\n                              }\n                              \n                              // If it's a Sell transaction, reduce the bought position\n                              if (currentMode === \"sell\" && allocation.selection) {\n                                setBoughtPositions(prev => {\n                                  return prev.map(p => {\n                                    if (p.optionIndex === optionIndex && p.selection === allocation.selection) {\n                                      const newAmount = p.amount - allocation.amount\n                                      return newAmount > 0 ? { ...p, amount: newAmount } : null\n                                    }\n                                    return p\n                                  }).filter(Boolean) as BoughtPosition[]\n                                })\n                              }\n                            }\n                          }\n                        }}\n                        disabled={\n                          !allocation.amount || \n                          allocation.amount <= 0 || \n                          (allocation.buySellMode === \"sell\" \n                            ? allocation.amount > getAvailableToSell(optionIndex, allocation.selection!)\n                            : allocation.amount > (tradingBalance - getOptionTotalAllocation(optionIndex) + allocation.amount)\n                          ) ||\n                          placedAllocations.has(optionIndex) ||\n                          isProcessingTransaction ||\n                          !authenticated ||\n                          !wallet\n                        }\n                        className={`px-4 py-2 text-sm font-medium rounded-lg transition-all whitespace-nowrap ${\n                          allocation.amount > 0 && \n                          (allocation.buySellMode === \"sell\"\n                            ? allocation.amount <= getAvailableToSell(optionIndex, allocation.selection!)\n                            : allocation.amount <= (tradingBalance - getOptionTotalAllocation(optionIndex) + allocation.amount)\n                          ) &&\n                          !placedAllocations.has(optionIndex)\n                            ? \"bg-foreground text-background hover:opacity-90\"\n                            : placedAllocations.has(optionIndex)\n                            ? \"bg-green-600 dark:bg-green-500 text-white cursor-default\"\n                            : \"bg-muted text-muted-foreground cursor-not-allowed\"\n                        }`}\n                      >\n                        {isProcessingTransaction \n                          ? \"Processing...\" \n                          : placedAllocations.has(optionIndex) \n                            ? \"✓ Placed\" \n                            : \"Place\"}\n                      </button>\n                    </div>\n                    {allocation.amount > 0 && (\n                      <div className=\"text-sm text-muted-foreground\">\n                        Potential return: ${calculatePotentialWinnings(\n                          optionIndex,\n                          allocation.selection!,\n                          allocation.amount\n                        ).toFixed(2)} (includes your ${allocation.amount.toFixed(2)} bet)\n                      </div>\n                    )}\n                    {allocation.buySellMode === \"sell\" && allocation.selection && (\n                      <>\n                        {allocation.amount > getAvailableToSell(optionIndex, allocation.selection) && (\n                          <div className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                            Warning: Cannot sell more than you bought. Available to sell: ${getAvailableToSell(optionIndex, allocation.selection).toFixed(2)}\n                          </div>\n                        )}\n                        {getAvailableToSell(optionIndex, allocation.selection) > 0 && (\n                          <div className=\"text-xs text-muted-foreground mt-2\">\n                            Available to sell: ${getAvailableToSell(optionIndex, allocation.selection).toFixed(2)}\n                          </div>\n                        )}\n                        {getAvailableToSell(optionIndex, allocation.selection) === 0 && (\n                          <div className=\"text-xs text-muted-foreground mt-2\">\n                            No position to sell. Buy first to create a position.\n                          </div>\n                        )}\n                      </>\n                    )}\n                    {allocation.buySellMode !== \"sell\" && (\n                      <>\n                        {allocation.amount > (tradingBalance - getOptionTotalAllocation(optionIndex) + allocation.amount) && (\n                          <div className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                            Warning: Amount exceeds available VUSDC. VUSDC is shared between Yes/No for this option.\n                          </div>\n                        )}\n                        {allocation.selection === \"yes\" && allocations[optionIndex]?.selection === \"no\" && allocations[optionIndex]?.amount > 0 && (\n                          <div className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                            Warning: You already have ${allocations[optionIndex].amount.toFixed(2)} allocated to \"No\". VUSDC is shared between Yes/No.\n                          </div>\n                        )}\n                        {allocation.selection === \"no\" && allocations[optionIndex]?.selection === \"yes\" && allocations[optionIndex]?.amount > 0 && (\n                          <div className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                            Warning: You already have ${allocations[optionIndex].amount.toFixed(2)} allocated to \"Yes\". VUSDC is shared between Yes/No.\n                          </div>\n                        )}\n                        {allocation.amount > 0 && allocation.amount <= (tradingBalance - getOptionTotalAllocation(optionIndex) + allocation.amount) && (\n                          <div className=\"text-xs text-muted-foreground mt-2\">\n                            Remaining VUSDC: ${(tradingBalance - getOptionTotalAllocation(optionIndex)).toFixed(2)}\n                          </div>\n                        )}\n                      </>\n                    )}\n                    {placedAllocations.has(optionIndex) && (\n                      <div className=\"text-xs text-green-600 dark:text-green-400 mt-2 font-medium\">\n                        ✓ Allocation placed successfully\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n\n        {/* Summary */}\n        {totalAllocated > 0 && (\n          <div className=\"mb-8 p-6 rounded-lg border border-border bg-muted/50\">\n            <h3 className=\"text-lg font-semibold mb-4\">Allocation Summary</h3>\n            <div className=\"space-y-2 mb-4\">\n              {Object.values(allocations)\n                .filter((alloc) => alloc.selection && alloc.amount > 0)\n                .map((alloc, idx) => {\n                  const potentialReturn = calculatePotentialWinnings(\n                    alloc.optionIndex,\n                    alloc.selection!,\n                    alloc.amount\n                  )\n                  return (\n                    <div key={idx} className=\"space-y-1\">\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-muted-foreground\">\n                            {market.options[alloc.optionIndex].name} - {alloc.selection?.toUpperCase()}\n                          </span>\n                          {placedAllocations.has(alloc.optionIndex) && (\n                            <span className=\"text-xs text-green-600 dark:text-green-400 font-medium\">\n                              ✓ Placed\n                            </span>\n                          )}\n                        </div>\n                        <span className=\"font-mono\">\n                          ${alloc.amount.toFixed(2)}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-end text-xs text-muted-foreground\">\n                        Potential return: ${potentialReturn.toFixed(2)}\n                      </div>\n                    </div>\n                  )\n                })}\n            </div>\n            <div className=\"pt-4 border-t border-border\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"font-semibold\">Max Potential Return:</span>\n                <span className=\"font-mono text-lg font-semibold\">\n                  ${maxPotentialWinnings.toFixed(2)}\n                </span>\n              </div>\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Maximum return if your winning allocation succeeds\n              </p>\n            </div>\n          </div>\n        )}\n\n        {/* Transactions Section */}\n        {transactions.filter(tx => tx.marketId === marketId).length > 0 && (\n          <div className=\"mb-8 p-6 rounded-lg border border-border bg-muted/30\">\n            <h3 className=\"text-lg font-semibold mb-4\">Transaction History</h3>\n            <div className=\"space-y-3\">\n              {transactions\n                .filter(tx => tx.marketId === marketId)\n                .slice(0, 10) // Show last 10 transactions\n                .map((tx) => {\n                  const date = new Date(tx.timestamp)\n                  const formattedDate = date.toLocaleDateString(\"en-US\", {\n                    month: \"short\",\n                    day: \"numeric\",\n                    year: \"numeric\",\n                  })\n                  const formattedTime = date.toLocaleTimeString(\"en-US\", {\n                    hour: \"2-digit\",\n                    minute: \"2-digit\",\n                  })\n                  \n                  return (\n                    <div\n                      key={tx.id}\n                      className=\"p-4 rounded-lg border border-border bg-background hover:bg-muted/50 transition-colors\"\n                    >\n                      <div className=\"flex items-start justify-between gap-4\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <span className=\"text-sm font-semibold capitalize\">\n                              {tx.type === \"deposit\" ? \"Deposit\" : `${tx.buySellMode === \"sell\" ? \"Sell\" : \"Buy\"} Bet`}\n                            </span>\n                            {tx.status === \"completed\" && (\n                              <span className=\"flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium\">\n                                <CheckCircle2 size={14} />\n                                Completed\n                              </span>\n                            )}\n                            {tx.status === \"pending\" && (\n                              <span className=\"flex items-center gap-1 text-xs text-yellow-600 dark:text-yellow-400 font-medium\">\n                                <Clock size={14} />\n                                Pending\n                              </span>\n                            )}\n                            {tx.status === \"failed\" && (\n                              <span className=\"flex items-center gap-1 text-xs text-red-600 dark:text-red-400 font-medium\">\n                                <XCircle size={14} />\n                                Failed\n                              </span>\n                            )}\n                          </div>\n                          \n                          {tx.type === \"bet\" && (\n                            <div className=\"text-sm text-muted-foreground space-y-1\">\n                              <div>\n                                <span className=\"font-medium\">Option:</span> {tx.optionName}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Selection:</span>{\" \"}\n                                <span className=\"capitalize\">{tx.selection}</span>\n                                {tx.buySellMode && (\n                                  <span className=\"ml-2 text-xs px-2 py-0.5 rounded bg-muted\">\n                                    {tx.buySellMode === \"buy\" ? \"Buy\" : \"Sell\"}\n                                  </span>\n                                )}\n                              </div>\n                            </div>\n                          )}\n                          \n                          {tx.type === \"deposit\" && (\n                            <div className=\"text-sm text-muted-foreground\">\n                              <span className=\"font-medium\">Market:</span> {tx.marketQuestion}\n                            </div>\n                          )}\n                          \n                          <div className=\"mt-2 flex items-center gap-4 text-xs text-muted-foreground\">\n                            <span>{formattedDate} at {formattedTime}</span>\n                            {tx.txHash && (\n                              <a\n                                href={`https://coston2-explorer.flare.network/tx/${tx.txHash}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:underline\"\n                              >\n                                View on Explorer\n                                <ExternalLink size={12} />\n                              </a>\n                            )}\n                          </div>\n                        </div>\n                        \n                        <div className=\"text-right\">\n                          <div className=\"text-lg font-semibold font-mono\">\n                            {tx.type === \"deposit\" ? \"+\" : \"\"}${tx.amount.toFixed(2)}\n                          </div>\n                          <div className=\"text-xs text-muted-foreground mt-1\">\n                            {tx.type === \"deposit\" ? \"Deposited\" : \"Amount\"}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )\n                })}\n            </div>\n            {transactions.filter(tx => tx.marketId === marketId).length > 10 && (\n              <div className=\"mt-4 text-center\">\n                <p className=\"text-xs text-muted-foreground\">\n                  Showing last 10 transactions. Total: {transactions.filter(tx => tx.marketId === marketId).length}\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={async () => {\n              // Place all unplaced allocations\n              const unplacedOptions = Object.values(allocations)\n                .filter(alloc => {\n                  if (!alloc.selection || alloc.amount <= 0 || placedAllocations.has(alloc.optionIndex)) {\n                    return false\n                  }\n                  \n                  const currentMode = alloc.buySellMode || \"buy\"\n                  if (currentMode === \"sell\") {\n                    // In Sell mode, check available to sell\n                    return alloc.amount <= getAvailableToSell(alloc.optionIndex, alloc.selection)\n                  } else {\n                    // In Buy mode, check VUSDC (shared for Yes/No)\n                    const availableVusdc = tradingBalance - getOptionTotalAllocation(alloc.optionIndex) + alloc.amount\n                    return alloc.amount <= availableVusdc\n                  }\n                })\n              \n              if (unplacedOptions.length > 0) {\n                // Process transactions sequentially to avoid multiple MetaMask popups at once\n                const newSet = new Set(placedAllocations)\n                \n                for (const alloc of unplacedOptions) {\n                  const currentMode = alloc.buySellMode || \"buy\"\n                  \n                  // Record transaction - Scenario 2: Place Bet (this will trigger MetaMask)\n                  const tx = await recordTransaction({\n                    type: \"bet\",\n                    marketId: marketId,\n                    marketQuestion: market?.question,\n                    optionName: market?.options[alloc.optionIndex]?.name,\n                    selection: alloc.selection || undefined,\n                    buySellMode: currentMode,\n                    amount: alloc.amount,\n                  })\n                  \n                  // Only update state if transaction was successful\n                  if (tx) {\n                    newSet.add(alloc.optionIndex)\n                    \n                    // Track bought positions for Buy transactions\n                    if (currentMode === \"buy\" && alloc.selection) {\n                      setBoughtPositions(prevPos => {\n                        const existing = prevPos.find(\n                          p => p.optionIndex === alloc.optionIndex && p.selection === alloc.selection\n                        )\n                        if (existing) {\n                          return prevPos.map(p =>\n                            p.optionIndex === alloc.optionIndex && p.selection === alloc.selection\n                              ? { ...p, amount: p.amount + alloc.amount }\n                              : p\n                          )\n                        } else {\n                          return [...prevPos, {\n                            optionIndex: alloc.optionIndex,\n                            selection: alloc.selection,\n                            amount: alloc.amount,\n                          }]\n                        }\n                      })\n                    }\n                    \n                    // Reduce bought positions for Sell transactions\n                    if (currentMode === \"sell\" && alloc.selection) {\n                      setBoughtPositions(prevPos => {\n                        return prevPos.map(p => {\n                          if (p.optionIndex === alloc.optionIndex && p.selection === alloc.selection) {\n                            const newAmount = p.amount - alloc.amount\n                            return newAmount > 0 ? { ...p, amount: newAmount } : null\n                          }\n                          return p\n                        }).filter(Boolean) as BoughtPosition[]\n                      })\n                    }\n                  }\n                }\n                \n                setPlacedAllocations(newSet)\n              }\n            }}\n            disabled={\n              totalAllocated === 0 || \n              tradingBalance === 0 ||\n              Object.values(allocations).some(alloc => {\n                if (!alloc.selection || alloc.amount <= 0) return false\n                const currentMode = alloc.buySellMode || \"buy\"\n                if (currentMode === \"sell\") {\n                  return alloc.amount > getAvailableToSell(alloc.optionIndex, alloc.selection)\n                } else {\n                  const availableVusdc = tradingBalance - getOptionTotalAllocation(alloc.optionIndex) + alloc.amount\n                  return alloc.amount > availableVusdc\n                }\n              }) ||\n              Object.values(allocations).every(alloc => \n                !alloc.selection || \n                alloc.amount <= 0 || \n                placedAllocations.has(alloc.optionIndex)\n              ) ||\n              isProcessingTransaction ||\n              !authenticated ||\n              !wallet\n            }\n            className={`flex-1 px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${\n              totalAllocated > 0 && \n              tradingBalance > 0 &&\n              !Object.values(allocations).some(alloc => {\n                if (!alloc.selection || alloc.amount <= 0) return false\n                const currentMode = alloc.buySellMode || \"buy\"\n                if (currentMode === \"sell\") {\n                  return alloc.amount > getAvailableToSell(alloc.optionIndex, alloc.selection)\n                } else {\n                  const availableVusdc = tradingBalance - getOptionTotalAllocation(alloc.optionIndex) + alloc.amount\n                  return alloc.amount > availableVusdc\n                }\n              }) &&\n              Object.values(allocations).some(alloc => \n                alloc.selection && \n                alloc.amount > 0 && \n                !placedAllocations.has(alloc.optionIndex)\n              )\n                ? \"bg-foreground text-background hover:opacity-90\"\n                : \"bg-muted text-muted-foreground cursor-not-allowed\"\n            }`}\n          >\n            {isProcessingTransaction ? \"Processing Transactions...\" : \"Place All Remaining Allocations\"}\n          </button>\n          <button\n            onClick={() => router.push(\"/\")}\n            className=\"px-6 py-3 text-sm font-medium rounded-lg hover:bg-muted transition-colors border border-border\"\n          >\n            Cancel\n          </button>\n        </div>\n      </main>\n\n      {/* Deposit Dialog */}\n      <Dialog open={depositDialogOpen} onOpenChange={setDepositDialogOpen}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Deposit Funds for This Market</DialogTitle>\n            <DialogDescription>\n              Add funds to your trading balance for this specific market only\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground uppercase tracking-widest block mb-2\">\n                Deposit Amount\n              </label>\n              <div className=\"flex items-center gap-2 px-4 py-3 rounded-lg border border-border bg-muted/30\">\n                <span className=\"text-muted-foreground\">$</span>\n                <input\n                  type=\"number\"\n                  value={depositAmount}\n                  onChange={(e) => setDepositAmount(e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"flex-1 bg-transparent text-foreground font-mono focus:outline-none placeholder-muted-foreground/50\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  max={userBalance}\n                />\n              </div>\n              {depositAmount && Number.parseFloat(depositAmount) > userBalance && (\n                <p className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                  Deposit amount exceeds your balance of ${userBalance.toFixed(2)}\n                </p>\n              )}\n            </div>\n            <div className=\"p-4 rounded-lg border border-border bg-muted/20 space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-muted-foreground\">Your Total Balance:</span>\n                <span className=\"text-sm font-semibold font-mono\">${userBalance.toFixed(2)}</span>\n              </div>\n              {tradingBalance > 0 && (\n                <div className=\"flex items-center justify-between pt-2 border-t border-border/50\">\n                  <span className=\"text-sm text-muted-foreground\">Deposited for this market:</span>\n                  <span className=\"text-sm font-semibold font-mono text-foreground\">${tradingBalance.toFixed(2)}</span>\n                </div>\n              )}\n              <div className=\"pt-2 border-t border-border/50\">\n                <p className=\"text-xs text-muted-foreground\">\n                  Note: Funds deposited here are only available for trading in this specific market question.\n                </p>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <button\n              onClick={() => setDepositDialogOpen(false)}\n              className=\"px-4 py-2 text-sm font-medium rounded-lg hover:bg-muted transition-colors border border-border\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={async () => {\n                const amount = Number.parseFloat(depositAmount) || 0\n                if (amount > 0 && amount <= userBalance) {\n                  // Record transaction - Scenario 1: Deposit (this will trigger MetaMask)\n                  const tx = await recordTransaction({\n                    type: \"deposit\",\n                    marketId: marketId,\n                    marketQuestion: market?.question,\n                    amount: amount,\n                  })\n                  \n                  // Only update balances if transaction was successful\n                  if (tx) {\n                    setTradingBalance((prev) => prev + amount)\n                    // Deduct from wallet balance\n                    setUserBalance((prev) => prev - amount)\n                    // VUSDC will be updated automatically via useEffect when tradingBalance changes\n                    setDepositAmount(\"\")\n                    setDepositDialogOpen(false)\n                  }\n                }\n              }}\n              disabled={\n                !depositAmount || \n                Number.parseFloat(depositAmount) <= 0 || \n                Number.parseFloat(depositAmount) > userBalance ||\n                isProcessingTransaction ||\n                !authenticated ||\n                !wallet\n              }\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-all ${\n                depositAmount && Number.parseFloat(depositAmount) > 0 && Number.parseFloat(depositAmount) <= userBalance && !isProcessingTransaction\n                  ? \"bg-foreground text-background hover:opacity-90\"\n                  : \"bg-muted text-muted-foreground cursor-not-allowed\"\n              }`}\n            >\n              {isProcessingTransaction ? \"Processing Transaction...\" : \"Deposit\"}\n            </button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Trading Balance Dialog */}\n      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Edit Trading Balance</DialogTitle>\n            <DialogDescription>\n              Update your trading balance for this market\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground uppercase tracking-widest block mb-2\">\n                Trading Balance Amount\n              </label>\n              <div className=\"flex items-center gap-2 px-4 py-3 rounded-lg border border-border bg-muted/30\">\n                <span className=\"text-muted-foreground\">$</span>\n                <input\n                  type=\"number\"\n                  value={editAmount}\n                  onChange={(e) => setEditAmount(e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"flex-1 bg-transparent text-foreground font-mono focus:outline-none placeholder-muted-foreground/50\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  max={userBalance + tradingBalance}\n                />\n              </div>\n              {editAmount && Number.parseFloat(editAmount) > userBalance + tradingBalance && (\n                <p className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                  Amount exceeds available balance of ${(userBalance + tradingBalance).toFixed(2)}\n                </p>\n              )}\n            </div>\n            <div className=\"p-4 rounded-lg border border-border bg-muted/20\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-muted-foreground\">Available Balance:</span>\n                <span className=\"text-sm font-semibold font-mono\">${(userBalance + tradingBalance).toFixed(2)}</span>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <button\n              onClick={() => setEditDialogOpen(false)}\n              className=\"px-4 py-2 text-sm font-medium rounded-lg hover:bg-muted transition-colors border border-border\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={() => {\n                const amount = Number.parseFloat(editAmount) || 0\n                const currentTotal = userBalance + tradingBalance\n                if (amount >= 0 && amount <= currentTotal) {\n                  const difference = amount - tradingBalance\n                  setTradingBalance(amount)\n                  // Adjust wallet balance based on difference\n                  if (difference > 0) {\n                    // Increasing trading balance - deduct from wallet\n                    setUserBalance((prev) => Math.max(0, prev - difference))\n                  } else if (difference < 0) {\n                    // Decreasing trading balance - add back to wallet\n                    setUserBalance((prev) => prev - difference)\n                  }\n                  // VUSDC will be updated automatically via useEffect when tradingBalance changes\n                  setEditAmount(\"\")\n                  setEditDialogOpen(false)\n                }\n              }}\n              disabled={!editAmount || Number.parseFloat(editAmount) < 0 || Number.parseFloat(editAmount) > userBalance + tradingBalance}\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-all ${\n                editAmount && Number.parseFloat(editAmount) >= 0 && Number.parseFloat(editAmount) <= userBalance + tradingBalance\n                  ? \"bg-foreground text-background hover:opacity-90\"\n                  : \"bg-muted text-muted-foreground cursor-not-allowed\"\n              }`}\n            >\n              Save\n            </button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Clear Deposit Confirmation Dialog */}\n      <Dialog open={clearConfirmDialogOpen} onOpenChange={setClearConfirmDialogOpen}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Clear Deposit</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to clear all deposited funds? This will reset your trading balance and all allocations.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"p-4 rounded-lg border border-border bg-muted/20\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-sm text-muted-foreground\">Current Trading Balance:</span>\n                <span className=\"text-sm font-semibold font-mono\">${tradingBalance.toFixed(2)}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-muted-foreground\">Total Allocated:</span>\n                <span className=\"text-sm font-semibold font-mono\">${totalAllocated.toFixed(2)}</span>\n              </div>\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              This action cannot be undone. All your allocations will be reset.\n            </p>\n          </div>\n          <DialogFooter>\n            <button\n              onClick={() => setClearConfirmDialogOpen(false)}\n              className=\"px-4 py-2 text-sm font-medium rounded-lg hover:bg-muted transition-colors border border-border\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={() => {\n                // Return trading balance back to wallet\n                setUserBalance((prev) => prev + tradingBalance)\n                setTradingBalance(0)\n                // Reset all allocations\n                const resetAllocations: Record<number, Allocation> = {}\n                market.options.forEach((_, idx) => {\n                  resetAllocations[idx] = {\n                    optionIndex: idx,\n                    selection: null,\n                    amount: 0,\n                    buySellMode: \"buy\" as const,\n                  }\n                })\n                setAllocations(resetAllocations)\n                setPlacedAllocations(new Set())\n                // Clear bought positions\n                setBoughtPositions([])\n                setClearConfirmDialogOpen(false)\n              }}\n              className=\"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 dark:bg-red-500 text-white hover:opacity-90 transition-opacity\"\n            >\n              Clear Deposit\n            </button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;;;;;;AAEA;;;AAXA;;;;;;;;;;;AA+BA,2DAA2D;AAC3D,MAAM,UAAoB;IACxB;QACE,IAAI;QACJ,UAAU;QACV,UAAU;QACV,SAAS;YACP;gBAAE,MAAM;gBAAS,WAAW;YAAU;YACtC;gBAAE,MAAM;gBAAY,WAAW;YAAU;YACzC;gBAAE,MAAM;gBAAY,WAAW;YAAU;SAC1C;QACD,QAAQ;QACR,SAAS;QACT,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,UAAU;QACV,UAAU;QACV,SAAS;YACP;gBAAE,MAAM;gBAAU,WAAW;YAAU;YACvC;gBAAE,MAAM;gBAAa,WAAW;YAAU;YAC1C;gBAAE,MAAM;gBAAY,WAAW;YAAU;SAC1C;QACD,QAAQ;QACR,SAAS;QACT,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,UAAU;QACV,UAAU;QACV,SAAS;YACP;gBAAE,MAAM;gBAAO,WAAW;YAAU;YACpC;gBAAE,MAAM;gBAAM,WAAW;YAAU;SACpC;QACD,QAAQ;QACR,SAAS;QACT,UAAU;QACV,OAAO,CAAC;IACV;IACA;QACE,IAAI;QACJ,UAAU;QACV,UAAU;QACV,SAAS;YACP;gBAAE,MAAM;gBAAO,WAAW;YAAU;YACpC;gBAAE,MAAM;gBAAS,WAAW;YAAU;YACtC;gBAAE,MAAM;gBAAM,WAAW;YAAS;SACnC;QACD,QAAQ;QACR,SAAS;QACT,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,UAAU;QACV,UAAU;QACV,SAAS;YACP;gBAAE,MAAM;gBAAsB,WAAW;YAAU;YACnD;gBAAE,MAAM;gBAAiB,WAAW;YAAU;YAC9C;gBAAE,MAAM;gBAAuB,WAAW;YAAU;YACpD;gBAAE,MAAM;gBAAS,WAAW;YAAU;SACvC;QACD,QAAQ;QACR,SAAS;QACT,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,UAAU;QACV,UAAU;QACV,SAAS;YACP;gBAAE,MAAM;gBAAO,WAAW;YAAU;YACpC;gBAAE,MAAM;gBAAM,WAAW;YAAU;SACpC;QACD,QAAQ;QACR,SAAS;QACT,UAAU;QACV,OAAO,CAAC;IACV;CACD;AA8BD,0DAA0D;AAC1D,SAAS,qBAAwB,GAAW,EAAE,YAAe;IAC3D;;IACA,IAAI;QACF,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,UAAU,MAAM,OAAO;QAC3B,IAAI,OAAO,iBAAiB,UAAU;YACpC,OAAO,OAAO,UAAU,CAAC;QAC3B;QACA,IAAI,OAAO,iBAAiB,YAAY,iBAAiB,MAAM;YAC7D,OAAO,KAAK,KAAK,CAAC;QACpB;QACA,OAAO;IACT,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,IAAI,mBAAmB,CAAC,EAAE;QACzD,OAAO;IACT;AACF;AAEe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,OAAO,QAAQ,CAAC,QAAQ;IACzC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,oIAAQ;IAC1B,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,4OAAU;IAC9B,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,sOAAQ;IAElC,kEAAkE;IAClE,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,gBAAgB,KAAK,eAAe,OAAO,CAAC,EAAE;IAEjF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,yKAAQ,EAAC;IACvE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAS;IAC3D,iFAAiF;IACjF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ;qCAAS,IACrD,qBAAqB,eAAe;;IAEtC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ;qCAAS,IAC3D,qBAAqB,CAAC,eAAe,EAAE,UAAU,EAAE;;IAErD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ;qCAA6B,IACzE,qBAAqB,CAAC,YAAY,EAAE,UAAU,EAAE,CAAC;;IAEnD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ;qCAAc;YACtE,MAAM,QAAQ,qBAA+B,CAAC,kBAAkB,EAAE,UAAU,EAAE,EAAE;YAChF,OAAO,IAAI,IAAI;QACjB;;IACA,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ;qCAAmB;YACvE,MAAM,QAAQ,qBAAuC,CAAC,gBAAgB,EAAE,UAAU,EAAE,EAAE;YACtF,OAAO,SAAS,EAAE;QACpB;;IACA,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAS;IACrD,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,yKAAQ,EAAC;IACrE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ;qCAAgB;YAC9D,wCAAmC;gBACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,OAAO,QAAQ,KAAK,KAAK,CAAC,SAAS,EAAE;YACvC;;;QAEF;;IAEA,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAE5C,iDAAiD;IACjD,MAAM,4BAA4B,OAChC,QACA,iBACA;QAMA,IAAI,CAAC,iBAAiB,CAAC,QAAQ;YAC7B,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;YACA,OAAO;QACT;QAEA,IAAI;YACF,2BAA2B;YAE3B,mDAAmD;YACnD,IAAI;gBACF,MAAM,OAAO,WAAW,CAAC,MAAK,iCAAiC;YACjE,EAAE,OAAO,aAAa;gBACpB,qEAAqE;gBACrE,QAAQ,IAAI,CAAC,2CAA2C;YAC1D;YAEA,8CAA8C;YAC9C,MAAM,WAAW,MAAM,OAAO,mBAAmB;YAEjD,+CAA+C;YAC/C,MAAM,eAAe,IAAA,sLAAkB,EAAC;gBACtC,SAAS,OAAO,OAAO;gBACvB,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,SAAS;oBACT,gBAAgB;wBACd,UAAU;wBACV,MAAM;wBACN,QAAQ;oBACV;oBACA,SAAS;wBACP,SAAS;4BACP,MAAM;gCAAC;6BAA8C;wBACvD;oBACF;oBACA,gBAAgB;wBACd,SAAS;4BACP,MAAM;4BACN,KAAK;wBACP;oBACF;oBACA,SAAS;gBACX;gBACA,WAAW,IAAA,4KAAM,EAAC;YACpB;YAEA,kEAAkE;YAClE,mEAAmE;YACnE,MAAM,cAAc,IAAA,4KAAU,EAAC,OAAO,QAAQ;YAE9C,qEAAqE;YACrE,iDAAiD;YACjD,MAAM,mBAAmB,IAAA,+KAAU,EAAC,UAAU,MAAM;YAEpD,4CAA4C;YAC5C,qDAAqD;YACrD,MAAM,SAAS,MAAM,aAAa,eAAe,CAAC;gBAChD,IAAI;gBACJ,OAAO;YAGT;YAEA,OAAO;QACT,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,sBAAsB;YAEpC,yCAAyC;YACzC,IAAI,OAAO,SAAS,QAAQ,OAAO,SAAS,SAAS,eAAe,OAAO,SAAS,SAAS,aAAa,OAAO,SAAS,mBAAmB;gBAC3I,MAAM;oBACJ,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;YACF,OAAO;gBACL,MAAM;oBACJ,OAAO;oBACP,aAAa,OAAO,WAAW;oBAC/B,SAAS;gBACX;YACF;YACA,OAAO;QACT,SAAU;YACR,2BAA2B;QAC7B;IACF;IAEA,0EAA0E;IAC1E,MAAM,oBAAoB,OACxB;QAEA,mCAAmC;QACnC,MAAM,SAAS,MAAM,0BACnB,YAAY,MAAM,EAClB,YAAY,IAAI,EAChB;YACE,YAAY,YAAY,UAAU;YAClC,WAAW,YAAY,SAAS;YAChC,aAAa,YAAY,WAAW;QACtC;QAGF,IAAI,CAAC,QAAQ;YACX,qCAAqC;YACrC,OAAO;QACT;QAEA,MAAM,iBAA8B;YAClC,GAAG,WAAW;YACd,IAAI,CAAC,GAAG,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;YACjE,WAAW,KAAK,GAAG;YACnB,QAAQ;YACR,QAAQ;QACV;QAEA,gBAAgB,CAAC;YACf,MAAM,UAAU;gBAAC;mBAAmB;aAAK;YACzC,uBAAuB;YACvB,wCAAmC;gBACjC,IAAI;oBACF,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;gBACtD,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,8BAA8B;gBAC9C;YACF;YACA,OAAO;QACT;QAEA,kCAAkC;QAClC,IAAI,YAAY,IAAI,KAAK,WAAW;YAClC,MAAM;gBACJ,OAAO;gBACP,aAAa,CAAC,wBAAwB,EAAE,YAAY,MAAM,CAAC,OAAO,CAAC,GAAG,+BAA+B,EAAE,OAAO,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC;gBAC/H,SAAS;YACX;QACF,OAAO;YACL,MAAM,aAAa,YAAY,WAAW,KAAK,SAAS,SAAS;YACjE,MAAM;gBACJ,OAAO;gBACP,aAAa,GAAG,WAAW,SAAS,EAAE,YAAY,MAAM,CAAC,OAAO,CAAC,GAAG,YAAY,EAAE,YAAY,UAAU,CAAC,EAAE,EAAE,YAAY,SAAS,EAAE,cAAc,gBAAgB,EAAE,OAAO,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC;gBAC5L,SAAS;YACX;QACF;QAEA,gCAAgC;QAChC,QAAQ,GAAG,CAAC,yBAAyB;QAErC,OAAO;IACT;IAEA,8FAA8F;IAC9F,IAAA,0KAAS;sCAAC;YACR,IAAI,+CAAkB,eAAe,gBAAgB,WAAW;gBAC9D,IAAI;oBACF,aAAa,OAAO,CAAC,eAAe,YAAY,QAAQ;gBAC1D,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,6CAA6C;gBAC7D;YACF;QACF;qCAAG;QAAC;KAAY;IAEhB,IAAA,0KAAS;sCAAC;YACR,IAAI,+CAAkB,eAAe,mBAAmB,WAAW;gBACjE,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,eAAe,EAAE,UAAU,EAAE,eAAe,QAAQ;gBAC5E,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,gDAAgD;gBAChE;YACF;QACF;qCAAG;QAAC;QAAgB;KAAS;IAE7B,IAAA,0KAAS;sCAAC;YACR,IAAI,+CAAkB,eAAe,eAAe,OAAO,IAAI,CAAC,aAAa,MAAM,IAAI,GAAG;gBACxF,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,YAAY,EAAE,UAAU,EAAE,KAAK,SAAS,CAAC;gBACjE,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,6CAA6C;gBAC7D;YACF;QACF;qCAAG;QAAC;QAAa;KAAS;IAE1B,IAAA,0KAAS;sCAAC;YACR,IAAI,+CAAkB,eAAe,mBAAmB;gBACtD,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,kBAAkB,EAAE,UAAU,EAAE,KAAK,SAAS,CAAC,MAAM,IAAI,CAAC;gBAClF,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,mDAAmD;gBACnE;YACF;QACF;qCAAG;QAAC;QAAmB;KAAS;IAEhC,IAAA,0KAAS;sCAAC;YACR,IAAI,+CAAkB,eAAe,iBAAiB;gBACpD,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,gBAAgB,EAAE,UAAU,EAAE,KAAK,SAAS,CAAC;gBACrE,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,iDAAiD;gBACjE;YACF;QACF;qCAAG;QAAC;QAAiB;KAAS;IAE9B,IAAA,0KAAS;sCAAC;YACR,yCAAyC;YACzC,IAAI,QAAQ;gBACV,MAAM,qBAAiD,CAAC;gBACxD,OAAO,OAAO,CAAC,OAAO;kDAAC,CAAC,GAAG;wBACzB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;4BACrB,kBAAkB,CAAC,IAAI,GAAG;gCACxB,aAAa;gCACb,WAAW;gCACX,QAAQ;gCACR,aAAa;4BACf;wBACF;oBACF;;gBACA,IAAI,OAAO,IAAI,CAAC,oBAAoB,MAAM,GAAG,GAAG;oBAC9C;sDAAe,CAAC,OAAS,CAAC;gCAAE,GAAG,IAAI;gCAAE,GAAG,kBAAkB;4BAAC,CAAC;;gBAC9D;YACF;QACF;qCAAG;QAAC;KAAO;IAEX,yEAAyE;IACzE,oDAAoD;IAEpD,IAAI,CAAC,QAAQ;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,6LAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,MAAM,cAAc,CAAC;QACnB,MAAM,QAAQ,UAAU,KAAK,CAAC;QAC9B,IAAI,CAAC,OAAO,OAAO;QACnB,MAAM,QAAQ,WAAW,KAAK,CAAC,EAAE;QACjC,MAAM,SAAS,KAAK,CAAC,EAAE,EAAE;QACzB,IAAI,WAAW,KAAK,OAAO,QAAQ;QACnC,IAAI,WAAW,KAAK,OAAO,QAAQ;QACnC,IAAI,WAAW,KAAK,OAAO,QAAQ;QACnC,OAAO;IACT;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,SAAS,YAAY;YACvB,OAAO,CAAC,CAAC,EAAE,CAAC,QAAQ,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QAC/C,OAAO,IAAI,SAAS,SAAS;YAC3B,OAAO,CAAC,CAAC,EAAE,CAAC,QAAQ,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QAC5C,OAAO,IAAI,SAAS,MAAM;YACxB,OAAO,CAAC,CAAC,EAAE,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QACzC;QACA,OAAO,CAAC,CAAC,EAAE,MAAM,OAAO,CAAC,IAAI;IAC/B;IAEA,MAAM,qBAAqB,CAAC;QAC1B,MAAM,cAAc,YAAY;QAChC,OAAO,eAAe;IACxB;IAEA,gFAAgF;IAChF,MAAM,iBAAiB,CAAC,aAAqB;QAC3C,MAAM,YAAY,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,SAAS,EAAE;QAC3E,MAAM,SAAS,OAAO,OAAO,CAAC,YAAY;QAE1C,2CAA2C;QAC3C,MAAM,qBAAqB,AAAC,OAAO,SAAS,GAAG,YAAa;QAE5D,IAAI,cAAc,OAAO;YACvB,8CAA8C;YAC9C,OAAO;QACT,OAAO;YACL,mDAAmD;YACnD,OAAO,MAAM;QACf;IACF;IAEA,uCAAuC;IACvC,MAAM,iBAAiB,CAAC;QACtB,OAAO,QAAQ;IACjB;IAEA,+DAA+D;IAC/D,MAAM,iBAAiB,OAAO,MAAM,CAAC,aAAa,MAAM,CACtD,CAAC,KAAK,QAAU,MAAM,CAAC,MAAM,SAAS,GAAG,MAAM,MAAM,GAAG,CAAC,GACzD;IAGF,uEAAuE;IACvE,MAAM,2BAA2B,CAAC;QAChC,MAAM,QAAQ,WAAW,CAAC,YAAY;QACtC,IAAI,CAAC,OAAO,OAAO;QACnB,iFAAiF;QACjF,0EAA0E;QAC1E,OAAO,MAAM,SAAS,GAAG,MAAM,MAAM,GAAG;IAC1C;IAEA,mEAAmE;IACnE,MAAM,qBAAqB,CAAC,aAAqB;QAC/C,MAAM,WAAW,gBAAgB,IAAI,CACnC,CAAA,MAAO,IAAI,WAAW,KAAK,eAAe,IAAI,SAAS,KAAK;QAE9D,OAAO,WAAW,SAAS,MAAM,GAAG;IACtC;IAEA,4FAA4F;IAC5F,mEAAmE;IAEnE,2BAA2B;IAC3B,MAAM,yBAAyB,CAC7B,aACA,WACA,QACA;QAEA,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG;QAE9B,eAAe,CAAC;YACd,MAAM,UAAU,IAAI,CAAC,YAAY,IAAI;gBAAE;gBAAa,WAAW;gBAAM,QAAQ;gBAAG,aAAa;YAAe;YAC5G,OAAO;gBACL,GAAG,IAAI;gBACP,CAAC,YAAY,EAAE;oBACb;oBACA;oBACA,QAAQ;oBACR,aAAa,eAAe,QAAQ,WAAW,IAAI;gBACrD;YACF;QACF;IACA,4EAA4E;IAC9E;IAEA,oEAAoE;IACpE,iEAAiE;IACjE,4DAA4D;IAC5D,MAAM,6BAA6B,CAAC,aAAqB,WAAyB;QAChF,MAAM,aAAa,eAAe,aAAa;QAC/C,MAAM,eAAe,eAAe;QACpC,kDAAkD;QAClD,OAAO,SAAS;IAClB;IAEA,uEAAuE;IACvE,MAAM,uBAAuB,OAAO,MAAM,CAAC,aACxC,MAAM,CAAC,CAAC,QAAU,MAAM,SAAS,KAAK,QAAQ,MAAM,MAAM,GAAG,GAC7D,MAAM,CAAC,CAAC,KAAK;QACZ,IAAI,MAAM,SAAS,EAAE;YACnB,MAAM,kBAAkB,2BAA2B,MAAM,WAAW,EAAE,MAAM,SAAS,EAAE,MAAM,MAAM;YACnG,OAAO,KAAK,GAAG,CAAC,KAAK;QACvB;QACA,OAAO;IACT,GAAG;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,0IAAS;gBACR,OAAM;gBACN,gBAAgB;gBAChB,aAAa,IAAM,OAAO,IAAI,CAAC;gBAC/B,aAAa;eACR;;;;;0BAIP,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAEZ,iBAAiB,kBAChB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAA4C;;;;;;sDAC5D,6LAAC;4CAAK,WAAU;;gDAAqE;gDAAE,eAAe,OAAO,CAAC;;;;;;;;;;;;yDAGhH,6LAAC;oCAAI,WAAU;8CAAgC;;;;;;;;;;;4BAKlD,CAAC,iBAAiB,CAAC,uBAClB,6LAAC;gCAAI,WAAU;0CAA4C;;;;;qDAI3D,6LAAC;gCACC,SAAS,IAAM,qBAAqB;gCACpC,WAAU;gCACV,UAAU;0CAET,0BAA0B,kBAAkB;;;;;;;;;;;;;;;;;;;;;;0BAQvD,6LAAC;gBAAK,WAAU;;kCAEd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDACb,OAAO,QAAQ;;;;;;oCAEjB,OAAO,KAAK,kBACX,6LAAC;wCACC,WAAW,CAAC,4CAA4C,EACtD,OAAO,KAAK,GAAG,IACX,uCACA,kCACJ;;0DAEF,6LAAC,mOAAU;gDAAC,MAAM;;;;;;4CACjB,OAAO,KAAK,GAAG,IAAI,MAAM;4CACzB,OAAO,KAAK;4CAAC;;;;;;;;;;;;;0CAIpB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAG,WAAU;8CAA0B,OAAO,QAAQ;;;;;;;;;;;0CAEzD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;4CAAK;4CAAS,mBAAmB,OAAO,MAAM;;;;;;;kDAC/C,6LAAC;;4CAAK;4CAAU,OAAO,OAAO;;;;;;;kDAC9B,6LAAC;;4CAAK;4CAAY,OAAO,QAAQ;;;;;;;;;;;;;;;;;;;kCAKrC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,2IAAU;4BAAC,SAAS,OAAO,OAAO;;;;;;;;;;;oBAIpC,iBAAiB,mBAChB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;8CAE/C,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;gDAA+B;gDAAE,eAAe,OAAO,CAAC;;;;;;;sDACvE,6LAAC;4CAAI,WAAU;;gDAAqC;gDAChC,eAAe,OAAO,CAAC;;;;;;;sDAE3C,6LAAC;4CAAI,WAAU;;gDAAqC;gDAC/B,eAAe,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;kCAQpD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;4BAC1C,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ;gCAC3B,MAAM,aAAa,WAAW,CAAC,YAAY,IAAI;oCAC7C;oCACA,WAAW;oCACX,QAAQ;oCACR,aAAa;gCACf;gCACA,MAAM,WAAW,eAAe,aAAa;gCAC7C,MAAM,UAAU,eAAe,aAAa;gCAC5C,MAAM,YAAY,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,SAAS,EAAE;gCAC3E,MAAM,mBAAmB,AAAC,OAAO,SAAS,GAAG,YAAa;gCAE1D,qBACE,6LAAC;oCAEC,WAAW,CAAC,OAAO,EAAE,YAAY,2GAA2G,CAAC;;sDAG7I,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAG,WAAU;sEAA8B,OAAO,IAAI;;;;;;sEACvD,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;;wEAAM,iBAAiB,OAAO,CAAC;wEAAG;;;;;;;8EACnC,6LAAC;8EAAK;;;;;;8EACN,6LAAC;;wEAAM,eAAe,OAAO,SAAS;wEAAE;;;;;;;;;;;;;;;;;;;gDAI3C,iBAAiB,mBAChB,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;sEAC5D,6LAAC;4DAAK,WAAU;;gEAAmE;gEAC/E,CAAC,iBAAiB,yBAAyB,YAAY,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;sDAO3E,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDACC,SAAS;4DACP,IAAI,WAAW,SAAS,EAAE;gEACxB,uBACE,aACA,WAAW,SAAS,EACpB,WAAW,MAAM,EACjB;4DAEJ,OAAO;gEACL,eAAe,CAAC,OAAS,CAAC;wEACxB,GAAG,IAAI;wEACP,CAAC,YAAY,EAAE;4EACb,GAAI,IAAI,CAAC,YAAY,IAAI;gFAAE;gFAAa,WAAW;gFAAM,QAAQ;gFAAG,aAAa;4EAAe,CAAC;4EACjG,aAAa;wEACf;oEACF,CAAC;4DACH;wDACF;wDACA,WAAW,CAAC,wDAAwD,EAClE,CAAC,WAAW,WAAW,IAAI,KAAK,MAAM,QAClC,oBACA,+CACJ;;4DACH;4DAEE,CAAC,WAAW,WAAW,IAAI,KAAK,MAAM,uBACrC,6LAAC;gEAAK,WAAU;;;;;;;;;;;;kEAGpB,6LAAC;wDACC,SAAS;4DACP,IAAI,WAAW,SAAS,EAAE;gEACxB,uBACE,aACA,WAAW,SAAS,EACpB,WAAW,MAAM,EACjB;4DAEJ,OAAO;gEACL,eAAe,CAAC,OAAS,CAAC;wEACxB,GAAG,IAAI;wEACP,CAAC,YAAY,EAAE;4EACb,GAAI,IAAI,CAAC,YAAY,IAAI;gFAAE;gFAAa,WAAW;gFAAM,QAAQ;gFAAG,aAAa;4EAAe,CAAC;4EACjG,aAAa;wEACf;oEACF,CAAC;4DACH;wDACF;wDACA,WAAW,CAAC,wDAAwD,EAClE,WAAW,WAAW,KAAK,SACvB,oBACA,+CACJ;;4DACH;4DAEE,WAAW,WAAW,KAAK,wBAC1B,6LAAC;gEAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;;sDAOxB,6LAAC;4CAAI,WAAU;;8DAEb,6LAAC;oDACC,SAAS;wDACP,MAAM,cAAc,WAAW,WAAW,IAAI;wDAE9C,0DAA0D;wDAC1D,IAAI,gBAAgB,QAAQ;4DAC1B,MAAM,kBAAkB,mBAAmB,aAAa;4DACxD,IAAI,oBAAoB,GAAG;gEACzB,mCAAmC;gEACnC;4DACF;wDACF;wDAEA,sFAAsF;wDACtF,IAAI,gBAAgB,SAAS,WAAW,SAAS,KAAK,QAAQ,WAAW,MAAM,GAAG,GAAG;4DACnF,6DAA6D;4DAC7D,eAAe,CAAA,OAAQ,CAAC;oEACtB,GAAG,IAAI;oEACP,CAAC,YAAY,EAAE;wEACb;wEACA,WAAW;wEACX,QAAQ;wEACR,aAAa;oEACf;gEACF,CAAC;4DACD,qBAAqB,CAAA;gEACnB,MAAM,SAAS,IAAI,IAAI;gEACvB,OAAO,MAAM,CAAC;gEACd,OAAO;4DACT;4DACA;wDACF;wDAEA,IAAI,WAAW,SAAS,KAAK,SAAS,WAAW,WAAW,KAAK,aAAa;4DAC5E,8CAA8C;4DAC9C,uBAAuB,aAAa,MAAM,GAAG;4DAC7C,qBAAqB,CAAA;gEACnB,MAAM,SAAS,IAAI,IAAI;gEACvB,OAAO,MAAM,CAAC;gEACd,OAAO;4DACT;wDACF,OAAO;4DACL,gBAAgB;4DAChB,MAAM,YAAY,gBAAgB,SAC9B,KAAK,GAAG,CAAC,WAAW,MAAM,IAAI,GAAG,mBAAmB,aAAa,UACjE,EAAE,iDAAiD;;4DACvD,uBACE,aACA,OACA,WACA;4DAEF,6CAA6C;4DAC7C,IAAI,kBAAkB,GAAG,CAAC,cAAc;gEACtC,qBAAqB,CAAA;oEACnB,MAAM,SAAS,IAAI,IAAI;oEACvB,OAAO,MAAM,CAAC;oEACd,OAAO;gEACT;4DACF;wDACF;oDACF;oDACA,WAAW,CAAC,uCAAuC,EACjD,WAAW,SAAS,KAAK,SAAS,CAAC,WAAW,WAAW,IAAI,KAAK,MAAM,CAAC,WAAW,WAAW,IAAI,KAAK,IACpG,6CACA,WAAW,SAAS,KAAK,QACzB,2EACA,mIACJ;8DAEF,cAAA,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;;oEAAqB;oEAC7B,SAAS,OAAO,CAAC;oEAAG;;;;;;;4DAE1B,WAAW,WAAW,KAAK,UAAU,mBAAmB,aAAa,SAAS,mBAC7E,6LAAC;gEAAI,WAAU;;oEAAqC;oEAC3C,mBAAmB,aAAa,OAAO,OAAO,CAAC;;;;;;;4DAGzD,WAAW,SAAS,KAAK,SAAS,WAAW,MAAM,GAAG,mBACrD,6LAAC;gEAAI,WAAU;;oEACZ,WAAW,WAAW,KAAK,SAAS,SAAS;oEAAM;oEAAG,WAAW,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;8DAOzF,6LAAC;oDACC,SAAS;wDACP,MAAM,cAAc,WAAW,WAAW,IAAI;wDAE9C,yDAAyD;wDACzD,IAAI,gBAAgB,QAAQ;4DAC1B,MAAM,kBAAkB,mBAAmB,aAAa;4DACxD,IAAI,oBAAoB,GAAG;gEACzB,mCAAmC;gEACnC;4DACF;wDACF;wDAEA,sFAAsF;wDACtF,IAAI,gBAAgB,SAAS,WAAW,SAAS,KAAK,SAAS,WAAW,MAAM,GAAG,GAAG;4DACpF,6DAA6D;4DAC7D,eAAe,CAAA,OAAQ,CAAC;oEACtB,GAAG,IAAI;oEACP,CAAC,YAAY,EAAE;wEACb;wEACA,WAAW;wEACX,QAAQ;wEACR,aAAa;oEACf;gEACF,CAAC;4DACD,qBAAqB,CAAA;gEACnB,MAAM,SAAS,IAAI,IAAI;gEACvB,OAAO,MAAM,CAAC;gEACd,OAAO;4DACT;4DACA;wDACF;wDAEA,IAAI,WAAW,SAAS,KAAK,QAAQ,WAAW,WAAW,KAAK,aAAa;4DAC3E,8CAA8C;4DAC9C,uBAAuB,aAAa,MAAM,GAAG;4DAC7C,qBAAqB,CAAA;gEACnB,MAAM,SAAS,IAAI,IAAI;gEACvB,OAAO,MAAM,CAAC;gEACd,OAAO;4DACT;wDACF,OAAO;4DACL,eAAe;4DACf,MAAM,YAAY,gBAAgB,SAC9B,KAAK,GAAG,CAAC,WAAW,MAAM,IAAI,GAAG,mBAAmB,aAAa,SACjE,EAAE,iDAAiD;;4DACvD,uBACE,aACA,MACA,WACA;4DAEF,6CAA6C;4DAC7C,IAAI,kBAAkB,GAAG,CAAC,cAAc;gEACtC,qBAAqB,CAAA;oEACnB,MAAM,SAAS,IAAI,IAAI;oEACvB,OAAO,MAAM,CAAC;oEACd,OAAO;gEACT;4DACF;wDACF;oDACF;oDACA,WAAW,CAAC,uCAAuC,EACjD,WAAW,SAAS,KAAK,QAAQ,CAAC,WAAW,WAAW,IAAI,KAAK,MAAM,CAAC,WAAW,WAAW,IAAI,KAAK,IACnG,yCACA,WAAW,SAAS,KAAK,OACzB,mEACA,2HACJ;8DAEF,cAAA,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;;oEAAqB;oEAC9B,QAAQ,OAAO,CAAC;oEAAG;;;;;;;4DAExB,WAAW,WAAW,KAAK,UAAU,mBAAmB,aAAa,QAAQ,mBAC5E,6LAAC;gEAAI,WAAU;;oEAAqC;oEAC3C,mBAAmB,aAAa,MAAM,OAAO,CAAC;;;;;;;4DAGxD,WAAW,SAAS,KAAK,QAAQ,WAAW,MAAM,GAAG,mBACpD,6LAAC;gEAAI,WAAU;;oEACZ,WAAW,WAAW,KAAK,SAAS,SAAS;oEAAM;oEAAG,WAAW,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;wCAQ1F,WAAW,SAAS,kBACnB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;8DAAiF;;;;;;8DAGlG,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEAAwB;;;;;;sEACxC,6LAAC;4DACC,MAAK;4DACL,OAAO,WAAW,MAAM,IAAI;4DAC5B,UAAU,CAAC;gEACT,IAAI,SAAS,OAAO,UAAU,CAAC,EAAE,MAAM,CAAC,KAAK,KAAK;gEAClD,MAAM,cAAc,WAAW,WAAW,IAAI;gEAE9C,2CAA2C;gEAC3C,IAAI,gBAAgB,UAAU,WAAW,SAAS,EAAE;oEAClD,MAAM,UAAU,mBAAmB,aAAa,WAAW,SAAS;oEACpE,SAAS,KAAK,GAAG,CAAC,QAAQ;gEAC5B;gEAEA,gFAAgF;gEAChF,IAAI,gBAAgB,SAAS,WAAW,SAAS,EAAE;oEACjD,MAAM,oBAAoB,WAAW,CAAC,YAAY;oEAClD,MAAM,kBAAkB,mBAAmB,cAAc,WAAW,SAAS,GACzE,IACC,mBAAmB,UAAU;oEAClC,MAAM,iBAAiB,iBAAiB;oEACxC,SAAS,KAAK,GAAG,CAAC,QAAQ;gEAC5B;gEAEA,uBACE,aACA,WAAW,SAAS,EACpB,QACA;gEAEF,mDAAmD;gEACnD,IAAI,kBAAkB,GAAG,CAAC,cAAc;oEACtC,qBAAqB,CAAA;wEACnB,MAAM,SAAS,IAAI,IAAI;wEACvB,OAAO,MAAM,CAAC;wEACd,OAAO;oEACT;gEACF;4DACF;4DACA,aAAY;4DACZ,WAAU;4DACV,MAAK;4DACL,KAAI;4DACJ,KAAK,WAAW,WAAW,KAAK,UAAU,WAAW,SAAS,GAC1D,mBAAmB,aAAa,WAAW,SAAS,IACpD,iBAAiB,yBAAyB,eAAe,CAAC,WAAW,SAAS,GAAG,WAAW,MAAM,GAAG,CAAC;;;;;;sEAG5G,6LAAC;4DACC,SAAS;gEACP,MAAM,cAAc,WAAW,WAAW,IAAI;gEAC9C,IAAI,WAAW;gEAEf,IAAI,gBAAgB,QAAQ;oEAC1B,4DAA4D;oEAC5D,MAAM,kBAAkB,mBAAmB,aAAa,WAAW,SAAS;oEAC5E,WAAW,WAAW,MAAM,GAAG,KAAK,WAAW,MAAM,IAAI;gEAC3D,OAAO;oEACL,8DAA8D;oEAC9D,MAAM,iBAAiB,iBAAiB,yBAAyB,eAAe,WAAW,MAAM;oEACjG,WAAW,WAAW,MAAM,GAAG,KAAK,WAAW,MAAM,IAAI;gEAC3D;gEAEA,IAAI,UAAU;oEACZ,0EAA0E;oEAC1E,MAAM,KAAK,MAAM,kBAAkB;wEACjC,MAAM;wEACN,UAAU;wEACV,gBAAgB,QAAQ;wEACxB,YAAY,QAAQ,OAAO,CAAC,YAAY,EAAE;wEAC1C,WAAW,WAAW,SAAS,IAAI;wEACnC,aAAa;wEACb,QAAQ,WAAW,MAAM;oEAC3B;oEAEA,kDAAkD;oEAClD,IAAI,IAAI;wEACN,qBAAqB,CAAA,OAAQ,IAAI,IAAI,MAAM,GAAG,CAAC;wEAE/C,uDAAuD;wEACvD,IAAI,gBAAgB,SAAS,WAAW,SAAS,EAAE;4EACjD,mBAAmB,CAAA;gFACjB,MAAM,WAAW,KAAK,IAAI,CACxB,CAAA,IAAK,EAAE,WAAW,KAAK,eAAe,EAAE,SAAS,KAAK,WAAW,SAAS;gFAE5E,IAAI,UAAU;oFACZ,2BAA2B;oFAC3B,OAAO,KAAK,GAAG,CAAC,CAAA,IACd,EAAE,WAAW,KAAK,eAAe,EAAE,SAAS,KAAK,WAAW,SAAS,GACjE;4FAAE,GAAG,CAAC;4FAAE,QAAQ,EAAE,MAAM,GAAG,WAAW,MAAM;wFAAC,IAC7C;gFAER,OAAO;oFACL,mBAAmB;oFACnB,OAAO;2FAAI;wFAAM;4FACf;4FACA,WAAW,WAAW,SAAS;4FAC/B,QAAQ,WAAW,MAAM;wFAC3B;qFAAE;gFACJ;4EACF;wEACF;wEAEA,yDAAyD;wEACzD,IAAI,gBAAgB,UAAU,WAAW,SAAS,EAAE;4EAClD,mBAAmB,CAAA;gFACjB,OAAO,KAAK,GAAG,CAAC,CAAA;oFACd,IAAI,EAAE,WAAW,KAAK,eAAe,EAAE,SAAS,KAAK,WAAW,SAAS,EAAE;wFACzE,MAAM,YAAY,EAAE,MAAM,GAAG,WAAW,MAAM;wFAC9C,OAAO,YAAY,IAAI;4FAAE,GAAG,CAAC;4FAAE,QAAQ;wFAAU,IAAI;oFACvD;oFACA,OAAO;gFACT,GAAG,MAAM,CAAC;4EACZ;wEACF;oEACF;gEACF;4DACF;4DACA,UACE,CAAC,WAAW,MAAM,IAClB,WAAW,MAAM,IAAI,KACrB,CAAC,WAAW,WAAW,KAAK,SACxB,WAAW,MAAM,GAAG,mBAAmB,aAAa,WAAW,SAAS,IACxE,WAAW,MAAM,GAAI,iBAAiB,yBAAyB,eAAe,WAAW,MAAM,AACnG,KACA,kBAAkB,GAAG,CAAC,gBACtB,2BACA,CAAC,iBACD,CAAC;4DAEH,WAAW,CAAC,0EAA0E,EACpF,WAAW,MAAM,GAAG,KACpB,CAAC,WAAW,WAAW,KAAK,SACxB,WAAW,MAAM,IAAI,mBAAmB,aAAa,WAAW,SAAS,IACzE,WAAW,MAAM,IAAK,iBAAiB,yBAAyB,eAAe,WAAW,MAAM,AACpG,KACA,CAAC,kBAAkB,GAAG,CAAC,eACnB,mDACA,kBAAkB,GAAG,CAAC,eACtB,6DACA,qDACJ;sEAED,0BACG,kBACA,kBAAkB,GAAG,CAAC,eACpB,aACA;;;;;;;;;;;;gDAGT,WAAW,MAAM,GAAG,mBACnB,6LAAC;oDAAI,WAAU;;wDAAgC;wDACzB,2BAClB,aACA,WAAW,SAAS,EACpB,WAAW,MAAM,EACjB,OAAO,CAAC;wDAAG;wDAAkB,WAAW,MAAM,CAAC,OAAO,CAAC;wDAAG;;;;;;;gDAG/D,WAAW,WAAW,KAAK,UAAU,WAAW,SAAS,kBACxD;;wDACG,WAAW,MAAM,GAAG,mBAAmB,aAAa,WAAW,SAAS,mBACvE,6LAAC;4DAAI,WAAU;;gEAA8C;gEACK,mBAAmB,aAAa,WAAW,SAAS,EAAE,OAAO,CAAC;;;;;;;wDAGjI,mBAAmB,aAAa,WAAW,SAAS,IAAI,mBACvD,6LAAC;4DAAI,WAAU;;gEAAqC;gEAC7B,mBAAmB,aAAa,WAAW,SAAS,EAAE,OAAO,CAAC;;;;;;;wDAGtF,mBAAmB,aAAa,WAAW,SAAS,MAAM,mBACzD,6LAAC;4DAAI,WAAU;sEAAqC;;;;;;;;gDAMzD,WAAW,WAAW,KAAK,wBAC1B;;wDACG,WAAW,MAAM,GAAI,iBAAiB,yBAAyB,eAAe,WAAW,MAAM,kBAC9F,6LAAC;4DAAI,WAAU;sEAA8C;;;;;;wDAI9D,WAAW,SAAS,KAAK,SAAS,WAAW,CAAC,YAAY,EAAE,cAAc,QAAQ,WAAW,CAAC,YAAY,EAAE,SAAS,mBACpH,6LAAC;4DAAI,WAAU;;gEAA8C;gEAC/B,WAAW,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC;gEAAG;;;;;;;wDAG1E,WAAW,SAAS,KAAK,QAAQ,WAAW,CAAC,YAAY,EAAE,cAAc,SAAS,WAAW,CAAC,YAAY,EAAE,SAAS,mBACpH,6LAAC;4DAAI,WAAU;;gEAA8C;gEAC/B,WAAW,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC;gEAAG;;;;;;;wDAG1E,WAAW,MAAM,GAAG,KAAK,WAAW,MAAM,IAAK,iBAAiB,yBAAyB,eAAe,WAAW,MAAM,kBACxH,6LAAC;4DAAI,WAAU;;gEAAqC;gEAC/B,CAAC,iBAAiB,yBAAyB,YAAY,EAAE,OAAO,CAAC;;;;;;;;;gDAK3F,kBAAkB,GAAG,CAAC,8BACrB,6LAAC;oDAAI,WAAU;8DAA8D;;;;;;;;;;;;;mCA/d9E;;;;;4BAueX;;;;;;;oBAID,iBAAiB,mBAChB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAI,WAAU;0CACZ,OAAO,MAAM,CAAC,aACZ,MAAM,CAAC,CAAC,QAAU,MAAM,SAAS,IAAI,MAAM,MAAM,GAAG,GACpD,GAAG,CAAC,CAAC,OAAO;oCACX,MAAM,kBAAkB,2BACtB,MAAM,WAAW,EACjB,MAAM,SAAS,EACf,MAAM,MAAM;oCAEd,qBACE,6LAAC;wCAAc,WAAU;;0DACvB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;;oEACb,OAAO,OAAO,CAAC,MAAM,WAAW,CAAC,CAAC,IAAI;oEAAC;oEAAI,MAAM,SAAS,EAAE;;;;;;;4DAE9D,kBAAkB,GAAG,CAAC,MAAM,WAAW,mBACtC,6LAAC;gEAAK,WAAU;0EAAyD;;;;;;;;;;;;kEAK7E,6LAAC;wDAAK,WAAU;;4DAAY;4DACxB,MAAM,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;;0DAG3B,6LAAC;gDAAI,WAAU;;oDAA8D;oDACvD,gBAAgB,OAAO,CAAC;;;;;;;;uCAjBtC;;;;;gCAqBd;;;;;;0CAEJ,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAgB;;;;;;0DAChC,6LAAC;gDAAK,WAAU;;oDAAkC;oDAC9C,qBAAqB,OAAO,CAAC;;;;;;;;;;;;;kDAGnC,6LAAC;wCAAE,WAAU;kDAAqC;;;;;;;;;;;;;;;;;;oBAQvD,aAAa,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK,UAAU,MAAM,GAAG,mBAC5D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAI,WAAU;0CACZ,aACE,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK,UAC7B,KAAK,CAAC,GAAG,IAAI,4BAA4B;iCACzC,GAAG,CAAC,CAAC;oCACJ,MAAM,OAAO,IAAI,KAAK,GAAG,SAAS;oCAClC,MAAM,gBAAgB,KAAK,kBAAkB,CAAC,SAAS;wCACrD,OAAO;wCACP,KAAK;wCACL,MAAM;oCACR;oCACA,MAAM,gBAAgB,KAAK,kBAAkB,CAAC,SAAS;wCACrD,MAAM;wCACN,QAAQ;oCACV;oCAEA,qBACE,6LAAC;wCAEC,WAAU;kDAEV,cAAA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAK,WAAU;8EACb,GAAG,IAAI,KAAK,YAAY,YAAY,GAAG,GAAG,WAAW,KAAK,SAAS,SAAS,MAAM,IAAI,CAAC;;;;;;gEAEzF,GAAG,MAAM,KAAK,6BACb,6LAAC;oEAAK,WAAU;;sFACd,6LAAC,wOAAY;4EAAC,MAAM;;;;;;wEAAM;;;;;;;gEAI7B,GAAG,MAAM,KAAK,2BACb,6LAAC;oEAAK,WAAU;;sFACd,6LAAC,gNAAK;4EAAC,MAAM;;;;;;wEAAM;;;;;;;gEAItB,GAAG,MAAM,KAAK,0BACb,6LAAC;oEAAK,WAAU;;sFACd,6LAAC,0NAAO;4EAAC,MAAM;;;;;;wEAAM;;;;;;;;;;;;;wDAM1B,GAAG,IAAI,KAAK,uBACX,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;;sFACC,6LAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAc;wEAAE,GAAG,UAAU;;;;;;;8EAE7D,6LAAC;;sFACC,6LAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAkB;sFAChD,6LAAC;4EAAK,WAAU;sFAAc,GAAG,SAAS;;;;;;wEACzC,GAAG,WAAW,kBACb,6LAAC;4EAAK,WAAU;sFACb,GAAG,WAAW,KAAK,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;wDAO7C,GAAG,IAAI,KAAK,2BACX,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAK,WAAU;8EAAc;;;;;;gEAAc;gEAAE,GAAG,cAAc;;;;;;;sEAInE,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;;wEAAM;wEAAc;wEAAK;;;;;;;gEACzB,GAAG,MAAM,kBACR,6LAAC;oEACC,MAAM,CAAC,0CAA0C,EAAE,GAAG,MAAM,EAAE;oEAC9D,QAAO;oEACP,KAAI;oEACJ,WAAU;;wEACX;sFAEC,6LAAC,yOAAY;4EAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;8DAM5B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;gEACZ,GAAG,IAAI,KAAK,YAAY,MAAM;gEAAG;gEAAE,GAAG,MAAM,CAAC,OAAO,CAAC;;;;;;;sEAExD,6LAAC;4DAAI,WAAU;sEACZ,GAAG,IAAI,KAAK,YAAY,cAAc;;;;;;;;;;;;;;;;;;uCAzExC,GAAG,EAAE;;;;;gCA+EhB;;;;;;4BAEH,aAAa,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK,UAAU,MAAM,GAAG,oBAC5D,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAE,WAAU;;wCAAgC;wCACL,aAAa,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK,UAAU,MAAM;;;;;;;;;;;;;;;;;;kCAQ1G,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;oCACP,iCAAiC;oCACjC,MAAM,kBAAkB,OAAO,MAAM,CAAC,aACnC,MAAM,CAAC,CAAA;wCACN,IAAI,CAAC,MAAM,SAAS,IAAI,MAAM,MAAM,IAAI,KAAK,kBAAkB,GAAG,CAAC,MAAM,WAAW,GAAG;4CACrF,OAAO;wCACT;wCAEA,MAAM,cAAc,MAAM,WAAW,IAAI;wCACzC,IAAI,gBAAgB,QAAQ;4CAC1B,wCAAwC;4CACxC,OAAO,MAAM,MAAM,IAAI,mBAAmB,MAAM,WAAW,EAAE,MAAM,SAAS;wCAC9E,OAAO;4CACL,+CAA+C;4CAC/C,MAAM,iBAAiB,iBAAiB,yBAAyB,MAAM,WAAW,IAAI,MAAM,MAAM;4CAClG,OAAO,MAAM,MAAM,IAAI;wCACzB;oCACF;oCAEF,IAAI,gBAAgB,MAAM,GAAG,GAAG;wCAC9B,8EAA8E;wCAC9E,MAAM,SAAS,IAAI,IAAI;wCAEvB,KAAK,MAAM,SAAS,gBAAiB;4CACnC,MAAM,cAAc,MAAM,WAAW,IAAI;4CAEzC,0EAA0E;4CAC1E,MAAM,KAAK,MAAM,kBAAkB;gDACjC,MAAM;gDACN,UAAU;gDACV,gBAAgB,QAAQ;gDACxB,YAAY,QAAQ,OAAO,CAAC,MAAM,WAAW,CAAC,EAAE;gDAChD,WAAW,MAAM,SAAS,IAAI;gDAC9B,aAAa;gDACb,QAAQ,MAAM,MAAM;4CACtB;4CAEA,kDAAkD;4CAClD,IAAI,IAAI;gDACN,OAAO,GAAG,CAAC,MAAM,WAAW;gDAE5B,8CAA8C;gDAC9C,IAAI,gBAAgB,SAAS,MAAM,SAAS,EAAE;oDAC5C,mBAAmB,CAAA;wDACjB,MAAM,WAAW,QAAQ,IAAI,CAC3B,CAAA,IAAK,EAAE,WAAW,KAAK,MAAM,WAAW,IAAI,EAAE,SAAS,KAAK,MAAM,SAAS;wDAE7E,IAAI,UAAU;4DACZ,OAAO,QAAQ,GAAG,CAAC,CAAA,IACjB,EAAE,WAAW,KAAK,MAAM,WAAW,IAAI,EAAE,SAAS,KAAK,MAAM,SAAS,GAClE;oEAAE,GAAG,CAAC;oEAAE,QAAQ,EAAE,MAAM,GAAG,MAAM,MAAM;gEAAC,IACxC;wDAER,OAAO;4DACL,OAAO;mEAAI;gEAAS;oEAClB,aAAa,MAAM,WAAW;oEAC9B,WAAW,MAAM,SAAS;oEAC1B,QAAQ,MAAM,MAAM;gEACtB;6DAAE;wDACJ;oDACF;gDACF;gDAEA,gDAAgD;gDAChD,IAAI,gBAAgB,UAAU,MAAM,SAAS,EAAE;oDAC7C,mBAAmB,CAAA;wDACjB,OAAO,QAAQ,GAAG,CAAC,CAAA;4DACjB,IAAI,EAAE,WAAW,KAAK,MAAM,WAAW,IAAI,EAAE,SAAS,KAAK,MAAM,SAAS,EAAE;gEAC1E,MAAM,YAAY,EAAE,MAAM,GAAG,MAAM,MAAM;gEACzC,OAAO,YAAY,IAAI;oEAAE,GAAG,CAAC;oEAAE,QAAQ;gEAAU,IAAI;4DACvD;4DACA,OAAO;wDACT,GAAG,MAAM,CAAC;oDACZ;gDACF;4CACF;wCACF;wCAEA,qBAAqB;oCACvB;gCACF;gCACA,UACE,mBAAmB,KACnB,mBAAmB,KACnB,OAAO,MAAM,CAAC,aAAa,IAAI,CAAC,CAAA;oCAC9B,IAAI,CAAC,MAAM,SAAS,IAAI,MAAM,MAAM,IAAI,GAAG,OAAO;oCAClD,MAAM,cAAc,MAAM,WAAW,IAAI;oCACzC,IAAI,gBAAgB,QAAQ;wCAC1B,OAAO,MAAM,MAAM,GAAG,mBAAmB,MAAM,WAAW,EAAE,MAAM,SAAS;oCAC7E,OAAO;wCACL,MAAM,iBAAiB,iBAAiB,yBAAyB,MAAM,WAAW,IAAI,MAAM,MAAM;wCAClG,OAAO,MAAM,MAAM,GAAG;oCACxB;gCACF,MACA,OAAO,MAAM,CAAC,aAAa,KAAK,CAAC,CAAA,QAC/B,CAAC,MAAM,SAAS,IAChB,MAAM,MAAM,IAAI,KAChB,kBAAkB,GAAG,CAAC,MAAM,WAAW,MAEzC,2BACA,CAAC,iBACD,CAAC;gCAEH,WAAW,CAAC,sEAAsE,EAChF,iBAAiB,KACjB,iBAAiB,KACjB,CAAC,OAAO,MAAM,CAAC,aAAa,IAAI,CAAC,CAAA;oCAC/B,IAAI,CAAC,MAAM,SAAS,IAAI,MAAM,MAAM,IAAI,GAAG,OAAO;oCAClD,MAAM,cAAc,MAAM,WAAW,IAAI;oCACzC,IAAI,gBAAgB,QAAQ;wCAC1B,OAAO,MAAM,MAAM,GAAG,mBAAmB,MAAM,WAAW,EAAE,MAAM,SAAS;oCAC7E,OAAO;wCACL,MAAM,iBAAiB,iBAAiB,yBAAyB,MAAM,WAAW,IAAI,MAAM,MAAM;wCAClG,OAAO,MAAM,MAAM,GAAG;oCACxB;gCACF,MACA,OAAO,MAAM,CAAC,aAAa,IAAI,CAAC,CAAA,QAC9B,MAAM,SAAS,IACf,MAAM,MAAM,GAAG,KACf,CAAC,kBAAkB,GAAG,CAAC,MAAM,WAAW,KAEtC,mDACA,qDACJ;0CAED,0BAA0B,+BAA+B;;;;;;0CAE5D,6LAAC;gCACC,SAAS,IAAM,OAAO,IAAI,CAAC;gCAC3B,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAOL,6LAAC,wIAAM;gBAAC,MAAM;gBAAmB,cAAc;0BAC7C,cAAA,6LAAC,+IAAa;oBAAC,WAAU;;sCACvB,6LAAC,8IAAY;;8CACX,6LAAC,6IAAW;8CAAC;;;;;;8CACb,6LAAC,mJAAiB;8CAAC;;;;;;;;;;;;sCAIrB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAAiF;;;;;;sDAGlG,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,6LAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oDAChD,aAAY;oDACZ,WAAU;oDACV,MAAK;oDACL,KAAI;oDACJ,KAAK;;;;;;;;;;;;wCAGR,iBAAiB,OAAO,UAAU,CAAC,iBAAiB,6BACnD,6LAAC;4CAAE,WAAU;;gDAA8C;gDAChB,YAAY,OAAO,CAAC;;;;;;;;;;;;;8CAInE,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAgC;;;;;;8DAChD,6LAAC;oDAAK,WAAU;;wDAAkC;wDAAE,YAAY,OAAO,CAAC;;;;;;;;;;;;;wCAEzE,iBAAiB,mBAChB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAgC;;;;;;8DAChD,6LAAC;oDAAK,WAAU;;wDAAkD;wDAAE,eAAe,OAAO,CAAC;;;;;;;;;;;;;sDAG/F,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;;;;;;;;;;;;sCAMnD,6LAAC,8IAAY;;8CACX,6LAAC;oCACC,SAAS,IAAM,qBAAqB;oCACpC,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;wCACP,MAAM,SAAS,OAAO,UAAU,CAAC,kBAAkB;wCACnD,IAAI,SAAS,KAAK,UAAU,aAAa;4CACvC,wEAAwE;4CACxE,MAAM,KAAK,MAAM,kBAAkB;gDACjC,MAAM;gDACN,UAAU;gDACV,gBAAgB,QAAQ;gDACxB,QAAQ;4CACV;4CAEA,qDAAqD;4CACrD,IAAI,IAAI;gDACN,kBAAkB,CAAC,OAAS,OAAO;gDACnC,6BAA6B;gDAC7B,eAAe,CAAC,OAAS,OAAO;gDAChC,gFAAgF;gDAChF,iBAAiB;gDACjB,qBAAqB;4CACvB;wCACF;oCACF;oCACA,UACE,CAAC,iBACD,OAAO,UAAU,CAAC,kBAAkB,KACpC,OAAO,UAAU,CAAC,iBAAiB,eACnC,2BACA,CAAC,iBACD,CAAC;oCAEH,WAAW,CAAC,wDAAwD,EAClE,iBAAiB,OAAO,UAAU,CAAC,iBAAiB,KAAK,OAAO,UAAU,CAAC,kBAAkB,eAAe,CAAC,0BACzG,mDACA,qDACJ;8CAED,0BAA0B,8BAA8B;;;;;;;;;;;;;;;;;;;;;;;0BAOjE,6LAAC,wIAAM;gBAAC,MAAM;gBAAgB,cAAc;0BAC1C,cAAA,6LAAC,+IAAa;oBAAC,WAAU;;sCACvB,6LAAC,8IAAY;;8CACX,6LAAC,6IAAW;8CAAC;;;;;;8CACb,6LAAC,mJAAiB;8CAAC;;;;;;;;;;;;sCAIrB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAAiF;;;;;;sDAGlG,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,6LAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oDAC7C,aAAY;oDACZ,WAAU;oDACV,MAAK;oDACL,KAAI;oDACJ,KAAK,cAAc;;;;;;;;;;;;wCAGtB,cAAc,OAAO,UAAU,CAAC,cAAc,cAAc,gCAC3D,6LAAC;4CAAE,WAAU;;gDAA8C;gDACnB,CAAC,cAAc,cAAc,EAAE,OAAO,CAAC;;;;;;;;;;;;;8CAInF,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAgC;;;;;;0DAChD,6LAAC;gDAAK,WAAU;;oDAAkC;oDAAE,CAAC,cAAc,cAAc,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;sCAIjG,6LAAC,8IAAY;;8CACX,6LAAC;oCACC,SAAS,IAAM,kBAAkB;oCACjC,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;wCACP,MAAM,SAAS,OAAO,UAAU,CAAC,eAAe;wCAChD,MAAM,eAAe,cAAc;wCACnC,IAAI,UAAU,KAAK,UAAU,cAAc;4CACzC,MAAM,aAAa,SAAS;4CAC5B,kBAAkB;4CAClB,4CAA4C;4CAC5C,IAAI,aAAa,GAAG;gDAClB,kDAAkD;gDAClD,eAAe,CAAC,OAAS,KAAK,GAAG,CAAC,GAAG,OAAO;4CAC9C,OAAO,IAAI,aAAa,GAAG;gDACzB,kDAAkD;gDAClD,eAAe,CAAC,OAAS,OAAO;4CAClC;4CACA,gFAAgF;4CAChF,cAAc;4CACd,kBAAkB;wCACpB;oCACF;oCACA,UAAU,CAAC,cAAc,OAAO,UAAU,CAAC,cAAc,KAAK,OAAO,UAAU,CAAC,cAAc,cAAc;oCAC5G,WAAW,CAAC,wDAAwD,EAClE,cAAc,OAAO,UAAU,CAAC,eAAe,KAAK,OAAO,UAAU,CAAC,eAAe,cAAc,iBAC/F,mDACA,qDACJ;8CACH;;;;;;;;;;;;;;;;;;;;;;;0BAQP,6LAAC,wIAAM;gBAAC,MAAM;gBAAwB,cAAc;0BAClD,cAAA,6LAAC,+IAAa;oBAAC,WAAU;;sCACvB,6LAAC,8IAAY;;8CACX,6LAAC,6IAAW;8CAAC;;;;;;8CACb,6LAAC,mJAAiB;8CAAC;;;;;;;;;;;;sCAIrB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAgC;;;;;;8DAChD,6LAAC;oDAAK,WAAU;;wDAAkC;wDAAE,eAAe,OAAO,CAAC;;;;;;;;;;;;;sDAE7E,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAgC;;;;;;8DAChD,6LAAC;oDAAK,WAAU;;wDAAkC;wDAAE,eAAe,OAAO,CAAC;;;;;;;;;;;;;;;;;;;8CAG/E,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;sCAI/C,6LAAC,8IAAY;;8CACX,6LAAC;oCACC,SAAS,IAAM,0BAA0B;oCACzC,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;wCACP,wCAAwC;wCACxC,eAAe,CAAC,OAAS,OAAO;wCAChC,kBAAkB;wCAClB,wBAAwB;wCACxB,MAAM,mBAA+C,CAAC;wCACtD,OAAO,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;4CACzB,gBAAgB,CAAC,IAAI,GAAG;gDACtB,aAAa;gDACb,WAAW;gDACX,QAAQ;gDACR,aAAa;4CACf;wCACF;wCACA,eAAe;wCACf,qBAAqB,IAAI;wCACzB,yBAAyB;wCACzB,mBAAmB,EAAE;wCACrB,0BAA0B;oCAC5B;oCACA,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAtiDwB;;QACP,kJAAS;QACT,kJAAS;QAEN,oIAAQ;QACN,4OAAU;QACJ,sOAAQ;;;KANZ"}}]
}
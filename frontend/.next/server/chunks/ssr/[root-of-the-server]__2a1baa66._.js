module.exports=[750227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},347299,(a,b,c)=>{b.exports=a.x("node:http",()=>require("node:http"))},743698,(a,b,c)=>{b.exports=a.x("node:https",()=>require("node:https"))},727028,(a,b,c)=>{b.exports=a.x("node:zlib",()=>require("node:zlib"))},81111,(a,b,c)=>{b.exports=a.x("node:stream",()=>require("node:stream"))},951615,(a,b,c)=>{b.exports=a.x("node:buffer",()=>require("node:buffer"))},812057,(a,b,c)=>{b.exports=a.x("node:util",()=>require("node:util"))},857764,(a,b,c)=>{b.exports=a.x("node:url",()=>require("node:url"))},761095,(a,b,c)=>{b.exports=a.x("node:net",()=>require("node:net"))},902157,(a,b,c)=>{b.exports=a.x("node:fs",()=>require("node:fs"))},59639,(a,b,c)=>{b.exports=a.x("node:process",()=>require("node:process"))},418352,(a,b,c)=>{b.exports=a.x("node:stream/web",()=>require("node:stream/web"))},320695,863049,a=>{"use strict";var b,c,d,e=a.i(347299),f=a.i(743698),g=a.i(727028),h=a.i(81111),j=a.i(951615),k=a.i(812057),l=Object.defineProperty,m="u">typeof globalThis?globalThis:a.g;function n(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}l(n,"name",{value:"getDefaultExportFromCjs",configurable:!0}),a.s(["c",()=>m,"g",()=>n],863049);var o=a.i(857764),p=a.i(761095),q=a.i(902157),r=a.i(750227),s=Object.defineProperty,t=a=>{throw TypeError(a)},u=(a,b)=>s(a,"name",{value:b,configurable:!0}),v=(a,b,c)=>b.has(a)||t("Cannot "+c),w=(a,b,c)=>(v(a,b,"read from private field"),c?c.call(a):b.get(a)),x=(a,b,c)=>b.has(a)?t("Cannot add the same private member more than once"):b instanceof WeakSet?b.add(a):b.set(a,c),y=(a,b,c,d)=>(v(a,b,"write to private field"),d?d.call(a,c):b.set(a,c),c);function z(a){if(!/^data:/i.test(a))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let b=(a=a.replace(/\r?\n/g,"")).indexOf(",");if(-1===b||b<=4)throw TypeError("malformed data: URI");let c=a.substring(5,b).split(";"),d="",e=!1,f=c[0]||"text/plain",g=f;for(let a=1;a<c.length;a++)"base64"===c[a]?e=!0:c[a]&&(g+=`;${c[a]}`,0===c[a].indexOf("charset=")&&(d=c[a].substring(8)));c[0]||d.length||(g+=";charset=US-ASCII",d="US-ASCII");let h=e?"base64":"ascii",j=unescape(a.substring(b+1)),k=Buffer.from(j,h);return k.type=f,k.typeFull=g,k.charset=d,k}u(z,"dataUriToBuffer");var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O={},P={};function Q(){return N||(N=1,function(a){var b,c,d;function e(){}function f(a){return"object"==typeof a&&null!==a||"function"==typeof a}function g(a,b){try{Object.defineProperty(a,"name",{value:b,configurable:!0})}catch{}}u(e,"noop"),u(f,"typeIsObject"),u(g,"setFunctionName");let h=Promise,j=Promise.prototype.then,k=Promise.reject.bind(h);function l(a){return new h(a)}function n(a){return l(b=>b(a))}function o(a){return k(a)}function p(a,b,c){return j.call(a,b,c)}function q(a,b,c){p(p(a,b,c),void 0,e)}function r(a,b){q(a,b)}function s(a,b){q(a,void 0,b)}function t(a,b,c){return p(a,b,c)}function v(a){p(a,void 0,e)}u(l,"newPromise"),u(n,"promiseResolvedWith"),u(o,"promiseRejectedWith"),u(p,"PerformPromiseThen"),u(q,"uponPromise"),u(r,"uponFulfillment"),u(s,"uponRejection"),u(t,"transformPromiseWith"),u(v,"setPromiseIsHandledToTrue");let w=u(a=>{if("function"==typeof queueMicrotask)w=queueMicrotask;else{let a=n(void 0);w=u(b=>p(a,b),"_queueMicrotask")}return w(a)},"_queueMicrotask");function x(a,b,c){if("function"!=typeof a)throw TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}function y(a,b,c){try{return n(x(a,b,c))}catch(a){return o(a)}}u(x,"reflectCall"),u(y,"promiseCall");let z=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(a){let b=this._back,c=b;16383===b._elements.length&&(c={_elements:[],_next:void 0}),b._elements.push(a),c!==b&&(this._back=c,b._next=c),++this._size}shift(){let a=this._front,b=a,c=this._cursor,d=c+1,e=a._elements,f=e[c];return 16384===d&&(b=a._next,d=0),--this._size,this._cursor=d,a!==b&&(this._front=b),e[c]=void 0,f}forEach(a){let b=this._cursor,c=this._front,d=c._elements;for(;(b!==d.length||void 0!==c._next)&&!(b===d.length&&(d=(c=c._next)._elements,b=0,0===d.length));)a(d[b]),++b}peek(){let a=this._front,b=this._cursor;return a._elements[b]}};u(z,"SimpleQueue");let A=Symbol("[[AbortSteps]]"),B=Symbol("[[ErrorSteps]]"),C=Symbol("[[CancelSteps]]"),D=Symbol("[[PullSteps]]"),E=Symbol("[[ReleaseSteps]]");function F(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?J(a):"closed"===b._state?L(a):K(a,b._storedError)}function G(a,b){return dz(a._ownerReadableStream,b)}function H(a){let b=a._ownerReadableStream;"readable"===b._state?M(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):N(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),b._readableStreamController[E](),b._reader=void 0,a._ownerReadableStream=void 0}function I(a){return TypeError("Cannot "+a+" a stream using a released reader")}function J(a){a._closedPromise=l((b,c)=>{a._closedPromise_resolve=b,a._closedPromise_reject=c})}function K(a,b){J(a),M(a,b)}function L(a){J(a),O(a)}function M(a,b){void 0!==a._closedPromise_reject&&(v(a._closedPromise),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}function N(a,b){K(a,b)}function O(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}u(F,"ReadableStreamReaderGenericInitialize"),u(G,"ReadableStreamReaderGenericCancel"),u(H,"ReadableStreamReaderGenericRelease"),u(I,"readerLockException"),u(J,"defaultReaderClosedPromiseInitialize"),u(K,"defaultReaderClosedPromiseInitializeAsRejected"),u(L,"defaultReaderClosedPromiseInitializeAsResolved"),u(M,"defaultReaderClosedPromiseReject"),u(N,"defaultReaderClosedPromiseResetToRejected"),u(O,"defaultReaderClosedPromiseResolve");let P=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},Q=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};function R(a){return"object"==typeof a||"function"==typeof a}function S(a,b){if(void 0!==a&&!R(a))throw TypeError(`${b} is not an object.`)}function T(a,b){if("function"!=typeof a)throw TypeError(`${b} is not a function.`)}function U(a){return"object"==typeof a&&null!==a||"function"==typeof a}function V(a,b){if(!U(a))throw TypeError(`${b} is not an object.`)}function W(a,b,c){if(void 0===a)throw TypeError(`Parameter ${b} is required in '${c}'.`)}function X(a,b,c){if(void 0===a)throw TypeError(`${b} is required in '${c}'.`)}function Y(a){return Number(a)}function Z(a){return 0===a?0:a}function $(a){return Z(Q(a))}function _(a,b){let c=Number.MAX_SAFE_INTEGER,d=Number(a);if(!P(d=Z(d)))throw TypeError(`${b} is not a finite number`);if((d=$(d))<0||d>c)throw TypeError(`${b} is outside the accepted range of 0 to ${c}, inclusive`);return P(d)&&0!==d?d:0}function aa(a,b){if(!dx(a))throw TypeError(`${b} is not a ReadableStream.`)}function ab(a){return new ah(a)}function ac(a,b){a._reader._readRequests.push(b)}function ad(a,b,c){let d=a._reader._readRequests.shift();c?d._closeSteps():d._chunkSteps(b)}function ae(a){return a._reader._readRequests.length}function af(a){let b=a._reader;return!(void 0===b||!ai(b))}u(R,"isDictionary"),u(S,"assertDictionary"),u(T,"assertFunction"),u(U,"isObject"),u(V,"assertObject"),u(W,"assertRequiredArgument"),u(X,"assertRequiredField"),u(Y,"convertUnrestrictedDouble"),u(Z,"censorNegativeZero"),u($,"integerPart"),u(_,"convertUnsignedLongLongWithEnforceRange"),u(aa,"assertReadableStream"),u(ab,"AcquireReadableStreamDefaultReader"),u(ac,"ReadableStreamAddReadRequest"),u(ad,"ReadableStreamFulfillReadRequest"),u(ae,"ReadableStreamGetNumReadRequests"),u(af,"ReadableStreamHasDefaultReader");let ag=class{constructor(a){if(W(a,1,"ReadableStreamDefaultReader"),aa(a,"First parameter"),dy(a))throw TypeError("This stream has already been locked for exclusive reading by another reader");F(this,a),this._readRequests=new z}get closed(){return ai(this)?this._closedPromise:o(am("closed"))}cancel(a){return ai(this)?void 0===this._ownerReadableStream?o(I("cancel")):G(this,a):o(am("cancel"))}read(){let a,b;if(!ai(this))return o(am("read"));if(void 0===this._ownerReadableStream)return o(I("read from"));let c=l((c,d)=>{a=c,b=d});return aj(this,{_chunkSteps:u(b=>a({value:b,done:!1}),"_chunkSteps"),_closeSteps:u(()=>a({value:void 0,done:!0}),"_closeSteps"),_errorSteps:u(a=>b(a),"_errorSteps")}),c}releaseLock(){if(!ai(this))throw am("releaseLock");void 0!==this._ownerReadableStream&&ak(this)}};u(ag,"ReadableStreamDefaultReader");let ah=ag;function ai(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readRequests")&&a instanceof ah}function aj(a,b){let c=a._ownerReadableStream;c._disturbed=!0,"closed"===c._state?b._closeSteps():"errored"===c._state?b._errorSteps(c._storedError):c._readableStreamController[D](b)}function ak(a){H(a),al(a,TypeError("Reader was released"))}function al(a,b){let c=a._readRequests;a._readRequests=new z,c.forEach(a=>{a._errorSteps(b)})}function am(a){return TypeError(`ReadableStreamDefaultReader.prototype.${a} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(ah.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),g(ah.prototype.cancel,"cancel"),g(ah.prototype.read,"read"),g(ah.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ah.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),u(ai,"IsReadableStreamDefaultReader"),u(aj,"ReadableStreamDefaultReaderRead"),u(ak,"ReadableStreamDefaultReaderRelease"),u(al,"ReadableStreamDefaultReaderErrorReadRequests"),u(am,"defaultReaderBrandCheckException");let an=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),ao=class{constructor(a,b){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=a,this._preventCancel=b}next(){let a=u(()=>this._nextSteps(),"nextSteps");return this._ongoingPromise=this._ongoingPromise?t(this._ongoingPromise,a,a):a(),this._ongoingPromise}return(a){let b=u(()=>this._returnSteps(a),"returnSteps");return this._ongoingPromise?t(this._ongoingPromise,b,b):b()}_nextSteps(){let a,b;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let c=this._reader,d=l((c,d)=>{a=c,b=d});return aj(c,{_chunkSteps:u(b=>{this._ongoingPromise=void 0,w(()=>a({value:b,done:!1}))},"_chunkSteps"),_closeSteps:u(()=>{this._ongoingPromise=void 0,this._isFinished=!0,H(c),a({value:void 0,done:!0})},"_closeSteps"),_errorSteps:u(a=>{this._ongoingPromise=void 0,this._isFinished=!0,H(c),b(a)},"_errorSteps")}),d}_returnSteps(a){if(this._isFinished)return Promise.resolve({value:a,done:!0});this._isFinished=!0;let b=this._reader;if(!this._preventCancel){let c=G(b,a);return H(b),t(c,()=>({value:a,done:!0}))}return H(b),n({value:a,done:!0})}};u(ao,"ReadableStreamAsyncIteratorImpl");let ap={next(){return ar(this)?this._asyncIteratorImpl.next():o(as("next"))},return(a){return ar(this)?this._asyncIteratorImpl.return(a):o(as("return"))}};function aq(a,b){let c=new ao(ab(a),b),d=Object.create(ap);return d._asyncIteratorImpl=c,d}function ar(a){if(!f(a)||!Object.prototype.hasOwnProperty.call(a,"_asyncIteratorImpl"))return!1;try{return a._asyncIteratorImpl instanceof ao}catch{return!1}}function as(a){return TypeError(`ReadableStreamAsyncIterator.${a} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(ap,an),u(aq,"AcquireReadableStreamAsyncIterator"),u(ar,"IsReadableStreamAsyncIterator"),u(as,"streamAsyncIteratorBrandCheckException");let at=Number.isNaN||function(a){return a!=a};function au(a){return a.slice()}function av(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)}u(au,"CreateArrayFromList"),u(av,"CopyDataBlockBytes");let aw=u(a=>(aw="function"==typeof a.transfer?u(a=>a.transfer(),"TransferArrayBuffer"):"function"==typeof structuredClone?u(a=>structuredClone(a,{transfer:[a]}),"TransferArrayBuffer"):u(a=>a,"TransferArrayBuffer"))(a),"TransferArrayBuffer"),ax=u(a=>(ax="boolean"==typeof a.detached?u(a=>a.detached,"IsDetachedBuffer"):u(a=>0===a.byteLength,"IsDetachedBuffer"))(a),"IsDetachedBuffer");function ay(a,b,c){if(a.slice)return a.slice(b,c);let d=c-b,e=new ArrayBuffer(d);return av(e,0,a,b,d),e}function az(a,b){let c=a[b];if(null!=c){if("function"!=typeof c)throw TypeError(`${String(b)} is not a function`);return c}}function aA(a){let b={[Symbol.iterator]:()=>a.iterator},c=async function*(){return yield*b}(),d=c.next;return{iterator:c,nextMethod:d,done:!1}}u(ay,"ArrayBufferSlice"),u(az,"GetMethod"),u(aA,"CreateAsyncFromSyncIterator");let aB=null!=(d=null!=(b=Symbol.asyncIterator)?b:null==(c=Symbol.for)?void 0:c.call(Symbol,"Symbol.asyncIterator"))?d:"@@asyncIterator";function aC(a,b="sync",c){if(void 0===c)if("async"===b){if(void 0===(c=az(a,aB))){let b=az(a,Symbol.iterator);return aA(aC(a,"sync",b))}}else c=az(a,Symbol.iterator);if(void 0===c)throw TypeError("The object is not iterable");let d=x(c,a,[]);if(!f(d))throw TypeError("The iterator method must return an object");let e=d.next;return{iterator:d,nextMethod:e,done:!1}}function aD(a){let b=x(a.nextMethod,a.iterator,[]);if(!f(b))throw TypeError("The iterator.next() method must return an object");return b}function aE(a){return!!a.done}function aF(a){return a.value}function aG(a){return!("number"!=typeof a||at(a)||a<0)}function aH(a){return new Uint8Array(ay(a.buffer,a.byteOffset,a.byteOffset+a.byteLength))}function aI(a){let b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value}function aJ(a,b,c){if(!aG(c)||c===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c}function aK(a){return a._queue.peek().value}function aL(a){a._queue=new z,a._queueTotalSize=0}function aM(a){return a===DataView}function aN(a){return aM(a.constructor)}function aO(a){return aM(a)?1:a.BYTES_PER_ELEMENT}u(aC,"GetIterator"),u(aD,"IteratorNext"),u(aE,"IteratorComplete"),u(aF,"IteratorValue"),u(aG,"IsNonNegativeNumber"),u(aH,"CloneAsUint8Array"),u(aI,"DequeueValue"),u(aJ,"EnqueueValueWithSize"),u(aK,"PeekQueueValue"),u(aL,"ResetQueue"),u(aM,"isDataViewConstructor"),u(aN,"isDataView"),u(aO,"arrayBufferViewElementSize");let aP=class{constructor(){throw TypeError("Illegal constructor")}get view(){if(!aS(this))throw bm("view");return this._view}respond(a){if(!aS(this))throw bm("respond");if(W(a,1,"respond"),a=_(a,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(ax(this._view.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");bh(this._associatedReadableByteStreamController,a)}respondWithNewView(a){if(!aS(this))throw bm("respondWithNewView");if(W(a,1,"respondWithNewView"),!ArrayBuffer.isView(a))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(ax(a.buffer))throw TypeError("The given view's buffer has been detached and so cannot be used as a response");bi(this._associatedReadableByteStreamController,a)}};u(aP,"ReadableStreamBYOBRequest"),Object.defineProperties(aP.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),g(aP.prototype.respond,"respond"),g(aP.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(aP.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});let aQ=class{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!aR(this))throw bn("byobRequest");return bf(this)}get desiredSize(){if(!aR(this))throw bn("desiredSize");return bg(this)}close(){if(!aR(this))throw bn("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let a=this._controlledReadableByteStream._state;if("readable"!==a)throw TypeError(`The stream (in ${a} state) is not in the readable state and cannot be closed`);bb(this)}enqueue(a){if(!aR(this))throw bn("enqueue");if(W(a,1,"enqueue"),!ArrayBuffer.isView(a))throw TypeError("chunk must be an array buffer view");if(0===a.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===a.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let b=this._controlledReadableByteStream._state;if("readable"!==b)throw TypeError(`The stream (in ${b} state) is not in the readable state and cannot be enqueued to`);bc(this,a)}error(a){if(!aR(this))throw bn("error");bd(this,a)}[C](a){aU(this),aL(this);let b=this._cancelAlgorithm(a);return ba(this),b}[D](a){let b=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void be(this,a);let c=this._autoAllocateChunkSize;if(void 0!==c){let b;try{b=new ArrayBuffer(c)}catch(b){a._errorSteps(b);return}let d={buffer:b,bufferByteLength:c,byteOffset:0,byteLength:c,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}ac(b,a),aT(this)}[E](){if(this._pendingPullIntos.length>0){let a=this._pendingPullIntos.peek();a.readerType="none",this._pendingPullIntos=new z,this._pendingPullIntos.push(a)}}};function aR(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledReadableByteStream")&&a instanceof aQ}function aS(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")&&a instanceof aP}function aT(a){if(a9(a)){if(a._pulling){a._pullAgain=!0;return}a._pulling=!0,q(a._pullAlgorithm(),()=>(a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,aT(a)),null),b=>(bd(a,b),null))}}function aU(a){a1(a),a._pendingPullIntos=new z}function aV(a,b){let c=!1;"closed"===a._state&&(c=!0);let d=aW(b);"default"===b.readerType?ad(a,d,c):bt(a,d,c)}function aW(a){let b=a.bytesFilled,c=a.elementSize;return new a.viewConstructor(a.buffer,a.byteOffset,b/c)}function aX(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function aY(a,b,c,d){let e;try{e=ay(b,c,c+d)}catch(b){throw bd(a,b),b}aX(a,e,0,d)}function aZ(a,b){b.bytesFilled>0&&aY(a,b.buffer,b.byteOffset,b.bytesFilled),a8(a)}function a$(a,b){let c=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),d=b.bytesFilled+c,e=c,f=!1,g=d%b.elementSize,h=d-g;h>=b.minimumFill&&(e=h-b.bytesFilled,f=!0);let j=a._queue;for(;e>0;){let c=j.peek(),d=Math.min(e,c.byteLength),f=b.byteOffset+b.bytesFilled;av(b.buffer,f,c.buffer,c.byteOffset,d),c.byteLength===d?j.shift():(c.byteOffset+=d,c.byteLength-=d),a._queueTotalSize-=d,a_(a,d,b),e-=d}return f}function a_(a,b,c){c.bytesFilled+=b}function a0(a){0===a._queueTotalSize&&a._closeRequested?(ba(a),dA(a._controlledReadableByteStream)):aT(a)}function a1(a){null!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=null,a._byobRequest=null)}function a2(a){for(;a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;let b=a._pendingPullIntos.peek();a$(a,b)&&(a8(a),aV(a._controlledReadableByteStream,b))}}function a3(a){let b=a._controlledReadableByteStream._reader;for(;b._readRequests.length>0;){if(0===a._queueTotalSize)return;be(a,b._readRequests.shift())}}function a4(a,b,c,d){let e,f=a._controlledReadableByteStream,g=b.constructor,h=aO(g),{byteOffset:j,byteLength:k}=b;try{e=aw(b.buffer)}catch(a){d._errorSteps(a);return}let l={buffer:e,bufferByteLength:e.byteLength,byteOffset:j,byteLength:k,bytesFilled:0,minimumFill:c*h,elementSize:h,viewConstructor:g,readerType:"byob"};if(a._pendingPullIntos.length>0){a._pendingPullIntos.push(l),bs(f,d);return}if("closed"===f._state){let a=new g(l.buffer,l.byteOffset,0);d._closeSteps(a);return}if(a._queueTotalSize>0){if(a$(a,l)){let b=aW(l);a0(a),d._chunkSteps(b);return}if(a._closeRequested){let b=TypeError("Insufficient bytes to fill elements in the given buffer");bd(a,b),d._errorSteps(b);return}}a._pendingPullIntos.push(l),bs(f,d),aT(a)}function a5(a,b){"none"===b.readerType&&a8(a);let c=a._controlledReadableByteStream;if(bv(c))for(;bu(c)>0;)aV(c,a8(a))}function a6(a,b,c){if(a_(a,b,c),"none"===c.readerType){aZ(a,c),a2(a);return}if(c.bytesFilled<c.minimumFill)return;a8(a);let d=c.bytesFilled%c.elementSize;if(d>0){let b=c.byteOffset+c.bytesFilled;aY(a,c.buffer,b-d,d)}c.bytesFilled-=d,aV(a._controlledReadableByteStream,c),a2(a)}function a7(a,b){let c=a._pendingPullIntos.peek();a1(a),"closed"===a._controlledReadableByteStream._state?a5(a,c):a6(a,b,c),aT(a)}function a8(a){return a._pendingPullIntos.shift()}function a9(a){let b=a._controlledReadableByteStream;return"readable"===b._state&&!a._closeRequested&&!!a._started&&!!(af(b)&&ae(b)>0||bv(b)&&bu(b)>0||bg(a)>0)}function ba(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0}function bb(a){let b=a._controlledReadableByteStream;if(!(a._closeRequested||"readable"!==b._state)){if(a._queueTotalSize>0){a._closeRequested=!0;return}if(a._pendingPullIntos.length>0){let b=a._pendingPullIntos.peek();if(b.bytesFilled%b.elementSize!=0){let b=TypeError("Insufficient bytes to fill elements in the given buffer");throw bd(a,b),b}}ba(a),dA(b)}}function bc(a,b){let c=a._controlledReadableByteStream;if(a._closeRequested||"readable"!==c._state)return;let{buffer:d,byteOffset:e,byteLength:f}=b;if(ax(d))throw TypeError("chunk's buffer is detached and so cannot be enqueued");let g=aw(d);if(a._pendingPullIntos.length>0){let b=a._pendingPullIntos.peek();if(ax(b.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");a1(a),b.buffer=aw(b.buffer),"none"===b.readerType&&aZ(a,b)}af(c)?(a3(a),0===ae(c))?aX(a,g,e,f):(a._pendingPullIntos.length>0&&a8(a),ad(c,new Uint8Array(g,e,f),!1)):bv(c)?(aX(a,g,e,f),a2(a)):aX(a,g,e,f),aT(a)}function bd(a,b){let c=a._controlledReadableByteStream;"readable"===c._state&&(aU(a),aL(a),ba(a),dB(c,b))}function be(a,b){let c=a._queue.shift();a._queueTotalSize-=c.byteLength,a0(a);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);b._chunkSteps(d)}function bf(a){if(null===a._byobRequest&&a._pendingPullIntos.length>0){let b=a._pendingPullIntos.peek(),c=new Uint8Array(b.buffer,b.byteOffset+b.bytesFilled,b.byteLength-b.bytesFilled),d=Object.create(aP.prototype);bl(d,a,c),a._byobRequest=d}return a._byobRequest}function bg(a){let b=a._controlledReadableByteStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function bh(a,b){let c=a._pendingPullIntos.peek();if("closed"===a._controlledReadableByteStream._state){if(0!==b)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===b)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(c.bytesFilled+b>c.byteLength)throw RangeError("bytesWritten out of range")}c.buffer=aw(c.buffer),a7(a,b)}function bi(a,b){let c=a._pendingPullIntos.peek();if("closed"===a._controlledReadableByteStream._state){if(0!==b.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===b.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(c.bufferByteLength!==b.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(c.bytesFilled+b.byteLength>c.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let d=b.byteLength;c.buffer=aw(b.buffer),a7(a,d)}function bj(a,b,c,d,e,f,g){b._controlledReadableByteStream=a,b._pullAgain=!1,b._pulling=!1,b._byobRequest=null,b._queue=b._queueTotalSize=void 0,aL(b),b._closeRequested=!1,b._started=!1,b._strategyHWM=f,b._pullAlgorithm=d,b._cancelAlgorithm=e,b._autoAllocateChunkSize=g,b._pendingPullIntos=new z,a._readableStreamController=b,q(n(c()),()=>(b._started=!0,aT(b),null),a=>(bd(b,a),null))}function bk(a,b,c){let d,e,f,g=Object.create(aQ.prototype);d=void 0!==b.start?u(()=>b.start(g),"startAlgorithm"):u(()=>{},"startAlgorithm"),e=void 0!==b.pull?u(()=>b.pull(g),"pullAlgorithm"):u(()=>n(void 0),"pullAlgorithm"),f=void 0!==b.cancel?u(a=>b.cancel(a),"cancelAlgorithm"):u(()=>n(void 0),"cancelAlgorithm");let h=b.autoAllocateChunkSize;if(0===h)throw TypeError("autoAllocateChunkSize must be greater than 0");bj(a,g,d,e,f,c,h)}function bl(a,b,c){a._associatedReadableByteStreamController=b,a._view=c}function bm(a){return TypeError(`ReadableStreamBYOBRequest.prototype.${a} can only be used on a ReadableStreamBYOBRequest`)}function bn(a){return TypeError(`ReadableByteStreamController.prototype.${a} can only be used on a ReadableByteStreamController`)}function bo(a,b){S(a,b);let c=a?.mode;return{mode:void 0===c?void 0:bp(c,`${b} has member 'mode' that`)}}function bp(a,b){if("byob"!=(a=`${a}`))throw TypeError(`${b} '${a}' is not a valid enumeration value for ReadableStreamReaderMode`);return a}function bq(a,b){var c;return S(a,b),{min:_(null!=(c=a?.min)?c:1,`${b} has member 'min' that`)}}function br(a){return new bx(a)}function bs(a,b){a._reader._readIntoRequests.push(b)}function bt(a,b,c){let d=a._reader._readIntoRequests.shift();c?d._closeSteps(b):d._chunkSteps(b)}function bu(a){return a._reader._readIntoRequests.length}function bv(a){let b=a._reader;return!(void 0===b||!by(b))}u(aQ,"ReadableByteStreamController"),Object.defineProperties(aQ.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),g(aQ.prototype.close,"close"),g(aQ.prototype.enqueue,"enqueue"),g(aQ.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(aQ.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0}),u(aR,"IsReadableByteStreamController"),u(aS,"IsReadableStreamBYOBRequest"),u(aT,"ReadableByteStreamControllerCallPullIfNeeded"),u(aU,"ReadableByteStreamControllerClearPendingPullIntos"),u(aV,"ReadableByteStreamControllerCommitPullIntoDescriptor"),u(aW,"ReadableByteStreamControllerConvertPullIntoDescriptor"),u(aX,"ReadableByteStreamControllerEnqueueChunkToQueue"),u(aY,"ReadableByteStreamControllerEnqueueClonedChunkToQueue"),u(aZ,"ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue"),u(a$,"ReadableByteStreamControllerFillPullIntoDescriptorFromQueue"),u(a_,"ReadableByteStreamControllerFillHeadPullIntoDescriptor"),u(a0,"ReadableByteStreamControllerHandleQueueDrain"),u(a1,"ReadableByteStreamControllerInvalidateBYOBRequest"),u(a2,"ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue"),u(a3,"ReadableByteStreamControllerProcessReadRequestsUsingQueue"),u(a4,"ReadableByteStreamControllerPullInto"),u(a5,"ReadableByteStreamControllerRespondInClosedState"),u(a6,"ReadableByteStreamControllerRespondInReadableState"),u(a7,"ReadableByteStreamControllerRespondInternal"),u(a8,"ReadableByteStreamControllerShiftPendingPullInto"),u(a9,"ReadableByteStreamControllerShouldCallPull"),u(ba,"ReadableByteStreamControllerClearAlgorithms"),u(bb,"ReadableByteStreamControllerClose"),u(bc,"ReadableByteStreamControllerEnqueue"),u(bd,"ReadableByteStreamControllerError"),u(be,"ReadableByteStreamControllerFillReadRequestFromQueue"),u(bf,"ReadableByteStreamControllerGetBYOBRequest"),u(bg,"ReadableByteStreamControllerGetDesiredSize"),u(bh,"ReadableByteStreamControllerRespond"),u(bi,"ReadableByteStreamControllerRespondWithNewView"),u(bj,"SetUpReadableByteStreamController"),u(bk,"SetUpReadableByteStreamControllerFromUnderlyingSource"),u(bl,"SetUpReadableStreamBYOBRequest"),u(bm,"byobRequestBrandCheckException"),u(bn,"byteStreamControllerBrandCheckException"),u(bo,"convertReaderOptions"),u(bp,"convertReadableStreamReaderMode"),u(bq,"convertByobReadOptions"),u(br,"AcquireReadableStreamBYOBReader"),u(bs,"ReadableStreamAddReadIntoRequest"),u(bt,"ReadableStreamFulfillReadIntoRequest"),u(bu,"ReadableStreamGetNumReadIntoRequests"),u(bv,"ReadableStreamHasBYOBReader");let bw=class{constructor(a){if(W(a,1,"ReadableStreamBYOBReader"),aa(a,"First parameter"),dy(a))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!aR(a._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");F(this,a),this._readIntoRequests=new z}get closed(){return by(this)?this._closedPromise:o(bC("closed"))}cancel(a){return by(this)?void 0===this._ownerReadableStream?o(I("cancel")):G(this,a):o(bC("cancel"))}read(a,b={}){let c,d,e;if(!by(this))return o(bC("read"));if(!ArrayBuffer.isView(a))return o(TypeError("view must be an array buffer view"));if(0===a.byteLength)return o(TypeError("view must have non-zero byteLength"));if(0===a.buffer.byteLength)return o(TypeError("view's buffer must have non-zero byteLength"));if(ax(a.buffer))return o(TypeError("view's buffer has been detached"));try{c=bq(b,"options")}catch(a){return o(a)}let f=c.min;if(0===f)return o(TypeError("options.min must be greater than 0"));if(aN(a)){if(f>a.byteLength)return o(RangeError("options.min must be less than or equal to view's byteLength"))}else if(f>a.length)return o(RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return o(I("read from"));let g=l((a,b)=>{d=a,e=b});return bz(this,a,f,{_chunkSteps:u(a=>d({value:a,done:!1}),"_chunkSteps"),_closeSteps:u(a=>d({value:a,done:!0}),"_closeSteps"),_errorSteps:u(a=>e(a),"_errorSteps")}),g}releaseLock(){if(!by(this))throw bC("releaseLock");void 0!==this._ownerReadableStream&&bA(this)}};u(bw,"ReadableStreamBYOBReader");let bx=bw;function by(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")&&a instanceof bx}function bz(a,b,c,d){let e=a._ownerReadableStream;e._disturbed=!0,"errored"===e._state?d._errorSteps(e._storedError):a4(e._readableStreamController,b,c,d)}function bA(a){H(a),bB(a,TypeError("Reader was released"))}function bB(a,b){let c=a._readIntoRequests;a._readIntoRequests=new z,c.forEach(a=>{a._errorSteps(b)})}function bC(a){return TypeError(`ReadableStreamBYOBReader.prototype.${a} can only be used on a ReadableStreamBYOBReader`)}function bD(a,b){let{highWaterMark:c}=a;if(void 0===c)return b;if(at(c)||c<0)throw RangeError("Invalid highWaterMark");return c}function bE(a){let{size:b}=a;return b||(()=>1)}function bF(a,b){S(a,b);let c=a?.highWaterMark,d=a?.size;return{highWaterMark:void 0===c?void 0:Y(c),size:void 0===d?void 0:bG(d,`${b} has member 'size' that`)}}function bG(a,b){return T(a,b),b=>Y(a(b))}function bH(a,b){S(a,b);let c=a?.abort,d=a?.close,e=a?.start,f=a?.type,g=a?.write;return{abort:void 0===c?void 0:bI(c,a,`${b} has member 'abort' that`),close:void 0===d?void 0:bJ(d,a,`${b} has member 'close' that`),start:void 0===e?void 0:bK(e,a,`${b} has member 'start' that`),write:void 0===g?void 0:bL(g,a,`${b} has member 'write' that`),type:f}}function bI(a,b,c){return T(a,c),c=>y(a,b,[c])}function bJ(a,b,c){return T(a,c),()=>y(a,b,[])}function bK(a,b,c){return T(a,c),c=>x(a,b,[c])}function bL(a,b,c){return T(a,c),(c,d)=>y(a,b,[c,d])}function bM(a,b){if(!bU(a))throw TypeError(`${b} is not a WritableStream.`)}function bN(a){if("object"!=typeof a||null===a)return!1;try{return"boolean"==typeof a.aborted}catch{return!1}}Object.defineProperties(bx.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),g(bx.prototype.cancel,"cancel"),g(bx.prototype.read,"read"),g(bx.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(bx.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0}),u(by,"IsReadableStreamBYOBReader"),u(bz,"ReadableStreamBYOBReaderRead"),u(bA,"ReadableStreamBYOBReaderRelease"),u(bB,"ReadableStreamBYOBReaderErrorReadIntoRequests"),u(bC,"byobReaderBrandCheckException"),u(bD,"ExtractHighWaterMark"),u(bE,"ExtractSizeAlgorithm"),u(bF,"convertQueuingStrategy"),u(bG,"convertQueuingStrategySize"),u(bH,"convertUnderlyingSink"),u(bI,"convertUnderlyingSinkAbortCallback"),u(bJ,"convertUnderlyingSinkCloseCallback"),u(bK,"convertUnderlyingSinkStartCallback"),u(bL,"convertUnderlyingSinkWriteCallback"),u(bM,"assertWritableStream"),u(bN,"isAbortSignal");let bO="function"==typeof AbortController;function bP(){if(bO)return new AbortController}u(bP,"createAbortController");let bQ=class{constructor(a={},b={}){void 0===a?a=null:V(a,"First parameter");const c=bF(b,"Second parameter"),d=bH(a,"First parameter");if(bT(this),void 0!==d.type)throw RangeError("Invalid type is specified");const e=bE(c);cq(this,d,bD(c,1),e)}get locked(){if(!bU(this))throw cC("locked");return bV(this)}abort(a){return bU(this)?bV(this)?o(TypeError("Cannot abort a stream that already has a writer")):bW(this,a):o(cC("abort"))}close(){return bU(this)?bV(this)?o(TypeError("Cannot close a stream that already has a writer")):b4(this)?o(TypeError("Cannot close an already-closing stream")):bX(this):o(cC("close"))}getWriter(){if(!bU(this))throw cC("getWriter");return bR(this)}};function bR(a){return new cb(a)}function bS(a,b,c,d,e=1,f=()=>1){let g=Object.create(bQ.prototype);return bT(g),cp(g,Object.create(cn.prototype),a,b,c,d,e,f),g}function bT(a){a._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=new z,a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1}function bU(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")&&a instanceof bQ}function bV(a){return void 0!==a._writer}function bW(a,b){var c;if("closed"===a._state||"errored"===a._state)return n(void 0);a._writableStreamController._abortReason=b,null==(c=a._writableStreamController._abortController)||c.abort(b);let d=a._state;if("closed"===d||"errored"===d)return n(void 0);if(void 0!==a._pendingAbortRequest)return a._pendingAbortRequest._promise;let e=!1;"erroring"===d&&(e=!0,b=void 0);let f=l((c,d)=>{a._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});return a._pendingAbortRequest._promise=f,e||b$(a,b),f}function bX(a){let b=a._state;if("closed"===b||"errored"===b)return o(TypeError(`The stream (in ${b} state) is not in the writable state and cannot be closed`));let c=l((b,c)=>{a._closeRequest={_resolve:b,_reject:c}}),d=a._writer;return void 0!==d&&a._backpressure&&"writable"===b&&cS(d),cs(a._writableStreamController),c}function bY(a){return l((b,c)=>{a._writeRequests.push({_resolve:b,_reject:c})})}function bZ(a,b){"writable"===a._state?b$(a,b):b_(a)}function b$(a,b){let c=a._writableStreamController;a._state="erroring",a._storedError=b;let d=a._writer;void 0!==d&&ch(d,b),!b5(a)&&c._started&&b_(a)}function b_(a){a._state="errored",a._writableStreamController[B]();let b=a._storedError;if(a._writeRequests.forEach(a=>{a._reject(b)}),a._writeRequests=new z,void 0===a._pendingAbortRequest)return void b8(a);let c=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,c._wasAlreadyErroring){c._reject(b),b8(a);return}q(a._writableStreamController[A](c._reason),()=>(c._resolve(),b8(a),null),b=>(c._reject(b),b8(a),null))}function b0(a){a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function b1(a,b){a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,bZ(a,b)}function b2(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,"erroring"===a._state&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";let b=a._writer;void 0!==b&&cL(b)}function b3(a,b){a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),bZ(a,b)}function b4(a){return void 0!==a._closeRequest||void 0!==a._inFlightCloseRequest}function b5(a){return void 0!==a._inFlightWriteRequest||void 0!==a._inFlightCloseRequest}function b6(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function b7(a){a._inFlightWriteRequest=a._writeRequests.shift()}function b8(a){void 0!==a._closeRequest&&(a._closeRequest._reject(a._storedError),a._closeRequest=void 0);let b=a._writer;void 0!==b&&cJ(b,a._storedError)}function b9(a,b){let c=a._writer;void 0!==c&&b!==a._backpressure&&(b?cQ(c):cS(c)),a._backpressure=b}u(bQ,"WritableStream"),Object.defineProperties(bQ.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),g(bQ.prototype.abort,"abort"),g(bQ.prototype.close,"close"),g(bQ.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(bQ.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0}),u(bR,"AcquireWritableStreamDefaultWriter"),u(bS,"CreateWritableStream"),u(bT,"InitializeWritableStream"),u(bU,"IsWritableStream"),u(bV,"IsWritableStreamLocked"),u(bW,"WritableStreamAbort"),u(bX,"WritableStreamClose"),u(bY,"WritableStreamAddWriteRequest"),u(bZ,"WritableStreamDealWithRejection"),u(b$,"WritableStreamStartErroring"),u(b_,"WritableStreamFinishErroring"),u(b0,"WritableStreamFinishInFlightWrite"),u(b1,"WritableStreamFinishInFlightWriteWithError"),u(b2,"WritableStreamFinishInFlightClose"),u(b3,"WritableStreamFinishInFlightCloseWithError"),u(b4,"WritableStreamCloseQueuedOrInFlight"),u(b5,"WritableStreamHasOperationMarkedInFlight"),u(b6,"WritableStreamMarkCloseRequestInFlight"),u(b7,"WritableStreamMarkFirstWriteRequestInFlight"),u(b8,"WritableStreamRejectCloseAndClosedPromiseIfNeeded"),u(b9,"WritableStreamUpdateBackpressure");let ca=class{constructor(a){if(W(a,1,"WritableStreamDefaultWriter"),bM(a,"First parameter"),bV(a))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a,a._writer=this;const b=a._state;if("writable"===b)!b4(a)&&a._backpressure?cM(this):cO(this),cG(this);else if("erroring"===b)cN(this,a._storedError),cG(this);else if("closed"===b)cO(this),cI(this);else{const b=a._storedError;cN(this,b),cH(this,b)}}get closed(){return cc(this)?this._closedPromise:o(cE("closed"))}get desiredSize(){if(!cc(this))throw cE("desiredSize");if(void 0===this._ownerWritableStream)throw cF("desiredSize");return ci(this)}get ready(){return cc(this)?this._readyPromise:o(cE("ready"))}abort(a){return cc(this)?void 0===this._ownerWritableStream?o(cF("abort")):cd(this,a):o(cE("abort"))}close(){if(!cc(this))return o(cE("close"));let a=this._ownerWritableStream;return void 0===a?o(cF("close")):b4(a)?o(TypeError("Cannot close an already-closing stream")):ce(this)}releaseLock(){if(!cc(this))throw cE("releaseLock");void 0!==this._ownerWritableStream&&cj(this)}write(a){return cc(this)?void 0===this._ownerWritableStream?o(cF("write to")):ck(this,a):o(cE("write"))}};u(ca,"WritableStreamDefaultWriter");let cb=ca;function cc(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")&&a instanceof cb}function cd(a,b){return bW(a._ownerWritableStream,b)}function ce(a){return bX(a._ownerWritableStream)}function cf(a){let b=a._ownerWritableStream,c=b._state;return b4(b)||"closed"===c?n(void 0):"errored"===c?o(b._storedError):ce(a)}function cg(a,b){"pending"===a._closedPromiseState?cJ(a,b):cK(a,b)}function ch(a,b){"pending"===a._readyPromiseState?cP(a,b):cR(a,b)}function ci(a){let b=a._ownerWritableStream,c=b._state;return"errored"===c||"erroring"===c?null:"closed"===c?0:cu(b._writableStreamController)}function cj(a){let b=a._ownerWritableStream,c=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ch(a,c),cg(a,c),b._writer=void 0,a._ownerWritableStream=void 0}function ck(a,b){let c=a._ownerWritableStream,d=c._writableStreamController,e=ct(d,b);if(c!==a._ownerWritableStream)return o(cF("write to"));let f=c._state;if("errored"===f)return o(c._storedError);if(b4(c)||"closed"===f)return o(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===f)return o(c._storedError);let g=bY(c);return cv(d,b,e),g}Object.defineProperties(cb.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),g(cb.prototype.abort,"abort"),g(cb.prototype.close,"close"),g(cb.prototype.releaseLock,"releaseLock"),g(cb.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(cb.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0}),u(cc,"IsWritableStreamDefaultWriter"),u(cd,"WritableStreamDefaultWriterAbort"),u(ce,"WritableStreamDefaultWriterClose"),u(cf,"WritableStreamDefaultWriterCloseWithErrorPropagation"),u(cg,"WritableStreamDefaultWriterEnsureClosedPromiseRejected"),u(ch,"WritableStreamDefaultWriterEnsureReadyPromiseRejected"),u(ci,"WritableStreamDefaultWriterGetDesiredSize"),u(cj,"WritableStreamDefaultWriterRelease"),u(ck,"WritableStreamDefaultWriterWrite");let cl={},cm=class{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!co(this))throw cD("abortReason");return this._abortReason}get signal(){if(!co(this))throw cD("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(a){if(!co(this))throw cD("error");"writable"===this._controlledWritableStream._state&&cB(this,a)}[A](a){let b=this._abortAlgorithm(a);return cr(this),b}[B](){aL(this)}};u(cm,"WritableStreamDefaultController");let cn=cm;function co(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledWritableStream")&&a instanceof cn}function cp(a,b,c,d,e,f,g,h){b._controlledWritableStream=a,a._writableStreamController=b,b._queue=void 0,b._queueTotalSize=void 0,aL(b),b._abortReason=void 0,b._abortController=bP(),b._started=!1,b._strategySizeAlgorithm=h,b._strategyHWM=g,b._writeAlgorithm=d,b._closeAlgorithm=e,b._abortAlgorithm=f,b9(a,cA(b)),q(n(c()),()=>(b._started=!0,cw(b),null),c=>(b._started=!0,bZ(a,c),null))}function cq(a,b,c,d){let e,f,g=Object.create(cn.prototype);e=void 0!==b.start?u(()=>b.start(g),"startAlgorithm"):u(()=>{},"startAlgorithm"),f=void 0!==b.write?u(a=>b.write(a,g),"writeAlgorithm"):u(()=>n(void 0),"writeAlgorithm"),cp(a,g,e,f,void 0!==b.close?u(()=>b.close(),"closeAlgorithm"):u(()=>n(void 0),"closeAlgorithm"),void 0!==b.abort?u(a=>b.abort(a),"abortAlgorithm"):u(()=>n(void 0),"abortAlgorithm"),c,d)}function cr(a){a._writeAlgorithm=void 0,a._closeAlgorithm=void 0,a._abortAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function cs(a){aJ(a,cl,0),cw(a)}function ct(a,b){try{return a._strategySizeAlgorithm(b)}catch(b){return cx(a,b),1}}function cu(a){return a._strategyHWM-a._queueTotalSize}function cv(a,b,c){try{aJ(a,b,c)}catch(b){cx(a,b);return}let d=a._controlledWritableStream;b4(d)||"writable"!==d._state||b9(d,cA(a)),cw(a)}function cw(a){let b=a._controlledWritableStream;if(!a._started||void 0!==b._inFlightWriteRequest)return;if("erroring"===b._state)return void b_(b);if(0===a._queue.length)return;let c=aK(a);c===cl?cy(a):cz(a,c)}function cx(a,b){"writable"===a._controlledWritableStream._state&&cB(a,b)}function cy(a){let b=a._controlledWritableStream;b6(b),aI(a);let c=a._closeAlgorithm();cr(a),q(c,()=>(b2(b),null),a=>(b3(b,a),null))}function cz(a,b){let c=a._controlledWritableStream;b7(c),q(a._writeAlgorithm(b),()=>{b0(c);let b=c._state;return aI(a),b4(c)||"writable"!==b||b9(c,cA(a)),cw(a),null},b=>("writable"===c._state&&cr(a),b1(c,b),null))}function cA(a){return 0>=cu(a)}function cB(a,b){let c=a._controlledWritableStream;cr(a),b$(c,b)}function cC(a){return TypeError(`WritableStream.prototype.${a} can only be used on a WritableStream`)}function cD(a){return TypeError(`WritableStreamDefaultController.prototype.${a} can only be used on a WritableStreamDefaultController`)}function cE(a){return TypeError(`WritableStreamDefaultWriter.prototype.${a} can only be used on a WritableStreamDefaultWriter`)}function cF(a){return TypeError("Cannot "+a+" a stream using a released writer")}function cG(a){a._closedPromise=l((b,c)=>{a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function cH(a,b){cG(a),cJ(a,b)}function cI(a){cG(a),cL(a)}function cJ(a,b){void 0!==a._closedPromise_reject&&(v(a._closedPromise),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected")}function cK(a,b){cH(a,b)}function cL(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved")}function cM(a){a._readyPromise=l((b,c)=>{a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function cN(a,b){cM(a),cP(a,b)}function cO(a){cM(a),cS(a)}function cP(a,b){void 0!==a._readyPromise_reject&&(v(a._readyPromise),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected")}function cQ(a){cM(a)}function cR(a,b){cN(a,b)}function cS(a){void 0!==a._readyPromise_resolve&&(a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled")}function cT(){return"u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof m?m:void 0}Object.defineProperties(cn.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(cn.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0}),u(co,"IsWritableStreamDefaultController"),u(cp,"SetUpWritableStreamDefaultController"),u(cq,"SetUpWritableStreamDefaultControllerFromUnderlyingSink"),u(cr,"WritableStreamDefaultControllerClearAlgorithms"),u(cs,"WritableStreamDefaultControllerClose"),u(ct,"WritableStreamDefaultControllerGetChunkSize"),u(cu,"WritableStreamDefaultControllerGetDesiredSize"),u(cv,"WritableStreamDefaultControllerWrite"),u(cw,"WritableStreamDefaultControllerAdvanceQueueIfNeeded"),u(cx,"WritableStreamDefaultControllerErrorIfNeeded"),u(cy,"WritableStreamDefaultControllerProcessClose"),u(cz,"WritableStreamDefaultControllerProcessWrite"),u(cA,"WritableStreamDefaultControllerGetBackpressure"),u(cB,"WritableStreamDefaultControllerError"),u(cC,"streamBrandCheckException$2"),u(cD,"defaultControllerBrandCheckException$2"),u(cE,"defaultWriterBrandCheckException"),u(cF,"defaultWriterLockException"),u(cG,"defaultWriterClosedPromiseInitialize"),u(cH,"defaultWriterClosedPromiseInitializeAsRejected"),u(cI,"defaultWriterClosedPromiseInitializeAsResolved"),u(cJ,"defaultWriterClosedPromiseReject"),u(cK,"defaultWriterClosedPromiseResetToRejected"),u(cL,"defaultWriterClosedPromiseResolve"),u(cM,"defaultWriterReadyPromiseInitialize"),u(cN,"defaultWriterReadyPromiseInitializeAsRejected"),u(cO,"defaultWriterReadyPromiseInitializeAsResolved"),u(cP,"defaultWriterReadyPromiseReject"),u(cQ,"defaultWriterReadyPromiseReset"),u(cR,"defaultWriterReadyPromiseResetToRejected"),u(cS,"defaultWriterReadyPromiseResolve"),u(cT,"getGlobals");let cU=cT();function cV(a){if("function"!=typeof a&&"object"!=typeof a||"DOMException"!==a.name)return!1;try{return new a,!0}catch{return!1}}function cW(){let a=cU?.DOMException;return cV(a)?a:void 0}function cX(){let a=u(function(a,b){this.message=a||"",this.name=b||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)},"DOMException");return g(a,"DOMException"),a.prototype=Object.create(Error.prototype),Object.defineProperty(a.prototype,"constructor",{value:a,writable:!0,configurable:!0}),a}u(cV,"isDOMExceptionConstructor"),u(cW,"getFromGlobal"),u(cX,"createPolyfill");let cY=cW()||cX();function cZ(a,b,c,d,f,g){let h=ab(a),j=bR(b);a._disturbed=!0;let k=!1,m=n(void 0);return l((o,t)=>{let w;if(void 0!==g){if(w=u(()=>{let c=void 0!==g.reason?g.reason:new cY("Aborted","AbortError"),e=[];d||e.push(()=>"writable"===b._state?bW(b,c):n(void 0)),f||e.push(()=>"readable"===a._state?dz(a,c):n(void 0)),C(()=>Promise.all(e.map(a=>a())),!0,c)},"abortAlgorithm"),g.aborted)return void w();g.addEventListener("abort",w)}function x(){return l((a,b)=>{function c(d){d?a():p(y(),c,b)}u(c,"next"),c(!1)})}function y(){return k?n(!0):p(j._readyPromise,()=>l((a,b)=>{aj(h,{_chunkSteps:u(b=>{m=p(ck(j,b),void 0,e),a(!1)},"_chunkSteps"),_closeSteps:u(()=>a(!0),"_closeSteps"),_errorSteps:b})}))}if(u(x,"pipeLoop"),u(y,"pipeStep"),A(a,h._closedPromise,a=>(d?D(!0,a):C(()=>bW(b,a),!0,a),null)),A(b,j._closedPromise,b=>(f?D(!0,b):C(()=>dz(a,b),!0,b),null)),B(a,h._closedPromise,()=>(c?D():C(()=>cf(j)),null)),b4(b)||"closed"===b._state){let b=TypeError("the destination writable stream closed before all data could be piped to it");f?D(!0,b):C(()=>dz(a,b),!0,b)}function z(){let a=m;return p(m,()=>a!==m?z():void 0)}function A(a,b,c){"errored"===a._state?c(a._storedError):s(b,c)}function B(a,b,c){"closed"===a._state?c():r(b,c)}function C(a,c,d){k||(k=!0,"writable"!==b._state||b4(b)?e():r(z(),e),u(e,"doTheRest"));function e(){return q(a(),()=>E(c,d),a=>E(!0,a)),null}}function D(a,c){k||(k=!0,"writable"!==b._state||b4(b)?E(a,c):r(z(),()=>E(a,c)))}function E(a,b){return cj(j),H(h),void 0!==g&&g.removeEventListener("abort",w),a?t(b):o(void 0),null}v(x()),u(z,"waitForWritesToFinish"),u(A,"isOrBecomesErrored"),u(B,"isOrBecomesClosed"),u(C,"shutdownWithAction"),u(D,"shutdown"),u(E,"finalize")})}u(cZ,"ReadableStreamPipeTo");let c$=class{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!c_(this))throw db("desiredSize");return c6(this)}close(){if(!c_(this))throw db("close");if(!c8(this))throw TypeError("The stream is not in a state that permits close");c3(this)}enqueue(a){if(!c_(this))throw db("enqueue");if(!c8(this))throw TypeError("The stream is not in a state that permits enqueue");return c4(this,a)}error(a){if(!c_(this))throw db("error");c5(this,a)}[C](a){aL(this);let b=this._cancelAlgorithm(a);return c2(this),b}[D](a){let b=this._controlledReadableStream;if(this._queue.length>0){let c=aI(this);this._closeRequested&&0===this._queue.length?(c2(this),dA(b)):c0(this),a._chunkSteps(c)}else ac(b,a),c0(this)}[E](){}};function c_(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledReadableStream")&&a instanceof c$}function c0(a){if(c1(a)){if(a._pulling){a._pullAgain=!0;return}a._pulling=!0,q(a._pullAlgorithm(),()=>(a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,c0(a)),null),b=>(c5(a,b),null))}}function c1(a){let b=a._controlledReadableStream;return!!c8(a)&&!!a._started&&!!(dy(b)&&ae(b)>0||c6(a)>0)}function c2(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function c3(a){if(!c8(a))return;let b=a._controlledReadableStream;a._closeRequested=!0,0===a._queue.length&&(c2(a),dA(b))}function c4(a,b){if(!c8(a))return;let c=a._controlledReadableStream;if(dy(c)&&ae(c)>0)ad(c,b,!1);else{let c;try{c=a._strategySizeAlgorithm(b)}catch(b){throw c5(a,b),b}try{aJ(a,b,c)}catch(b){throw c5(a,b),b}}c0(a)}function c5(a,b){let c=a._controlledReadableStream;"readable"===c._state&&(aL(a),c2(a),dB(c,b))}function c6(a){let b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function c7(a){return!c1(a)}function c8(a){let b=a._controlledReadableStream._state;return!a._closeRequested&&"readable"===b}function c9(a,b,c,d,e,f,g){b._controlledReadableStream=a,b._queue=void 0,b._queueTotalSize=void 0,aL(b),b._started=!1,b._closeRequested=!1,b._pullAgain=!1,b._pulling=!1,b._strategySizeAlgorithm=g,b._strategyHWM=f,b._pullAlgorithm=d,b._cancelAlgorithm=e,a._readableStreamController=b,q(n(c()),()=>(b._started=!0,c0(b),null),a=>(c5(b,a),null))}function da(a,b,c,d){let e,f,g=Object.create(c$.prototype);e=void 0!==b.start?u(()=>b.start(g),"startAlgorithm"):u(()=>{},"startAlgorithm"),f=void 0!==b.pull?u(()=>b.pull(g),"pullAlgorithm"):u(()=>n(void 0),"pullAlgorithm"),c9(a,g,e,f,void 0!==b.cancel?u(a=>b.cancel(a),"cancelAlgorithm"):u(()=>n(void 0),"cancelAlgorithm"),c,d)}function db(a){return TypeError(`ReadableStreamDefaultController.prototype.${a} can only be used on a ReadableStreamDefaultController`)}function dc(a,b){return aR(a._readableStreamController)?de(a):dd(a)}function dd(a,b){let c=ab(a),d=!1,e=!1,f=!1,g=!1,h,j,k,m,o,p=l(a=>{o=a});function q(){return d?e=!0:(d=!0,aj(c,{_chunkSteps:u(a=>{w(()=>{e=!1,f||c4(k._readableStreamController,a),g||c4(m._readableStreamController,a),d=!1,e&&q()})},"_chunkSteps"),_closeSteps:u(()=>{d=!1,f||c3(k._readableStreamController),g||c3(m._readableStreamController),f&&g||o(void 0)},"_closeSteps"),_errorSteps:u(()=>{d=!1},"_errorSteps")})),n(void 0)}function r(b){if(f=!0,h=b,g){let b=dz(a,au([h,j]));o(b)}return p}function t(b){if(g=!0,j=b,f){let b=dz(a,au([h,j]));o(b)}return p}function v(){}return u(q,"pullAlgorithm"),u(r,"cancel1Algorithm"),u(t,"cancel2Algorithm"),u(v,"startAlgorithm"),k=du(v,q,r),m=du(v,q,t),s(c._closedPromise,a=>(c5(k._readableStreamController,a),c5(m._readableStreamController,a),f&&g||o(void 0),null)),[k,m]}function de(a){let b=ab(a),c=!1,d=!1,e=!1,f=!1,g=!1,h,j,k,m,o,p=l(a=>{o=a});function q(a){s(a._closedPromise,c=>(a!==b||(bd(k._readableStreamController,c),bd(m._readableStreamController,c),f&&g||o(void 0)),null))}function r(){by(b)&&(H(b),q(b=ab(a))),aj(b,{_chunkSteps:u(b=>{w(()=>{d=!1,e=!1;let h=b;if(!f&&!g)try{h=aH(b)}catch(b){bd(k._readableStreamController,b),bd(m._readableStreamController,b),o(dz(a,b));return}f||bc(k._readableStreamController,b),g||bc(m._readableStreamController,h),c=!1,d?v():e&&x()})},"_chunkSteps"),_closeSteps:u(()=>{c=!1,f||bb(k._readableStreamController),g||bb(m._readableStreamController),k._readableStreamController._pendingPullIntos.length>0&&bh(k._readableStreamController,0),m._readableStreamController._pendingPullIntos.length>0&&bh(m._readableStreamController,0),f&&g||o(void 0)},"_closeSteps"),_errorSteps:u(()=>{c=!1},"_errorSteps")})}function t(h,j){ai(b)&&(H(b),q(b=br(a)));let l=j?m:k,n=j?k:m;bz(b,h,1,{_chunkSteps:u(b=>{w(()=>{d=!1,e=!1;let h=j?g:f;if(j?f:g)h||bi(l._readableStreamController,b);else{let c;try{c=aH(b)}catch(b){bd(l._readableStreamController,b),bd(n._readableStreamController,b),o(dz(a,b));return}h||bi(l._readableStreamController,b),bc(n._readableStreamController,c)}c=!1,d?v():e&&x()})},"_chunkSteps"),_closeSteps:u(a=>{c=!1;let b=j?g:f,d=j?f:g;b||bb(l._readableStreamController),d||bb(n._readableStreamController),void 0!==a&&(b||bi(l._readableStreamController,a),!d&&n._readableStreamController._pendingPullIntos.length>0&&bh(n._readableStreamController,0)),b&&d||o(void 0)},"_closeSteps"),_errorSteps:u(()=>{c=!1},"_errorSteps")})}function v(){if(c)return d=!0,n(void 0);c=!0;let a=bf(k._readableStreamController);return null===a?r():t(a._view,!1),n(void 0)}function x(){if(c)return e=!0,n(void 0);c=!0;let a=bf(m._readableStreamController);return null===a?r():t(a._view,!0),n(void 0)}function y(b){if(f=!0,h=b,g){let b=dz(a,au([h,j]));o(b)}return p}function z(b){if(g=!0,j=b,f){let b=dz(a,au([h,j]));o(b)}return p}function A(){}return u(q,"forwardReaderError"),u(r,"pullWithDefaultReader"),u(t,"pullWithBYOBReader"),u(v,"pull1Algorithm"),u(x,"pull2Algorithm"),u(y,"cancel1Algorithm"),u(z,"cancel2Algorithm"),u(A,"startAlgorithm"),k=dv(A,v,y),m=dv(A,x,z),q(b),[k,m]}function df(a){return f(a)&&"u">typeof a.getReader}function dg(a){return df(a)?di(a.getReader()):dh(a)}function dh(a){let b,c=aC(a,"async");function d(){let a;try{a=aD(c)}catch(a){return o(a)}return t(n(a),a=>{if(!f(a))throw TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(aE(a))c3(b._readableStreamController);else{let c=aF(a);c4(b._readableStreamController,c)}})}function g(a){let b,d,e=c.iterator;try{b=az(e,"return")}catch(a){return o(a)}if(void 0===b)return n(void 0);try{d=x(b,e,[a])}catch(a){return o(a)}return t(n(d),a=>{if(!f(a))throw TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return u(d,"pullAlgorithm"),u(g,"cancelAlgorithm"),b=du(e,d,g,0)}function di(a){let b;function c(){let c;try{c=a.read()}catch(a){return o(a)}return t(c,a=>{if(!f(a))throw TypeError("The promise returned by the reader.read() method must fulfill with an object");if(a.done)c3(b._readableStreamController);else{let c=a.value;c4(b._readableStreamController,c)}})}function d(b){try{return n(a.cancel(b))}catch(a){return o(a)}}return u(c,"pullAlgorithm"),u(d,"cancelAlgorithm"),b=du(e,c,d,0)}function dj(a,b){S(a,b);let c=a?.autoAllocateChunkSize,d=a?.cancel,e=a?.pull,f=a?.start,g=a?.type;return{autoAllocateChunkSize:void 0===c?void 0:_(c,`${b} has member 'autoAllocateChunkSize' that`),cancel:void 0===d?void 0:dk(d,a,`${b} has member 'cancel' that`),pull:void 0===e?void 0:dl(e,a,`${b} has member 'pull' that`),start:void 0===f?void 0:dm(f,a,`${b} has member 'start' that`),type:void 0===g?void 0:dn(g,`${b} has member 'type' that`)}}function dk(a,b,c){return T(a,c),c=>y(a,b,[c])}function dl(a,b,c){return T(a,c),c=>y(a,b,[c])}function dm(a,b,c){return T(a,c),c=>x(a,b,[c])}function dn(a,b){if("bytes"!=(a=`${a}`))throw TypeError(`${b} '${a}' is not a valid enumeration value for ReadableStreamType`);return a}function dp(a,b){return S(a,b),{preventCancel:!!a?.preventCancel}}function dq(a,b){S(a,b);let c=a?.preventAbort,d=a?.preventCancel,e=a?.preventClose,f=a?.signal;return void 0!==f&&dr(f,`${b} has member 'signal' that`),{preventAbort:!!c,preventCancel:!!d,preventClose:!!e,signal:f}}function dr(a,b){if(!bN(a))throw TypeError(`${b} is not an AbortSignal.`)}function ds(a,b){S(a,b);let c=a?.readable;X(c,"readable","ReadableWritablePair"),aa(c,`${b} has member 'readable' that`);let d=a?.writable;return X(d,"writable","ReadableWritablePair"),bM(d,`${b} has member 'writable' that`),{readable:c,writable:d}}u(c$,"ReadableStreamDefaultController"),Object.defineProperties(c$.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),g(c$.prototype.close,"close"),g(c$.prototype.enqueue,"enqueue"),g(c$.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(c$.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0}),u(c_,"IsReadableStreamDefaultController"),u(c0,"ReadableStreamDefaultControllerCallPullIfNeeded"),u(c1,"ReadableStreamDefaultControllerShouldCallPull"),u(c2,"ReadableStreamDefaultControllerClearAlgorithms"),u(c3,"ReadableStreamDefaultControllerClose"),u(c4,"ReadableStreamDefaultControllerEnqueue"),u(c5,"ReadableStreamDefaultControllerError"),u(c6,"ReadableStreamDefaultControllerGetDesiredSize"),u(c7,"ReadableStreamDefaultControllerHasBackpressure"),u(c8,"ReadableStreamDefaultControllerCanCloseOrEnqueue"),u(c9,"SetUpReadableStreamDefaultController"),u(da,"SetUpReadableStreamDefaultControllerFromUnderlyingSource"),u(db,"defaultControllerBrandCheckException$1"),u(dc,"ReadableStreamTee"),u(dd,"ReadableStreamDefaultTee"),u(de,"ReadableByteStreamTee"),u(df,"isReadableStreamLike"),u(dg,"ReadableStreamFrom"),u(dh,"ReadableStreamFromIterable"),u(di,"ReadableStreamFromDefaultReader"),u(dj,"convertUnderlyingDefaultOrByteSource"),u(dk,"convertUnderlyingSourceCancelCallback"),u(dl,"convertUnderlyingSourcePullCallback"),u(dm,"convertUnderlyingSourceStartCallback"),u(dn,"convertReadableStreamType"),u(dp,"convertIteratorOptions"),u(dq,"convertPipeOptions"),u(dr,"assertAbortSignal"),u(ds,"convertReadableWritablePair");let dt=class{constructor(a={},b={}){void 0===a?a=null:V(a,"First parameter");const c=bF(b,"Second parameter"),d=dj(a,"First parameter");if(dw(this),"bytes"===d.type){if(void 0!==c.size)throw RangeError("The strategy for a byte stream cannot have a size function");bk(this,d,bD(c,0))}else{const a=bE(c);da(this,d,bD(c,1),a)}}get locked(){if(!dx(this))throw dC("locked");return dy(this)}cancel(a){return dx(this)?dy(this)?o(TypeError("Cannot cancel a stream that already has a reader")):dz(this,a):o(dC("cancel"))}getReader(a){if(!dx(this))throw dC("getReader");return void 0===bo(a,"First parameter").mode?ab(this):br(this)}pipeThrough(a,b={}){if(!dx(this))throw dC("pipeThrough");W(a,1,"pipeThrough");let c=ds(a,"First parameter"),d=dq(b,"Second parameter");if(dy(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(bV(c.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v(cZ(this,c.writable,d.preventClose,d.preventAbort,d.preventCancel,d.signal)),c.readable}pipeTo(a,b={}){let c;if(!dx(this))return o(dC("pipeTo"));if(void 0===a)return o("Parameter 1 is required in 'pipeTo'.");if(!bU(a))return o(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{c=dq(b,"Second parameter")}catch(a){return o(a)}return dy(this)?o(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):bV(a)?o(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):cZ(this,a,c.preventClose,c.preventAbort,c.preventCancel,c.signal)}tee(){if(!dx(this))throw dC("tee");return au(dc(this))}values(a){if(!dx(this))throw dC("values");return aq(this,dp(a,"First parameter").preventCancel)}[aB](a){return this.values(a)}static from(a){return dg(a)}};function du(a,b,c,d=1,e=()=>1){let f=Object.create(dt.prototype);return dw(f),c9(f,Object.create(c$.prototype),a,b,c,d,e),f}function dv(a,b,c){let d=Object.create(dt.prototype);return dw(d),bj(d,Object.create(aQ.prototype),a,b,c,0,void 0),d}function dw(a){a._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1}function dx(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")&&a instanceof dt}function dy(a){return void 0!==a._reader}function dz(a,b){if(a._disturbed=!0,"closed"===a._state)return n(void 0);if("errored"===a._state)return o(a._storedError);dA(a);let c=a._reader;if(void 0!==c&&by(c)){let a=c._readIntoRequests;c._readIntoRequests=new z,a.forEach(a=>{a._closeSteps(void 0)})}return t(a._readableStreamController[C](b),e)}function dA(a){a._state="closed";let b=a._reader;if(void 0!==b&&(O(b),ai(b))){let a=b._readRequests;b._readRequests=new z,a.forEach(a=>{a._closeSteps()})}}function dB(a,b){a._state="errored",a._storedError=b;let c=a._reader;void 0!==c&&(M(c,b),ai(c)?al(c,b):bB(c,b))}function dC(a){return TypeError(`ReadableStream.prototype.${a} can only be used on a ReadableStream`)}function dD(a,b){S(a,b);let c=a?.highWaterMark;return X(c,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Y(c)}}u(dt,"ReadableStream"),Object.defineProperties(dt,{from:{enumerable:!0}}),Object.defineProperties(dt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),g(dt.from,"from"),g(dt.prototype.cancel,"cancel"),g(dt.prototype.getReader,"getReader"),g(dt.prototype.pipeThrough,"pipeThrough"),g(dt.prototype.pipeTo,"pipeTo"),g(dt.prototype.tee,"tee"),g(dt.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dt.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(dt.prototype,aB,{value:dt.prototype.values,writable:!0,configurable:!0}),u(du,"CreateReadableStream"),u(dv,"CreateReadableByteStream"),u(dw,"InitializeReadableStream"),u(dx,"IsReadableStream"),u(dy,"IsReadableStreamLocked"),u(dz,"ReadableStreamCancel"),u(dA,"ReadableStreamClose"),u(dB,"ReadableStreamError"),u(dC,"streamBrandCheckException$1"),u(dD,"convertQueuingStrategyInit");let dE=u(a=>a.byteLength,"byteLengthSizeFunction");g(dE,"size");let dF=class{constructor(a){W(a,1,"ByteLengthQueuingStrategy"),a=dD(a,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=a.highWaterMark}get highWaterMark(){if(!dH(this))throw dG("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!dH(this))throw dG("size");return dE}};function dG(a){return TypeError(`ByteLengthQueuingStrategy.prototype.${a} can only be used on a ByteLengthQueuingStrategy`)}function dH(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_byteLengthQueuingStrategyHighWaterMark")&&a instanceof dF}u(dF,"ByteLengthQueuingStrategy"),Object.defineProperties(dF.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dF.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0}),u(dG,"byteLengthBrandCheckException"),u(dH,"IsByteLengthQueuingStrategy");let dI=u(()=>1,"countSizeFunction");g(dI,"size");let dJ=class{constructor(a){W(a,1,"CountQueuingStrategy"),a=dD(a,"First parameter"),this._countQueuingStrategyHighWaterMark=a.highWaterMark}get highWaterMark(){if(!dL(this))throw dK("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!dL(this))throw dK("size");return dI}};function dK(a){return TypeError(`CountQueuingStrategy.prototype.${a} can only be used on a CountQueuingStrategy`)}function dL(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_countQueuingStrategyHighWaterMark")&&a instanceof dJ}function dM(a,b){S(a,b);let c=a?.cancel,d=a?.flush,e=a?.readableType,f=a?.start,g=a?.transform,h=a?.writableType;return{cancel:void 0===c?void 0:dQ(c,a,`${b} has member 'cancel' that`),flush:void 0===d?void 0:dN(d,a,`${b} has member 'flush' that`),readableType:e,start:void 0===f?void 0:dO(f,a,`${b} has member 'start' that`),transform:void 0===g?void 0:dP(g,a,`${b} has member 'transform' that`),writableType:h}}function dN(a,b,c){return T(a,c),c=>y(a,b,[c])}function dO(a,b,c){return T(a,c),c=>x(a,b,[c])}function dP(a,b,c){return T(a,c),(c,d)=>y(a,b,[c,d])}function dQ(a,b,c){return T(a,c),c=>y(a,b,[c])}u(dJ,"CountQueuingStrategy"),Object.defineProperties(dJ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dJ.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0}),u(dK,"countBrandCheckException"),u(dL,"IsCountQueuingStrategy"),u(dM,"convertTransformer"),u(dN,"convertTransformerFlushCallback"),u(dO,"convertTransformerStartCallback"),u(dP,"convertTransformerTransformCallback"),u(dQ,"convertTransformerCancelCallback");let dR=class{constructor(a={},b={},c={}){let d;void 0===a&&(a=null);const e=bF(b,"Second parameter"),f=bF(c,"Third parameter"),g=dM(a,"First parameter");if(void 0!==g.readableType)throw RangeError("Invalid readableType specified");if(void 0!==g.writableType)throw RangeError("Invalid writableType specified");const h=bD(f,0),j=bE(f),k=bD(e,1),m=bE(e);dS(this,l(a=>{d=a}),k,m,h,j),d_(this,g),void 0!==g.start?d(g.start(this._transformStreamController)):d(void 0)}get readable(){if(!dT(this))throw ed("readable");return this._readable}get writable(){if(!dT(this))throw ed("writable");return this._writable}};function dS(a,b,c,d,e,f){function g(){return b}function h(b){return d5(a,b)}function j(b){return d6(a,b)}function k(){return d7(a)}function l(){return d8(a)}function m(b){return d9(a,b)}u(g,"startAlgorithm"),u(h,"writeAlgorithm"),u(j,"abortAlgorithm"),u(k,"closeAlgorithm"),a._writable=bS(g,h,k,j,c,d),u(l,"pullAlgorithm"),u(m,"cancelAlgorithm"),a._readable=du(g,l,m,e,f),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,dX(a,!0),a._transformStreamController=void 0}function dT(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_transformStreamController")&&a instanceof dR}function dU(a,b){c5(a._readable._readableStreamController,b),dV(a,b)}function dV(a,b){d0(a._transformStreamController),cx(a._writable._writableStreamController,b),dW(a)}function dW(a){a._backpressure&&dX(a,!1)}function dX(a,b){void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(),a._backpressureChangePromise=l(b=>{a._backpressureChangePromise_resolve=b}),a._backpressure=b}u(dR,"TransformStream"),Object.defineProperties(dR.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dR.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0}),u(dS,"InitializeTransformStream"),u(dT,"IsTransformStream"),u(dU,"TransformStreamError"),u(dV,"TransformStreamErrorWritableAndUnblockWrite"),u(dW,"TransformStreamUnblockWrite"),u(dX,"TransformStreamSetBackpressure");let dY=class{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!dZ(this))throw ea("desiredSize");return c6(this._controlledTransformStream._readable._readableStreamController)}enqueue(a){if(!dZ(this))throw ea("enqueue");d1(this,a)}error(a){if(!dZ(this))throw ea("error");d2(this,a)}terminate(){if(!dZ(this))throw ea("terminate");d4(this)}};function dZ(a){return!!f(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")&&a instanceof dY}function d$(a,b,c,d,e){b._controlledTransformStream=a,a._transformStreamController=b,b._transformAlgorithm=c,b._flushAlgorithm=d,b._cancelAlgorithm=e,b._finishPromise=void 0,b._finishPromise_resolve=void 0,b._finishPromise_reject=void 0}function d_(a,b){let c,d,e=Object.create(dY.prototype);c=void 0!==b.transform?u(a=>b.transform(a,e),"transformAlgorithm"):u(a=>{try{return d1(e,a),n(void 0)}catch(a){return o(a)}},"transformAlgorithm"),d=void 0!==b.flush?u(()=>b.flush(e),"flushAlgorithm"):u(()=>n(void 0),"flushAlgorithm"),d$(a,e,c,d,void 0!==b.cancel?u(a=>b.cancel(a),"cancelAlgorithm"):u(()=>n(void 0),"cancelAlgorithm"))}function d0(a){a._transformAlgorithm=void 0,a._flushAlgorithm=void 0,a._cancelAlgorithm=void 0}function d1(a,b){let c=a._controlledTransformStream,d=c._readable._readableStreamController;if(!c8(d))throw TypeError("Readable side is not in a state that permits enqueue");try{c4(d,b)}catch(a){throw dV(c,a),c._readable._storedError}c7(d)!==c._backpressure&&dX(c,!0)}function d2(a,b){dU(a._controlledTransformStream,b)}function d3(a,b){return t(a._transformAlgorithm(b),void 0,b=>{throw dU(a._controlledTransformStream,b),b})}function d4(a){let b=a._controlledTransformStream;c3(b._readable._readableStreamController),dV(b,TypeError("TransformStream terminated"))}function d5(a,b){let c=a._transformStreamController;return a._backpressure?t(a._backpressureChangePromise,()=>{let d=a._writable;if("erroring"===d._state)throw d._storedError;return d3(c,b)}):d3(c,b)}function d6(a,b){let c=a._transformStreamController;if(void 0!==c._finishPromise)return c._finishPromise;let d=a._readable;c._finishPromise=l((a,b)=>{c._finishPromise_resolve=a,c._finishPromise_reject=b});let e=c._cancelAlgorithm(b);return d0(c),q(e,()=>("errored"===d._state?ec(c,d._storedError):(c5(d._readableStreamController,b),eb(c)),null),a=>(c5(d._readableStreamController,a),ec(c,a),null)),c._finishPromise}function d7(a){let b=a._transformStreamController;if(void 0!==b._finishPromise)return b._finishPromise;let c=a._readable;b._finishPromise=l((a,c)=>{b._finishPromise_resolve=a,b._finishPromise_reject=c});let d=b._flushAlgorithm();return d0(b),q(d,()=>("errored"===c._state?ec(b,c._storedError):(c3(c._readableStreamController),eb(b)),null),a=>(c5(c._readableStreamController,a),ec(b,a),null)),b._finishPromise}function d8(a){return dX(a,!1),a._backpressureChangePromise}function d9(a,b){let c=a._transformStreamController;if(void 0!==c._finishPromise)return c._finishPromise;let d=a._writable;c._finishPromise=l((a,b)=>{c._finishPromise_resolve=a,c._finishPromise_reject=b});let e=c._cancelAlgorithm(b);return d0(c),q(e,()=>("errored"===d._state?ec(c,d._storedError):(cx(d._writableStreamController,b),dW(a),eb(c)),null),b=>(cx(d._writableStreamController,b),dW(a),ec(c,b),null)),c._finishPromise}function ea(a){return TypeError(`TransformStreamDefaultController.prototype.${a} can only be used on a TransformStreamDefaultController`)}function eb(a){void 0!==a._finishPromise_resolve&&(a._finishPromise_resolve(),a._finishPromise_resolve=void 0,a._finishPromise_reject=void 0)}function ec(a,b){void 0!==a._finishPromise_reject&&(v(a._finishPromise),a._finishPromise_reject(b),a._finishPromise_resolve=void 0,a._finishPromise_reject=void 0)}function ed(a){return TypeError(`TransformStream.prototype.${a} can only be used on a TransformStream`)}u(dY,"TransformStreamDefaultController"),Object.defineProperties(dY.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),g(dY.prototype.enqueue,"enqueue"),g(dY.prototype.error,"error"),g(dY.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dY.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),u(dZ,"IsTransformStreamDefaultController"),u(d$,"SetUpTransformStreamDefaultController"),u(d_,"SetUpTransformStreamDefaultControllerFromTransformer"),u(d0,"TransformStreamDefaultControllerClearAlgorithms"),u(d1,"TransformStreamDefaultControllerEnqueue"),u(d2,"TransformStreamDefaultControllerError"),u(d3,"TransformStreamDefaultControllerPerformTransform"),u(d4,"TransformStreamDefaultControllerTerminate"),u(d5,"TransformStreamDefaultSinkWriteAlgorithm"),u(d6,"TransformStreamDefaultSinkAbortAlgorithm"),u(d7,"TransformStreamDefaultSinkCloseAlgorithm"),u(d8,"TransformStreamDefaultSourcePullAlgorithm"),u(d9,"TransformStreamDefaultSourceCancelAlgorithm"),u(ea,"defaultControllerBrandCheckException"),u(eb,"defaultControllerFinishPromiseResolve"),u(ec,"defaultControllerFinishPromiseReject"),u(ed,"streamBrandCheckException"),a.ByteLengthQueuingStrategy=dF,a.CountQueuingStrategy=dJ,a.ReadableByteStreamController=aQ,a.ReadableStream=dt,a.ReadableStreamBYOBReader=bx,a.ReadableStreamBYOBRequest=aP,a.ReadableStreamDefaultController=c$,a.ReadableStreamDefaultReader=ah,a.TransformStream=dR,a.TransformStreamDefaultController=dY,a.WritableStream=bQ,a.WritableStreamDefaultController=cn,a.WritableStreamDefaultWriter=cb}(P)),P}function R(){if(b)return O;if(b=1,!globalThis.ReadableStream)try{let b=a.r(59639),{emitWarning:c}=b;try{b.emitWarning=()=>{},Object.assign(globalThis,a.r(418352)),b.emitWarning=c}catch(a){throw b.emitWarning=c,a}}catch{Object.assign(globalThis,Q())}try{let{Blob:b}=a.r(500874);b&&!b.prototype.stream&&(b.prototype.stream=u(function(a){let b=0,c=this;return new ReadableStream({type:"bytes",async pull(a){let d=await c.slice(b,Math.min(c.size,b+65536)).arrayBuffer();b+=d.byteLength,a.enqueue(new Uint8Array(d)),b===c.size&&a.close()}})},"name"))}catch{}return O}async function*S(a,b=!0){for(let c of a)if("stream"in c)yield*c.stream();else if(ArrayBuffer.isView(c))if(b){let a=c.byteOffset,b=c.byteOffset+c.byteLength;for(;a!==b;){let d=Math.min(b-a,65536),e=c.buffer.slice(a,a+d);a+=e.byteLength,yield new Uint8Array(e)}}else yield c;else{let a=0;for(;a!==c.size;){let b=await c.slice(a,Math.min(c.size,a+65536)).arrayBuffer();a+=b.byteLength,yield new Uint8Array(b)}}}u(Q,"requirePonyfill_es2018"),u(R,"requireStreams"),R(),u(S,"toIterator");let T=(E=class{constructor(a=[],b={}){if(x(this,A,[]),x(this,B,""),x(this,C,0),x(this,D,"transparent"),"object"!=typeof a||null===a)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof a[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof b&&"function"!=typeof b)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===b&&(b={});const c=new TextEncoder;for(const b of a){let a;a=ArrayBuffer.isView(b)?new Uint8Array(b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)):b instanceof ArrayBuffer?new Uint8Array(b.slice(0)):b instanceof E?b:c.encode(`${b}`),y(this,C,w(this,C)+(ArrayBuffer.isView(a)?a.byteLength:a.size)),w(this,A).push(a)}y(this,D,`${void 0===b.endings?"transparent":b.endings}`);const d=void 0===b.type?"":String(b.type);y(this,B,/^[\x20-\x7E]*$/.test(d)?d:"")}get size(){return w(this,C)}get type(){return w(this,B)}async text(){let a=new TextDecoder,b="";for await(let c of S(w(this,A),!1))b+=a.decode(c,{stream:!0});return b+a.decode()}async arrayBuffer(){let a=new Uint8Array(this.size),b=0;for await(let c of S(w(this,A),!1))a.set(c,b),b+=c.length;return a.buffer}stream(){let a=S(w(this,A),!0);return new globalThis.ReadableStream({type:"bytes",async pull(b){let c=await a.next();c.done?b.close():b.enqueue(c.value)},async cancel(){await a.return()}})}slice(a=0,b=this.size,c=""){let{size:d}=this,e=a<0?Math.max(d+a,0):Math.min(a,d),f=b<0?Math.max(d+b,0):Math.min(b,d),g=Math.max(f-e,0),h=w(this,A),j=[],k=0;for(let a of h){if(k>=g)break;let b=ArrayBuffer.isView(a)?a.byteLength:a.size;if(e&&b<=e)e-=b,f-=b;else{let c;ArrayBuffer.isView(a)?k+=(c=a.subarray(e,Math.min(b,f))).byteLength:k+=(c=a.slice(e,Math.min(b,f))).size,f-=b,j.push(c),e=0}}let l=new E([],{type:String(c).toLowerCase()});return y(l,C,g),y(l,A,j),l}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](a){return a&&"object"==typeof a&&"function"==typeof a.constructor&&("function"==typeof a.stream||"function"==typeof a.arrayBuffer)&&/^(Blob|File)$/.test(a[Symbol.toStringTag])}},A=new WeakMap,B=new WeakMap,C=new WeakMap,D=new WeakMap,u(E,"Blob"),E);Object.defineProperties(T.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let U=T,V=(H=class extends U{constructor(a,b,c={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(a,c),x(this,F,0),x(this,G,""),null===c&&(c={});const d=void 0===c.lastModified?Date.now():Number(c.lastModified);Number.isNaN(d)||y(this,F,d),y(this,G,String(b))}get name(){return w(this,G)}get lastModified(){return w(this,F)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](a){return!!a&&a instanceof U&&/^(File)$/.test(a[Symbol.toStringTag])}},F=new WeakMap,G=new WeakMap,u(H,"File"),H);var{toStringTag:W,iterator:X,hasInstance:Y}=Symbol,Z=Math.random,$="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),_=u((a,b,c)=>(a+="",/^(Blob|File)$/.test(b&&b[W])?[(c=void 0!==c?c+"":"File"==b[W]?b.name:"blob",a),b.name!==c||"blob"==b[W]?new V([b],c,b):b]:[a,b+""]),"f"),aa=u((a,b)=>(b?a:a.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"e$1"),ab=u((a,b,c)=>{if(b.length<c)throw TypeError(`Failed to execute '${a}' on 'FormData': ${c} arguments required, but only ${b.length} present.`)},"x");let ac=(J=class{constructor(...a){if(x(this,I,[]),a.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[W](){return"FormData"}[X](){return this.entries()}static[Y](a){return a&&"object"==typeof a&&"FormData"===a[W]&&!$.some(b=>"function"!=typeof a[b])}append(...a){ab("append",arguments,2),w(this,I).push(_(...a))}delete(a){ab("delete",arguments,1),a+="",y(this,I,w(this,I).filter(([b])=>b!==a))}get(a){ab("get",arguments,1),a+="";for(var b=w(this,I),c=b.length,d=0;d<c;d++)if(b[d][0]===a)return b[d][1];return null}getAll(a,b){return ab("getAll",arguments,1),b=[],a+="",w(this,I).forEach(c=>c[0]===a&&b.push(c[1])),b}has(a){return ab("has",arguments,1),a+="",w(this,I).some(b=>b[0]===a)}forEach(a,b){for(var[c,d]of(ab("forEach",arguments,1),this))a.call(b,d,c,this)}set(...a){ab("set",arguments,2);var b=[],c=!0;a=_(...a),w(this,I).forEach(d=>{d[0]===a[0]?c&&(c=!b.push(a)):b.push(d)}),c&&b.push(a),y(this,I,b)}*entries(){yield*w(this,I)}*keys(){for(var[a]of this)yield a}*values(){for(var[,a]of this)yield a}},I=new WeakMap,u(J,"FormData"),J);function ad(a,b=U){var c=`${Z()}${Z()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),d=[],e=`--${c}\r
Content-Disposition: form-data; name="`;return a.forEach((a,b)=>"string"==typeof a?d.push(e+aa(b)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):d.push(e+aa(b)+`"; filename="${aa(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),d.push(`--${c}--`),new b(d,{type:"multipart/form-data; boundary="+c})}u(ad,"formDataToBlob");let ae=class extends Error{constructor(a,b){super(a),Error.captureStackTrace(this,this.constructor),this.type=b}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};u(ae,"FetchBaseError");let af=ae,ag=class extends af{constructor(a,b,c){super(a,b),c&&(this.code=this.errno=c.code,this.erroredSysCall=c.syscall)}};u(ag,"FetchError");let ah=Symbol.toStringTag,ai=u(a=>"object"==typeof a&&"function"==typeof a.append&&"function"==typeof a.delete&&"function"==typeof a.get&&"function"==typeof a.getAll&&"function"==typeof a.has&&"function"==typeof a.set&&"function"==typeof a.sort&&"URLSearchParams"===a[ah],"isURLSearchParameters"),aj=u(a=>a&&"object"==typeof a&&"function"==typeof a.arrayBuffer&&"string"==typeof a.type&&"function"==typeof a.stream&&"function"==typeof a.constructor&&/^(Blob|File)$/.test(a[ah]),"isBlob"),ak=u(a=>"object"==typeof a&&("AbortSignal"===a[ah]||"EventTarget"===a[ah]),"isAbortSignal"),al=u((a,b)=>{let c=new URL(b).hostname,d=new URL(a).hostname;return c===d||c.endsWith(`.${d}`)},"isDomainOrSubdomain"),am=u((a,b)=>new URL(b).protocol===new URL(a).protocol,"isSameProtocol"),an=(0,k.promisify)(h.default.pipeline),ao=Symbol("Body internals"),ap=class{constructor(a,{size:b=0}={}){let c=null;null===a?a=null:ai(a)?a=j.Buffer.from(a.toString()):aj(a)||j.Buffer.isBuffer(a)||(k.types.isAnyArrayBuffer(a)?a=j.Buffer.from(a):ArrayBuffer.isView(a)?a=j.Buffer.from(a.buffer,a.byteOffset,a.byteLength):a instanceof h.default||(a instanceof ac?c=(a=ad(a)).type.split("=")[1]:a=j.Buffer.from(String(a))));let d=a;j.Buffer.isBuffer(a)?d=h.default.Readable.from(a):aj(a)&&(d=h.default.Readable.from(a.stream())),this[ao]={body:a,stream:d,boundary:c,disturbed:!1,error:null},this.size=b,a instanceof h.default&&a.on("error",a=>{let b=a instanceof af?a:new ag(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[ao].error=b})}get body(){return this[ao].stream}get bodyUsed(){return this[ao].disturbed}async arrayBuffer(){let{buffer:a,byteOffset:b,byteLength:c}=await ar(this);return a.slice(b,b+c)}async formData(){let b=this.headers.get("content-type");if(b.startsWith("application/x-www-form-urlencoded")){let a=new ac;for(let[b,c]of new URLSearchParams(await this.text()))a.append(b,c);return a}let{toFormData:c}=await a.A(941661);return c(this.body,b)}async blob(){let a=this.headers&&this.headers.get("content-type")||this[ao].body&&this[ao].body.type||"";return new U([await this.arrayBuffer()],{type:a})}async json(){return JSON.parse(await this.text())}async text(){let a=await ar(this);return new TextDecoder().decode(a)}buffer(){return ar(this)}};u(ap,"Body");let aq=ap;async function ar(a){if(a[ao].disturbed)throw TypeError(`body used already for: ${a.url}`);if(a[ao].disturbed=!0,a[ao].error)throw a[ao].error;let{body:b}=a;if(null===b||!(b instanceof h.default))return j.Buffer.alloc(0);let c=[],d=0;try{for await(let e of b){if(a.size>0&&d+e.length>a.size){let c=new ag(`content size at ${a.url} over limit: ${a.size}`,"max-size");throw b.destroy(c),c}d+=e.length,c.push(e)}}catch(b){throw b instanceof af?b:new ag(`Invalid response body while trying to fetch ${a.url}: ${b.message}`,"system",b)}if(!0===b.readableEnded||!0===b._readableState.ended)try{return c.every(a=>"string"==typeof a)?j.Buffer.from(c.join("")):j.Buffer.concat(c,d)}catch(b){throw new ag(`Could not create Buffer from response body for ${a.url}: ${b.message}`,"system",b)}throw new ag(`Premature close of server response while trying to fetch ${a.url}`)}aq.prototype.buffer=(0,k.deprecate)(aq.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(aq.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,k.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}}),u(ar,"consumeBody");let as=u((a,b)=>{let c,d,{body:e}=a[ao];if(a.bodyUsed)throw Error("cannot clone body after it is used");return e instanceof h.default&&"function"!=typeof e.getBoundary&&(c=new h.PassThrough({highWaterMark:b}),d=new h.PassThrough({highWaterMark:b}),e.pipe(c),e.pipe(d),a[ao].stream=c,e=d),e},"clone"),at=(0,k.deprecate)(a=>a.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),au=u((a,b)=>null===a?null:"string"==typeof a?"text/plain;charset=UTF-8":ai(a)?"application/x-www-form-urlencoded;charset=UTF-8":aj(a)?a.type||null:j.Buffer.isBuffer(a)||k.types.isAnyArrayBuffer(a)||ArrayBuffer.isView(a)?null:a instanceof ac?`multipart/form-data; boundary=${b[ao].boundary}`:a&&"function"==typeof a.getBoundary?`multipart/form-data;boundary=${at(a)}`:a instanceof h.default?null:"text/plain;charset=UTF-8","extractContentType"),av=u(a=>{let{body:b}=a[ao];return null===b?0:aj(b)?b.size:j.Buffer.isBuffer(b)?b.length:b&&"function"==typeof b.getLengthSync&&b.hasKnownLength&&b.hasKnownLength()?b.getLengthSync():null},"getTotalBytes"),aw=u(async(a,{body:b})=>{null===b?a.end():await an(b,a)},"writeToStream"),ax="function"==typeof e.default.validateHeaderName?e.default.validateHeaderName:a=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(a)){let b=TypeError(`Header name must be a valid HTTP token [${a}]`);throw Object.defineProperty(b,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),b}},ay="function"==typeof e.default.validateHeaderValue?e.default.validateHeaderValue:(a,b)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(b)){let b=TypeError(`Invalid character in header content ["${a}"]`);throw Object.defineProperty(b,"code",{value:"ERR_INVALID_CHAR"}),b}},az=class a extends URLSearchParams{constructor(b){let c=[];if(b instanceof a)for(const[a,d]of Object.entries(b.raw()))c.push(...d.map(b=>[a,b]));else if(null!=b)if("object"!=typeof b||k.types.isBoxedPrimitive(b))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{const a=b[Symbol.iterator];if(null==a)c.push(...Object.entries(b));else{if("function"!=typeof a)throw TypeError("Header pairs must be iterable");c=[...b].map(a=>{if("object"!=typeof a||k.types.isBoxedPrimitive(a))throw TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(2!==a.length)throw TypeError("Each header pair must be a name/value tuple");return[...a]})}}return super(c=c.length>0?c.map(([a,b])=>(ax(a),ay(a,String(b)),[String(a).toLowerCase(),String(b)])):void 0),new Proxy(this,{get(a,b,c){switch(b){case"append":case"set":return(c,d)=>(ax(c),ay(c,String(d)),URLSearchParams.prototype[b].call(a,String(c).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return c=>(ax(c),URLSearchParams.prototype[b].call(a,String(c).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,b,c)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(a){let b=this.getAll(a);if(0===b.length)return null;let c=b.join(", ");return/^content-encoding$/i.test(a)&&(c=c.toLowerCase()),c}forEach(a,b){for(let c of this.keys())Reflect.apply(a,b,[this.get(c),c,this])}*values(){for(let a of this.keys())yield this.get(a)}*entries(){for(let a of this.keys())yield[a,this.get(a)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((a,b)=>(a[b]=this.getAll(b),a),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((a,b)=>{let c=this.getAll(b);return"host"===b?a[b]=c[0]:a[b]=c.length>1?c:c[0],a},{})}};function aA(a=[]){return new az(a.reduce((a,b,c,d)=>(c%2==0&&a.push(d.slice(c,c+2)),a),[]).filter(([a,b])=>{try{return ax(a),ay(a,String(b)),!0}catch{return!1}}))}u(az,"Headers"),Object.defineProperties(az.prototype,["get","entries","forEach","values"].reduce((a,b)=>(a[b]={enumerable:!0},a),{})),u(aA,"fromRawHeaders");let aB=new Set([301,302,303,307,308]),aC=u(a=>aB.has(a),"isRedirect"),aD=Symbol("Response internals"),aE=class a extends aq{constructor(a=null,b={}){super(a,b);const c=null!=b.status?b.status:200,d=new az(b.headers);if(null!==a&&!d.has("Content-Type")){const b=au(a,this);b&&d.append("Content-Type",b)}this[aD]={type:"default",url:b.url,status:c,statusText:b.statusText||"",headers:d,counter:b.counter,highWaterMark:b.highWaterMark}}get type(){return this[aD].type}get url(){return this[aD].url||""}get status(){return this[aD].status}get ok(){return this[aD].status>=200&&this[aD].status<300}get redirected(){return this[aD].counter>0}get statusText(){return this[aD].statusText}get headers(){return this[aD].headers}get highWaterMark(){return this[aD].highWaterMark}clone(){return new a(as(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(b,c=302){if(!aC(c))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new a(null,{headers:{location:new URL(b).toString()},status:c})}static error(){let b=new a(null,{status:0,statusText:""});return b[aD].type="error",b}static json(b,c={}){let d=JSON.stringify(b);if(void 0===d)throw TypeError("data is not JSON serializable");let e=new az(c&&c.headers);return e.has("content-type")||e.set("content-type","application/json"),new a(d,{...c,headers:e})}get[Symbol.toStringTag](){return"Response"}};u(aE,"Response"),Object.defineProperties(aE.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let aF=u(a=>{if(a.search)return a.search;let b=a.href.length-1,c=a.hash||("#"===a.href[b]?"#":"");return"?"===a.href[b-c.length]?"?":""},"getSearch");function aG(a,b=!1){return null==a||(a=new URL(a),/^(about|blob|data):$/.test(a.protocol))?"no-referrer":(a.username="",a.password="",a.hash="",b&&(a.pathname="",a.search=""),a)}u(aG,"stripURLForUseAsAReferrer");let aH=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function aI(a){if(!aH.has(a))throw TypeError(`Invalid referrerPolicy: ${a}`);return a}function aJ(a){if(/^(http|ws)s:$/.test(a.protocol))return!0;let b=a.host.replace(/(^\[)|(]$)/g,""),c=(0,p.isIP)(b);return!!(4===c&&/^127\./.test(b)||6===c&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(b))||!("localhost"===a.host||a.host.endsWith(".localhost"))&&"file:"===a.protocol}function aK(a){return!!(/^about:(blank|srcdoc)$/.test(a)||"data:"===a.protocol||/^(blob|filesystem):$/.test(a.protocol))||aJ(a)}function aL(a,{referrerURLCallback:b,referrerOriginCallback:c}={}){if("no-referrer"===a.referrer||""===a.referrerPolicy)return null;let d=a.referrerPolicy;if("about:client"===a.referrer)return"no-referrer";let e=a.referrer,f=aG(e),g=aG(e,!0);f.toString().length>4096&&(f=g),b&&(f=b(f)),c&&(g=c(g));let h=new URL(a.url);switch(d){case"no-referrer":return"no-referrer";case"origin":return g;case"unsafe-url":return f;case"strict-origin":return aK(f)&&!aK(h)?"no-referrer":g.toString();case"strict-origin-when-cross-origin":return f.origin===h.origin?f:aK(f)&&!aK(h)?"no-referrer":g;case"same-origin":return f.origin===h.origin?f:"no-referrer";case"origin-when-cross-origin":return f.origin===h.origin?f:g;case"no-referrer-when-downgrade":return aK(f)&&!aK(h)?"no-referrer":f;default:throw TypeError(`Invalid referrerPolicy: ${d}`)}}function aM(a){let b=(a.get("referrer-policy")||"").split(/[,\s]+/),c="";for(let a of b)a&&aH.has(a)&&(c=a);return c}u(aI,"validateReferrerPolicy"),u(aJ,"isOriginPotentiallyTrustworthy"),u(aK,"isUrlPotentiallyTrustworthy"),u(aL,"determineRequestsReferrer"),u(aM,"parseReferrerPolicyFromHeader");let aN=Symbol("Request internals"),aO=u(a=>"object"==typeof a&&"object"==typeof a[aN],"isRequest"),aP=(0,k.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),aQ=class a extends aq{constructor(a,b={}){let c;if(aO(a)?c=new URL(a.url):(c=new URL(a),a={}),""!==c.username||""!==c.password)throw TypeError(`${c} is an url with embedded credentials.`);let d=b.method||a.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(d)&&(d=d.toUpperCase()),!aO(b)&&"data"in b&&aP(),(null!=b.body||aO(a)&&null!==a.body)&&("GET"===d||"HEAD"===d))throw TypeError("Request with GET/HEAD method cannot have body");const e=b.body?b.body:aO(a)&&null!==a.body?as(a):null;super(e,{size:b.size||a.size||0});const f=new az(b.headers||a.headers||{});if(null!==e&&!f.has("Content-Type")){const a=au(e,this);a&&f.set("Content-Type",a)}let g=aO(a)?a.signal:null;if("signal"in b&&(g=b.signal),null!=g&&!ak(g))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=null==b.referrer?a.referrer:b.referrer;if(""===h)h="no-referrer";else if(h){const a=new URL(h);h=/^about:(\/\/)?client$/.test(a)?"client":a}else h=void 0;this[aN]={method:d,redirect:b.redirect||a.redirect||"follow",headers:f,parsedURL:c,signal:g,referrer:h},this.follow=void 0===b.follow?void 0===a.follow?20:a.follow:b.follow,this.compress=void 0===b.compress?void 0===a.compress||a.compress:b.compress,this.counter=b.counter||a.counter||0,this.agent=b.agent||a.agent,this.highWaterMark=b.highWaterMark||a.highWaterMark||16384,this.insecureHTTPParser=b.insecureHTTPParser||a.insecureHTTPParser||!1,this.referrerPolicy=b.referrerPolicy||a.referrerPolicy||""}get method(){return this[aN].method}get url(){return(0,o.format)(this[aN].parsedURL)}get headers(){return this[aN].headers}get redirect(){return this[aN].redirect}get signal(){return this[aN].signal}get referrer(){return"no-referrer"===this[aN].referrer?"":"client"===this[aN].referrer?"about:client":this[aN].referrer?this[aN].referrer.toString():void 0}get referrerPolicy(){return this[aN].referrerPolicy}set referrerPolicy(a){this[aN].referrerPolicy=aI(a)}clone(){return new a(this)}get[Symbol.toStringTag](){return"Request"}};u(aQ,"Request"),Object.defineProperties(aQ.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let aR=u(a=>{let{parsedURL:b}=a[aN],c=new az(a[aN].headers);c.has("Accept")||c.set("Accept","*/*");let d=null;if(null===a.body&&/^(post|put)$/i.test(a.method)&&(d="0"),null!==a.body){let b=av(a);"number"!=typeof b||Number.isNaN(b)||(d=String(b))}d&&c.set("Content-Length",d),""===a.referrerPolicy&&(a.referrerPolicy="strict-origin-when-cross-origin"),a.referrer&&"no-referrer"!==a.referrer?a[aN].referrer=aL(a):a[aN].referrer="no-referrer",a[aN].referrer instanceof URL&&c.set("Referer",a.referrer),c.has("User-Agent")||c.set("User-Agent","node-fetch"),a.compress&&!c.has("Accept-Encoding")&&c.set("Accept-Encoding","gzip, deflate, br");let{agent:e}=a;"function"==typeof e&&(e=e(b));let f=aF(b),g={path:b.pathname+f,method:a.method,headers:c[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:a.insecureHTTPParser,agent:e};return{parsedURL:b,options:g}},"getNodeRequestOptions"),aS=class extends af{constructor(a,b="aborted"){super(a,b)}};function aT(){if(d)return c;if(d=1,!globalThis.DOMException)try{let{MessageChannel:b}=a.r(37702),c=new b().port1,d=new ArrayBuffer;c.postMessage(d,[d,d])}catch(a){"DOMException"===a.constructor.name&&(globalThis.DOMException=a.constructor)}return c=globalThis.DOMException}u(aS,"AbortError"),u(aT,"requireNodeDomexception");let aU=n(aT()),{stat:aV}=q.promises,aW=(u((a,b)=>aW((0,q.statSync)(a),a,b),"blobFromSync"),u((a,b)=>aV(a).then(c=>aW(c,a,b)),"blobFrom"),u((a,b)=>aV(a).then(c=>aX(c,a,b)),"fileFrom"),u((a,b)=>aX((0,q.statSync)(a),a,b),"fileFromSync"),u((a,b,c="")=>new U([new aZ({path:b,size:a.size,lastModified:a.mtimeMs,start:0})],{type:c}),"fromBlob")),aX=u((a,b,c="")=>new V([new aZ({path:b,size:a.size,lastModified:a.mtimeMs,start:0})],(0,r.basename)(b),{type:c,lastModified:a.mtimeMs}),"fromFile"),aY=class a{constructor(a){x(this,K),x(this,L),y(this,K,a.path),y(this,L,a.start),this.size=a.size,this.lastModified=a.lastModified}slice(b,c){return new a({path:w(this,K),lastModified:this.lastModified,size:c-b,start:w(this,L)+b})}async *stream(){let{mtimeMs:a}=await aV(w(this,K));if(a>this.lastModified)throw new aU("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,q.createReadStream)(w(this,K),{start:w(this,L),end:w(this,L)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}};K=new WeakMap,L=new WeakMap,u(aY,"BlobDataItem");let aZ=aY,a$=new Set(["data:","http:","https:"]);async function a_(a,b){return new Promise((c,d)=>{let j=new aQ(a,b),{parsedURL:k,options:l}=aR(j);if(!a$.has(k.protocol))throw TypeError(`node-fetch cannot load ${a}. URL scheme "${k.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===k.protocol){let a=z(j.url);c(new aE(a,{headers:{"Content-Type":a.typeFull}}));return}let m=("https:"===k.protocol?f.default:e.default).request,{signal:n}=j,o=null,p=u(()=>{let a=new aS("The operation was aborted.");d(a),j.body&&j.body instanceof h.default.Readable&&j.body.destroy(a),o&&o.body&&o.body.emit("error",a)},"abort");if(n&&n.aborted)return void p();let q=u(()=>{p(),s()},"abortAndFinalize"),r=m(k.toString(),l);n&&n.addEventListener("abort",q);let s=u(()=>{r.abort(),n&&n.removeEventListener("abort",q)},"finalize");r.on("error",a=>{d(new ag(`request to ${j.url} failed, reason: ${a.message}`,"system",a)),s()}),a0(r,a=>{o&&o.body&&o.body.destroy(a)}),process.version<"v14"&&r.on("socket",a=>{let b;a.prependListener("end",()=>{b=a._eventsCount}),a.prependListener("close",c=>{if(o&&b<a._eventsCount&&!c){let a=Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",o.body.emit("error",a)}})}),r.on("response",a=>{r.setTimeout(0);let e=aA(a.rawHeaders);if(aC(a.statusCode)){let f=e.get("Location"),g=null;try{g=null===f?null:new URL(f,j.url)}catch{if("manual"!==j.redirect){d(new ag(`uri requested responds with an invalid redirect URL: ${f}`,"invalid-redirect")),s();return}}switch(j.redirect){case"error":d(new ag(`uri requested responds with a redirect, redirect mode is set to error: ${j.url}`,"no-redirect")),s();return;case"manual":break;case"follow":{if(null===g)break;if(j.counter>=j.follow){d(new ag(`maximum redirect reached at: ${j.url}`,"max-redirect")),s();return}let f={headers:new az(j.headers),follow:j.follow,counter:j.counter+1,agent:j.agent,compress:j.compress,method:j.method,body:as(j),signal:j.signal,size:j.size,referrer:j.referrer,referrerPolicy:j.referrerPolicy};if(!al(j.url,g)||!am(j.url,g))for(let a of["authorization","www-authenticate","cookie","cookie2"])f.headers.delete(a);if(303!==a.statusCode&&j.body&&b.body instanceof h.default.Readable){d(new ag("Cannot follow redirect with body being a readable stream","unsupported-redirect")),s();return}(303===a.statusCode||(301===a.statusCode||302===a.statusCode)&&"POST"===j.method)&&(f.method="GET",f.body=void 0,f.headers.delete("content-length"));let k=aM(e);k&&(f.referrerPolicy=k),c(a_(new aQ(g,f))),s();return}default:return d(TypeError(`Redirect option '${j.redirect}' is not a valid value of RequestRedirect`))}}n&&a.once("end",()=>{n.removeEventListener("abort",q)});let f=(0,h.pipeline)(a,new h.PassThrough,a=>{a&&d(a)});process.version<"v12.10"&&a.on("aborted",q);let k={url:j.url,status:a.statusCode,statusText:a.statusMessage,headers:e,size:j.size,counter:j.counter,highWaterMark:j.highWaterMark},l=e.get("Content-Encoding");if(!j.compress||"HEAD"===j.method||null===l||204===a.statusCode||304===a.statusCode)return void c(o=new aE(f,k));let m={flush:g.default.Z_SYNC_FLUSH,finishFlush:g.default.Z_SYNC_FLUSH};if("gzip"===l||"x-gzip"===l)return void c(o=new aE(f=(0,h.pipeline)(f,g.default.createGunzip(m),a=>{a&&d(a)}),k));if("deflate"===l||"x-deflate"===l){let b=(0,h.pipeline)(a,new h.PassThrough,a=>{a&&d(a)});b.once("data",a=>{c(o=new aE(f=(15&a[0])==8?(0,h.pipeline)(f,g.default.createInflate(),a=>{a&&d(a)}):(0,h.pipeline)(f,g.default.createInflateRaw(),a=>{a&&d(a)}),k))}),b.once("end",()=>{o||c(o=new aE(f,k))});return}"br"===l?c(o=new aE(f=(0,h.pipeline)(f,g.default.createBrotliDecompress(),a=>{a&&d(a)}),k)):c(o=new aE(f,k))}),aw(r,j).catch(d)})}function a0(a,b){let c=j.Buffer.from(`0\r
\r
`),d=!1,e=!1,f;a.on("response",a=>{let{headers:b}=a;d="chunked"===b["transfer-encoding"]&&!b["content-length"]}),a.on("socket",g=>{let h=u(()=>{if(d&&!e){let a=Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",b(a)}},"onSocketClose"),k=u(a=>{(e=0===j.Buffer.compare(a.slice(-5),c))||!f||(e=0===j.Buffer.compare(f.slice(-3),c.slice(0,3))&&0===j.Buffer.compare(a.slice(-2),c.slice(3))),f=a},"onData");g.prependListener("close",h),g.on("data",k),a.on("close",()=>{g.removeListener("close",h),g.removeListener("data",k)})})}u(a_,"fetch$1"),u(a0,"fixResponseChunkedTransferBadEnding");let a1=new WeakMap,a2=new WeakMap;function a3(a){let b=a1.get(a);return console.assert(null!=b,"'this' is expected an Event object, but got",a),b}function a4(a){if(null!=a.passiveListener){"u">typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",a.passiveListener);return}a.event.cancelable&&(a.canceled=!0,"function"==typeof a.event.preventDefault&&a.event.preventDefault())}function a5(a,b){a1.set(this,{eventTarget:a,event:b,eventPhase:2,currentTarget:a,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:b.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let c=Object.keys(b);for(let a=0;a<c.length;++a){let b=c[a];b in this||Object.defineProperty(this,b,a6(b))}}function a6(a){return{get(){return a3(this).event[a]},set(b){a3(this).event[a]=b},configurable:!0,enumerable:!0}}function a7(a){return{value(){let b=a3(this).event;return b[a].apply(b,arguments)},configurable:!0,enumerable:!0}}function a8(a,b){let c=Object.keys(b);if(0===c.length)return a;function d(b,c){a.call(this,b,c)}u(d,"CustomEvent"),d.prototype=Object.create(a.prototype,{constructor:{value:d,configurable:!0,writable:!0}});for(let e=0;e<c.length;++e){let f=c[e];if(!(f in a.prototype)){let a="function"==typeof Object.getOwnPropertyDescriptor(b,f).value;Object.defineProperty(d.prototype,f,a?a7(f):a6(f))}}return d}function a9(a){if(null==a||a===Object.prototype)return a5;let b=a2.get(a);return null==b&&(b=a8(a9(Object.getPrototypeOf(a)),a),a2.set(a,b)),b}function ba(a,b){return new(a9(Object.getPrototypeOf(b)))(a,b)}function bb(a){return a3(a).immediateStopped}function bc(a,b){a3(a).eventPhase=b}function bd(a,b){a3(a).currentTarget=b}function be(a,b){a3(a).passiveListener=b}u(a3,"pd"),u(a4,"setCancelFlag"),u(a5,"Event"),a5.prototype={get type(){return a3(this).event.type},get target(){return a3(this).eventTarget},get currentTarget(){return a3(this).currentTarget},composedPath(){let a=a3(this).currentTarget;return null==a?[]:[a]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return a3(this).eventPhase},stopPropagation(){let a=a3(this);a.stopped=!0,"function"==typeof a.event.stopPropagation&&a.event.stopPropagation()},stopImmediatePropagation(){let a=a3(this);a.stopped=!0,a.immediateStopped=!0,"function"==typeof a.event.stopImmediatePropagation&&a.event.stopImmediatePropagation()},get bubbles(){return!!a3(this).event.bubbles},get cancelable(){return!!a3(this).event.cancelable},preventDefault(){a4(a3(this))},get defaultPrevented(){return a3(this).canceled},get composed(){return!!a3(this).event.composed},get timeStamp(){return a3(this).timeStamp},get srcElement(){return a3(this).eventTarget},get cancelBubble(){return a3(this).stopped},set cancelBubble(i){if(!i)return;let a=a3(this);a.stopped=!0,"boolean"==typeof a.event.cancelBubble&&(a.event.cancelBubble=!0)},get returnValue(){return!a3(this).canceled},set returnValue(i){i||a4(a3(this))},initEvent(){}},Object.defineProperty(a5.prototype,"constructor",{value:a5,configurable:!0,writable:!0}),u(a6,"defineRedirectDescriptor"),u(a7,"defineCallDescriptor"),u(a8,"defineWrapper"),u(a9,"getWrapper"),u(ba,"wrapEvent"),u(bb,"isStopped"),u(bc,"setEventPhase"),u(bd,"setCurrentTarget"),u(be,"setPassiveListener");let bf=new WeakMap;function bg(a){return null!==a&&"object"==typeof a}function bh(a){let b=bf.get(a);if(null==b)throw TypeError("'this' is expected an EventTarget object, but got another value.");return b}function bi(a){return{get(){let b=bh(this).get(a);for(;null!=b;){if(3===b.listenerType)return b.listener;b=b.next}return null},set(b){"function"==typeof b||bg(b)||(b=null);let c=bh(this),d=null,e=c.get(a);for(;null!=e;)3===e.listenerType?null!==d?d.next=e.next:null!==e.next?c.set(a,e.next):c.delete(a):d=e,e=e.next;if(null!==b){let e={listener:b,listenerType:3,passive:!1,once:!1,next:null};null===d?c.set(a,e):d.next=e}},configurable:!0,enumerable:!0}}function bj(a,b){Object.defineProperty(a,`on${b}`,bi(b))}function bk(a){function b(){bl.call(this)}u(b,"CustomEventTarget"),b.prototype=Object.create(bl.prototype,{constructor:{value:b,configurable:!0,writable:!0}});for(let c=0;c<a.length;++c)bj(b.prototype,a[c]);return b}function bl(){if(this instanceof bl)return void bf.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return bk(arguments[0]);if(arguments.length>0){let a=Array(arguments.length);for(let b=0;b<arguments.length;++b)a[b]=arguments[b];return bk(a)}throw TypeError("Cannot call a class as a function")}u(bg,"isObject"),u(bh,"getListeners"),u(bi,"defineEventAttributeDescriptor"),u(bj,"defineEventAttribute"),u(bk,"defineCustomEventTarget"),u(bl,"EventTarget"),bl.prototype={addEventListener(a,b,c){if(null==b)return;if("function"!=typeof b&&!bg(b))throw TypeError("'listener' should be a function or an object.");let d=bh(this),e=bg(c),f=(e?c.capture:c)?1:2,g={listener:b,listenerType:f,passive:e&&!!c.passive,once:e&&!!c.once,next:null},h=d.get(a);if(void 0===h)return void d.set(a,g);let j=null;for(;null!=h;){if(h.listener===b&&h.listenerType===f)return;j=h,h=h.next}j.next=g},removeEventListener(a,b,c){if(null==b)return;let d=bh(this),e=(bg(c)?c.capture:c)?1:2,f=null,g=d.get(a);for(;null!=g;){if(g.listener===b&&g.listenerType===e)return void(null!==f?f.next=g.next:null!==g.next?d.set(a,g.next):d.delete(a));f=g,g=g.next}},dispatchEvent(a){if(null==a||"string"!=typeof a.type)throw TypeError('"event.type" should be a string.');let b=bh(this),c=a.type,d=b.get(c);if(null==d)return!0;let e=ba(this,a),f=null;for(;null!=d;){if(d.once?null!==f?f.next=d.next:null!==d.next?b.set(c,d.next):b.delete(c):f=d,be(e,d.passive?d.listener:null),"function"==typeof d.listener)try{d.listener.call(this,e)}catch(a){"u">typeof console&&"function"==typeof console.error&&console.error(a)}else 3!==d.listenerType&&"function"==typeof d.listener.handleEvent&&d.listener.handleEvent(e);if(bb(e))break;d=d.next}return be(e,null),bc(e,0),bd(e,null),!e.defaultPrevented}},Object.defineProperty(bl.prototype,"constructor",{value:bl,configurable:!0,writable:!0});let bm=class extends bl{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let a=bp.get(this);if("boolean"!=typeof a)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return a}};function bn(){let a=Object.create(bm.prototype);return bl.call(a),bp.set(a,!1),a}function bo(a){!1===bp.get(a)&&(bp.set(a,!0),a.dispatchEvent({type:"abort"}))}u(bm,"AbortSignal"),bj(bm.prototype,"abort"),u(bn,"createAbortSignal"),u(bo,"abortSignal");let bp=new WeakMap;Object.defineProperties(bm.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(bm.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});let bq=(u(M=class{constructor(){br.set(this,bn())}get signal(){return bs(this)}abort(){bo(bs(this))}},"AbortController"),M),br=new WeakMap;function bs(a){let b=br.get(a);if(null==b)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===a?"null":typeof a}`);return b}u(bs,"getSignal"),Object.defineProperties(bq.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(bq.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var bt=Object.defineProperty,bu=u((a,b)=>bt(a,"name",{value:b,configurable:!0}),"e");function bv(){globalThis.process?.versions?.node||globalThis.process?.env?.DISABLE_NODE_FETCH_NATIVE_WARN||console.warn("[node-fetch-native] Node.js compatible build of `node-fetch-native` is being used in a non-Node.js environment. Please make sure you are using proper export conditions or report this issue to https://github.com/unjs/node-fetch-native. You can set `process.env.DISABLE_NODE_FETCH_NATIVE_WARN` to disable this warning.")}bv(),u(bv,"s"),bu(bv,"checkNodeEnvironment"),a.s(["AbortController",()=>bq,"Blob",()=>U,"File",()=>V,"FormData",()=>ac,"Headers",()=>az,"Request",()=>aQ,"Response",()=>aE,"fetch",()=>a_],320695)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2a1baa66._.js.map